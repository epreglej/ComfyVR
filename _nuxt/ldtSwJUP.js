import{a7 as B}from"./COiAy3rL.js";function E(L,y){for(var r=0;r<y.length;r++){const x=y[r];if(typeof x!="string"&&!Array.isArray(x)){for(const d in x)if(d!=="default"&&!(d in L)){const c=Object.getOwnPropertyDescriptor(x,d);c&&Object.defineProperty(L,d,c.get?c:{enumerable:!0,get:()=>x[d]})}}}return Object.freeze(Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}))}var X={exports:{}};(function(L){(function(y){L.exports?(y.default=y,L.exports=y):y(typeof Highcharts<"u"?Highcharts:void 0)})(function(y){var r=y?y._modules:{};function x(d,c,M,v){d.hasOwnProperty(c)||(d[c]=v.apply(null,M),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:d[c]}})))}x(r,"Series/ArcDiagram/ArcDiagramPoint.js",[r["Series/NodesComposition.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(d,c,M){let{seriesTypes:{sankey:{prototype:{pointClass:v}}}}=c,{extend:P}=M;class D extends v{isValid(){return!0}}return P(D.prototype,{setState:d.setNodeState}),D}),x(r,"Series/ArcDiagram/ArcDiagramSeries.js",[r["Series/ArcDiagram/ArcDiagramPoint.js"],r["Series/Sankey/SankeyColumnComposition.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(d,c,M,v,P,D){let{prototype:{symbols:w}}=P,{seriesTypes:{column:N,sankey:W}}=v,{extend:z,merge:T,pick:O,relativeLength:H}=D;class j extends W{createNodeColumns(){let t=this,n=t.chart,e=c.compose([],t);return e.sankeyColumn.maxLength=n.inverted?n.plotHeight:n.plotWidth,e.sankeyColumn.getTranslationFactor=s=>{let S=e.slice(),l=this.options.minLinkWidth||0,g,i=0,u,p,h=0,o=1,a=0,f=(n.plotSizeX||0)-(s.options.marker&&s.options.marker.lineWidth||0)-(e.length-1)*s.nodePadding;for(;e.length;){for(i=f/e.sankeyColumn.sum(),g=!1,u=e.length;u--;){p=e[u].getSum()*i*o;let m=Math.min(n.plotHeight,n.plotWidth);p>m?o=Math.min(m/p,o):p<l&&(e.splice(u,1),f-=l,p=l,g=!0),a+=p*(1-o)/2,h=Math.max(h,p)}if(!g)break}return e.length=0,S.forEach(m=>{m.scale=o,e.push(m)}),e.sankeyColumn.maxRadius=h,e.sankeyColumn.scale=o,e.sankeyColumn.additionalSpace=a,i},e.sankeyColumn.offset=function(s,S){let l=s.series.options.equalNodes,g=t.nodePadding,i=Math.min(n.plotWidth,n.plotHeight,(e.sankeyColumn.maxLength||0)/t.nodes.length-g),u=e.sankeyColumn.additionalSpace||0,p;for(let h=0;h<e.length;h++){let o=e[h].getSum()*(e.sankeyColumn.scale||0),a=l?i:Math.max(o*S,t.options.minLinkWidth||0);if(p=o?a+g:0,e[h]===s)return{relativeLeft:u+H(s.options.offset||0,p)};u+=p}},t.nodes.forEach(function(s){s.column=0,e.push(s)}),[e]}translateLink(t){let n=t.fromNode,e=t.toNode,s=this.chart,S=this.translationFactor,l=t.options,g=this.options,i=O(l.linkWeight,g.linkWeight,Math.max((t.weight||0)*S*n.scale,this.options.minLinkWidth||0)),u=t.series.options.centeredLinks,p=n.nodeY,h=(k,b)=>{let C=(k.offset(t,b)||0)*S;return Math.min(k.nodeX+C,k.nodeX+(k.shapeArgs&&k.shapeArgs.height||0)-i)},o=u?n.nodeX+((n.shapeArgs.height||0)-i)/2:h(n,"linksFrom"),a=u?e.nodeX+((e.shapeArgs.height||0)-i)/2:h(e,"linksTo"),f=p;o>a&&([o,a]=[a,o]),g.reversed&&([o,a]=[a,o],f=(s.plotSizeY||0)-f),t.shapeType="path",t.linkBase=[o,o+i,a,a+i];let m=(a+i-o)/Math.abs(a+i-o)*O(g.linkRadius,Math.min(Math.abs(a+i-o)/2,n.nodeY-Math.abs(i)));t.shapeArgs={d:[["M",o,f],["A",(a+i-o)/2,m,0,0,1,a+i,f],["L",a,f],["A",(a-o-i)/2,m-i,0,0,0,o+i,f],["Z"]]},t.dlBox={x:o+(a-o)/2,y:f-m,height:i,width:0},t.tooltipPos=s.inverted?[(s.plotSizeY||0)-t.dlBox.y-i/2,(s.plotSizeX||0)-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+i/2],t.y=t.plotY=1,t.x=t.plotX=1,t.color||(t.color=n.color)}translateNode(t,n){let e=this.translationFactor,s=this.chart,S=s.inverted?s.plotWidth:s.plotHeight,l=this.options,g=Math.min(s.plotWidth,s.plotHeight,S/t.series.nodes.length-this.nodePadding),i=t.getSum()*(n.sankeyColumn.scale||0),u=l.equalNodes?g:Math.max(i*e,this.options.minLinkWidth||0),p=Math.round(l.marker&&l.marker.lineWidth||0)%2/2,h=n.sankeyColumn.offset(t,e),o=Math.floor(O(h&&h.absoluteLeft,(n.sankeyColumn.left(e)||0)+(h&&h.relativeLeft||0)))+p,a=T(l.marker,t.options.marker),f=a.symbol,m=a.radius,k=parseInt(l.offset,10)*((s.inverted?s.plotWidth:s.plotHeight)-(Math.floor(this.colDistance*(t.column||0)+(a.lineWidth||0)/2)+p+(n.sankeyColumn.scale||0)*(n.sankeyColumn.maxRadius||0)/2))/100;if(t.sum=i,i){t.nodeX=o,t.nodeY=k;let b=t.options.width||l.width||u,C=t.options.height||l.height||u,A=k;l.reversed&&(A=(s.plotSizeY||0)-k,s.inverted&&(A=(s.plotSizeY||0)-k)),this.mapOptionsToLevel&&(t.dlOptions=W.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options})),t.plotX=1,t.plotY=1,t.tooltipPos=s.inverted?[(s.plotSizeY||0)-A-C/2,(s.plotSizeX||0)-o-b/2]:[o+b/2,A+C/2],t.shapeType="path",t.shapeArgs={d:w[f||"circle"](o,A-(m||C)/2,m||b,m||C),width:m||b,height:m||C},t.dlBox={x:o+b/2,y:A,height:0,width:0}}else t.dlOptions={enabled:!1}}drawDataLabels(){if(this.options.dataLabels){let t=this.options.dataLabels.textPath;N.prototype.drawDataLabels.call(this,this.nodes),this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,N.prototype.drawDataLabels.call(this,this.data),this.options.dataLabels.textPath=t}}pointAttribs(t,n){if(t&&t.isNode){let{...e}=M.prototype.pointAttribs.apply(this,arguments);return e}return super.pointAttribs.apply(this,arguments)}markerAttribs(t){return t.isNode?super.markerAttribs.apply(this,arguments):{}}}return j.defaultOptions=T(W.defaultOptions,{centeredLinks:!1,offset:"100%",equalNodes:!1,reversed:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{symbol:"circle",fillOpacity:1,lineWidth:0,states:{}}}),z(j.prototype,{orderNodes:!1}),j.prototype.pointClass=d,v.registerSeriesType("arcdiagram",j),j}),x(r,"masters/modules/arc-diagram.src.js",[r["Core/Globals.js"]],function(d){return d})})})(X);var Y=X.exports;const R=B(Y),q=E({__proto__:null,default:R},[Y]);export{q as a};
