import{S as ae}from"./CnF9CK4p.js";function he(te,Z){for(var g=0;g<Z.length;g++){const U=Z[g];if(typeof U!="string"&&!Array.isArray(U)){for(const u in U)if(u!=="default"&&!(u in te)){const m=Object.getOwnPropertyDescriptor(U,u);m&&Object.defineProperty(te,u,m.get?m:{enumerable:!0,get:()=>U[u]})}}}return Object.freeze(Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}))}var le={exports:{}};(function(te){(function(Z){te.exports?(Z.default=Z,te.exports=Z):Z(typeof Highcharts<"u"?Highcharts:void 0)})(function(Z){var g=Z?Z._modules:{};function U(u,m,B,A){u.hasOwnProperty(m)||(u[m]=A.apply(null,B),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:m,module:u[m]}})))}U(g,"Extensions/Breadcrumbs/BreadcrumbsDefaults.js",[],function(){return{lang:{mainBreadcrumb:"Main"},options:{buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#334eff"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666",fontSize:"0.8em"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7}}}),U(g,"Extensions/Breadcrumbs/Breadcrumbs.js",[g["Extensions/Breadcrumbs/BreadcrumbsDefaults.js"],g["Core/Templating.js"],g["Core/Globals.js"],g["Core/Utilities.js"]],function(u,m,B,A){let{format:P}=m,{composed:S}=B,{addEvent:D,defined:L,extend:R,fireEvent:x,isString:p,merge:v,objectEach:T,pick:I,pushUnique:k}=A;function H(){if(this.breadcrumbs){let w=this.resetZoomButton&&this.resetZoomButton.getBBox(),r=this.breadcrumbs.options;w&&r.position.align==="right"&&r.relativeTo==="plotBox"&&this.breadcrumbs.alignBreadcrumbsGroup(-w.width-r.buttonSpacing)}}function E(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}function _(){let w=this.breadcrumbs;if(w&&!w.options.floating&&w.level){let r=w.options,d=r.buttonTheme,b=(d.height||0)+2*(d.padding||0)+r.buttonSpacing,f=r.position.verticalAlign;f==="bottom"?(this.marginBottom=(this.marginBottom||0)+b,w.yOffset=b):f!=="middle"?(this.plotTop+=b,w.yOffset=-b):w.yOffset=void 0}}function K(){this.breadcrumbs&&this.breadcrumbs.redraw()}function V(w){w.resetSelection===!0&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}class N{static compose(r,d){k(S,"Breadcrumbs")&&(D(r,"destroy",E),D(r,"afterShowResetZoom",H),D(r,"getMargins",_),D(r,"redraw",K),D(r,"selection",V),R(d.lang,u.lang))}constructor(r,d){this.elementList={},this.isDirty=!0,this.level=0,this.list=[];let b=v(r.options.drilldown&&r.options.drilldown.drillUpButton,N.defaultOptions,r.options.navigation&&r.options.navigation.breadcrumbs,d);this.chart=r,this.options=b||{}}updateProperties(r){this.setList(r),this.setLevel(),this.isDirty=!0}setList(r){this.list=r}setLevel(){this.level=this.list.length&&this.list.length-1}getLevel(){return this.level}getButtonText(r){let d=this.chart,b=this.options,f=d.options.lang,M=I(b.format,b.showFullPath?"{level.name}":"← {level.name}"),O=f&&I(f.drillUpText,f.mainBreadcrumb),W=b.formatter&&b.formatter(r)||P(M,{level:r.levelOptions},d)||"";return(p(W)&&!W.length||W==="← ")&&L(O)&&(W=b.showFullPath?O:"← "+O),W}redraw(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1}render(){let r=this.chart,d=this.options;!this.group&&d&&(this.group=r.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:d.zIndex}).add()),d.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()}renderFullPathButtons(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()}renderSingleButton(){let r=this.chart,d=this.list,b=this.options.buttonSpacing;this.destroyListElements();let f=this.group?this.group.getBBox().width:b,M=d[d.length-2];!r.drillUpButton&&this.level>0?r.drillUpButton=this.renderButton(M,f,b):r.drillUpButton&&(this.level>0?this.updateSingleButton():this.destroySingleButton())}alignBreadcrumbsGroup(r){if(this.group){let d=this.options,b=d.buttonTheme,f=d.position,M=d.relativeTo==="chart"||d.relativeTo==="spacingBox"?void 0:"plotBox",O=this.group.getBBox(),W=2*(b.padding||0)+d.buttonSpacing;f.width=O.width+W,f.height=O.height+W;let C=v(f);r&&(C.x+=r),this.options.rtl&&(C.x+=f.width),C.y=I(C.y,this.yOffset,0),this.group.align(C,!0,M)}}renderButton(r,d,b){let f=this,M=this.chart,O=f.options,W=v(O.buttonTheme),C=M.renderer.button(f.getButtonText(r),d,b,function(j){let $,G=O.events&&O.events.click;G&&($=G.call(f,j,r)),$!==!1&&(O.showFullPath?j.newLevel=r.level:j.newLevel=f.level-1,x(f,"up",j))},W).addClass("highcharts-breadcrumbs-button").add(f.group);return M.styledMode||C.attr(O.style),C}renderSeparator(r,d){let b=this.chart,f=this.options.separator,M=b.renderer.label(f.text,r,d,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group);return b.styledMode||M.css(f.style),M}update(r){v(!0,this.options,r),this.destroy(),this.isDirty=!0}updateSingleButton(){let r=this.chart,d=this.list[this.level-1];r.drillUpButton&&r.drillUpButton.attr({text:this.getButtonText(d)})}destroy(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0}destroyListElements(r){let d=this.elementList;T(d,(b,f)=>{(r||!d[f].updated)&&((b=d[f]).button&&b.button.destroy(),b.separator&&b.separator.destroy(),delete b.button,delete b.separator,delete d[f])}),r&&(this.elementList={})}destroySingleButton(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)}resetElementListState(){T(this.elementList,r=>{r.updated=!1})}updateListElements(){let r=this.elementList,d=this.options.buttonSpacing,b=this.list,f=this.options.rtl,M=f?-1:1,O=function(G,J){return M*G.getBBox().width+M*J},W=function(G,J,Y){G.translate(J-G.getBBox().width,Y)},C=this.group?O(this.group,d):d,j,$;for(let G=0,J=b.length;G<J;++G){let Y,Q,ee=G===J-1;r[($=b[G]).level]?(Y=(j=r[$.level]).button,j.separator||ee?j.separator&&ee&&(j.separator.destroy(),delete j.separator):(C+=M*d,j.separator=this.renderSeparator(C,d),f&&W(j.separator,C,d),C+=O(j.separator,d)),r[$.level].updated=!0):(Y=this.renderButton($,C,d),f&&W(Y,C,d),C+=O(Y,d),ee||(Q=this.renderSeparator(C,d),f&&W(Q,C,d),C+=O(Q,d)),r[$.level]={button:Y,separator:Q,updated:!0}),Y&&Y.setState(ee?2:0)}}}return N.defaultOptions=u.options,N}),U(g,"Series/ColorMapComposition.js",[g["Core/Series/SeriesRegistry.js"],g["Core/Utilities.js"]],function(u,m){var B;let{column:{prototype:A}}=u.seriesTypes,{addEvent:P,defined:S}=m;return function(D){function L(R){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:R&&R.state==="hover"?1:0})}D.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return this.value!==null&&this.value!==1/0&&this.value!==-1/0&&(this.value===void 0||!isNaN(this.value))}},D.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(R){let x={};return S(R.color)&&(!R.state||R.state==="normal")&&(x[this.colorProp||"fill"]=R.color),x},pointAttribs:A.pointAttribs},D.compose=function(R){return P(R.prototype.pointClass,"afterSetState",L),R}}(B||(B={})),B}),U(g,"Series/Treemap/TreemapAlgorithmGroup.js",[],function(){return class{constructor(u,m,B,A){this.height=u,this.width=m,this.plot=A,this.direction=B,this.startDirection=B,this.total=0,this.nW=0,this.lW=0,this.nH=0,this.lH=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(P,S){return Math.max(P/S,S/P)}}}addElement(u){this.lP.total=this.elArr[this.elArr.length-1],this.total=this.total+u,this.direction===0?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(u)}reset(){this.nW=0,this.lW=0,this.elArr=[],this.total=0}}}),U(g,"Series/Treemap/TreemapNode.js",[],function(){return class{constructor(){this.childrenTotal=0,this.visible=!1}init(u,m,B,A,P,S,D){return this.id=u,this.i=m,this.children=B,this.height=A,this.level=P,this.series=S,this.parent=D,this}}}),U(g,"Series/DrawPointUtilities.js",[],function(){return{draw:function(u,m){let{animatableAttribs:B,onComplete:A,css:P,renderer:S}=m,D=u.series&&u.series.chart.hasRendered?void 0:u.series&&u.series.options.animation,L=u.graphic;if(m.attribs={...m.attribs,class:u.getClassName()},u.shouldDraw())L||(L=m.shapeType==="text"?S.text():m.shapeType==="image"?S.image(m.imageUrl||"").attr(m.shapeArgs||{}):S[m.shapeType](m.shapeArgs||{}),u.graphic=L,L.add(m.group)),P&&L.css(P),L.attr(m.attribs).animate(B,!m.isNew&&D,A);else if(L){let R=()=>{u.graphic=L=L&&L.destroy(),typeof A=="function"&&A()};Object.keys(B).length?L.animate(B,void 0,()=>R()):R()}}}}),U(g,"Series/Treemap/TreemapPoint.js",[g["Series/DrawPointUtilities.js"],g["Core/Series/SeriesRegistry.js"],g["Core/Utilities.js"]],function(u,m,B){let{pie:{prototype:{pointClass:A}},scatter:{prototype:{pointClass:P}}}=m.seriesTypes,{extend:S,isNumber:D,pick:L}=B;class R extends P{constructor(){super(...arguments),this.shapeType="rect"}draw(p){u.draw(this,p)}getClassName(){let p=this.series,v=p.options,T=super.getClassName();return this.node.level<=p.nodeMap[p.rootNode].level?T+=" highcharts-above-level":this.node.isLeaf||L(v.interactByLeaf,!v.allowTraversingTree)?this.node.isLeaf||(T+=" highcharts-internal-node"):T+=" highcharts-internal-node-interactive",T}isValid(){return!!(this.id||D(this.value))}setState(p){super.setState.apply(this,arguments),this.graphic&&this.graphic.attr({zIndex:p==="hover"?1:0})}shouldDraw(){return D(this.plotY)&&this.y!==null}}return S(R.prototype,{setVisible:A.prototype.setVisible}),R}),U(g,"Series/Treemap/TreemapSeriesDefaults.js",[g["Core/Series/SeriesRegistry.js"],g["Core/Utilities.js"]],function(u,m){let{isString:B}=m;return{allowTraversingTree:!1,animationLimit:250,borderRadius:0,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){let A=this&&this.point?this.point:{};return B(A.name)?A.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:u.seriesTypes.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}},legendSymbol:"rectangle"}}),U(g,"Series/Treemap/TreemapUtilities.js",[],function(){var u;return(u||(u={})).recursive=function m(B,A,P){let S=A.call(P||this,B);S!==!1&&m(S,A,P)},u}),U(g,"Series/TreeUtilities.js",[g["Core/Color/Color.js"],g["Core/Utilities.js"]],function(u,m){let{extend:B,isArray:A,isNumber:P,isObject:S,merge:D,pick:L,relativeLength:R}=m;return{getColor:function(x,p){let v,T,I,k,H,E,_=p.index,K=p.mapOptionsToLevel,V=p.parentColor,N=p.parentColorIndex,w=p.series,r=p.colors,d=p.siblings,b=w.points,f=w.chart.options.chart;return x&&(v=b[x.i],T=K[x.level]||{},v&&T.colorByPoint&&(k=v.index%(r?r.length:f.colorCount),I=r&&r[k]),w.chart.styledMode||(H=L(v&&v.options.color,T&&T.color,I,V&&(M=>{let O=T&&T.colorVariation;return O&&O.key==="brightness"&&_&&d?u.parse(M).brighten(O.to*(_/d)).get():M})(V),w.color)),E=L(v&&v.options.colorIndex,T&&T.colorIndex,k,N,p.colorIndex)),{color:H,colorIndex:E}},getLevelOptions:function(x){let p,v,T,I,k,H,E={};if(S(x))for(I=P(x.from)?x.from:1,H=x.levels,v={},p=S(x.defaults)?x.defaults:{},A(H)&&(v=H.reduce((_,K)=>{let V,N,w;return S(K)&&P(K.level)&&(N=L((w=D({},K)).levelIsConstant,p.levelIsConstant),delete w.levelIsConstant,delete w.level,S(_[V=K.level+(N?0:I-1)])?D(!0,_[V],w):_[V]=w),_},{})),k=P(x.to)?x.to:1,T=0;T<=k;T++)E[T]=D({},p,S(v[T])?v[T]:{});return E},getNodeWidth:function(x,p){let{chart:v,options:T}=x,{nodeDistance:I=0,nodeWidth:k=0}=T,{plotSizeX:H=1}=v;if(k==="auto"){if(typeof I=="string"&&/%$/.test(I))return H/(p+parseFloat(I)/100*(p-1));let E=Number(I);return(H+E)/(p||1)-E}return R(k,H)},setTreeValues:function x(p,v){let T=v.before,I=v.idRoot,k=v.mapIdToNode[I],H=v.levelIsConstant!==!1,E=v.points[p.i],_=E&&E.options||{},K=[],V=0;p.levelDynamic=p.level-(H?0:k.level),p.name=L(E&&E.name,""),p.visible=I===p.id||v.visible===!0,typeof T=="function"&&(p=T(p,v)),p.children.forEach((w,r)=>{let d=B({},v);B(d,{index:r,siblings:p.children.length,visible:p.visible}),w=x(w,d),K.push(w),w.visible&&(V+=w.val)});let N=L(_.value,V);return p.visible=N>=0&&(V>0||p.visible),p.children=K,p.childrenTotal=V,p.isLeaf=p.visible&&!V,p.val=N,p},updateRootId:function(x){let p,v;return S(x)&&(v=S(x.options)?x.options:{},p=L(x.rootNode,v.rootId,""),S(x.userOptions)&&(x.userOptions.rootId=p),x.rootNode=p),p}}}),U(g,"Series/Treemap/TreemapSeries.js",[g["Extensions/Breadcrumbs/Breadcrumbs.js"],g["Core/Color/Color.js"],g["Series/ColorMapComposition.js"],g["Core/Globals.js"],g["Core/Series/SeriesRegistry.js"],g["Series/Treemap/TreemapAlgorithmGroup.js"],g["Series/Treemap/TreemapNode.js"],g["Series/Treemap/TreemapPoint.js"],g["Series/Treemap/TreemapSeriesDefaults.js"],g["Series/Treemap/TreemapUtilities.js"],g["Series/TreeUtilities.js"],g["Core/Utilities.js"]],function(u,m,B,A,P,S,D,L,R,x,p,v){let{parse:T}=m,{composed:I,noop:k}=A,{column:H,scatter:E}=P.seriesTypes,{getColor:_,getLevelOptions:K,updateRootId:V}=p,{addEvent:N,correctFloat:w,defined:r,error:d,extend:b,fireEvent:f,isArray:M,isObject:O,isString:W,merge:C,pick:j,pushUnique:$,stableSort:G}=v,J=!1;function Y(){let ee,e=this.xAxis,t=this.yAxis;e&&t&&(this.is("treemap")?(ee={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:100,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]},b(t.options,ee),b(e.options,ee),J=!0):J&&(t.setOptions(t.userOptions),e.setOptions(e.userOptions),J=!1))}class Q extends E{static compose(e){$(I,"TreemapSeries")&&N(e,"afterBindAxes",Y)}algorithmCalcPoints(e,t,i,o){let l=i.plot,a=i.elArr.length-1,s,h,c,n,y=i.lW,q=i.lH,z,F=0;for(let X of(t?(y=i.nW,q=i.nH):z=i.elArr[a],i.elArr))(t||F<a)&&(i.direction===0?(s=l.x,h=l.y,n=X/(c=y)):(s=l.x,h=l.y,c=X/(n=q)),o.push({x:s,y:h,width:c,height:w(n)}),i.direction===0?l.y=l.y+n:l.x=l.x+c),F+=1;i.reset(),i.direction===0?i.width=i.width-y:i.height=i.height-q,l.y=l.parent.y+(l.parent.height-i.height),l.x=l.parent.x+(l.parent.width-i.width),e&&(i.direction=1-i.direction),t||i.addElement(z)}algorithmFill(e,t,i){let o=[],l,a=t.direction,s=t.x,h=t.y,c=t.width,n=t.height,y,q,z,F;for(let X of i)l=t.width*t.height*(X.val/t.val),y=s,q=h,a===0?(c-=z=l/(F=n),s+=z):(n-=F=l/(z=c),h+=F),o.push({x:y,y:q,width:z,height:F}),e&&(a=1-a);return o}algorithmLowAspectRatio(e,t,i){let o=[],l={x:t.x,y:t.y,parent:t},a=t.direction,s=i.length-1,h=new S(t.height,t.width,a,l),c,n=0;for(let y of i)c=t.width*t.height*(y.val/t.val),h.addElement(c),h.lP.nR>h.lP.lR&&this.algorithmCalcPoints(e,!1,h,o,l),n===s&&this.algorithmCalcPoints(e,!0,h,o,l),++n;return o}alignDataLabel(e,t,i){let o=i.style;o&&!r(o.textOverflow)&&t.text&&t.getBBox().width>(t.text.textWidth||0)&&t.css({textOverflow:"ellipsis",width:o.width+="px"}),H.prototype.alignDataLabel.apply(this,arguments),e.dataLabel&&e.dataLabel.attr({zIndex:(e.node.zIndex||0)+1})}calculateChildrenAreas(e,t){let i=this.options,o=this.mapOptionsToLevel[e.level+1],l=j(this[o&&o.layoutAlgorithm]&&o.layoutAlgorithm,i.layoutAlgorithm),a=i.alternateStartingDirection,s=e.children.filter(n=>!n.ignore),h=[];o&&o.layoutStartingDirection&&(t.direction=o.layoutStartingDirection==="vertical"?0:1),h=this[l](t,s);let c=-1;for(let n of s){let y=h[++c];n.values=C(y,{val:n.childrenTotal,direction:a?1-t.direction:t.direction}),n.pointValues=C(y,{x:y.x/this.axisRatio,y:100-y.y-y.height,width:y.width/this.axisRatio}),n.children.length&&this.calculateChildrenAreas(n,n.values)}}createList(e){let t=this.chart,i=t.breadcrumbs,o=[];if(i){let l=0;o.push({level:l,levelOptions:t.series[0]});let a=e.target.nodeMap[e.newRootId],s=[];for(;a.parent||a.parent==="";)s.push(a),a=e.target.nodeMap[a.parent];for(let h of s.reverse())o.push({level:++l,levelOptions:h});o.length<=1&&(o.length=0)}return o}drawDataLabels(){let e,t,i=this.mapOptionsToLevel;for(let o of this.points.filter(function(l){return l.node.visible}))t=i[o.node.level],e={style:{}},o.node.isLeaf||(e.enabled=!1),t&&t.dataLabels&&(e=C(e,t.dataLabels),this.hasDataLabels=()=>!0),o.shapeArgs&&(e.style.width=o.shapeArgs.width,o.dataLabel&&o.dataLabel.css({width:o.shapeArgs.width+"px"})),o.dlOptions=C(e,o.options.dataLabels);super.drawDataLabels()}drawPoints(e=this.points){let t=this.chart,i=t.renderer,o=t.styledMode,l=this.options,a=o?{}:l.shadow,s=l.borderRadius,h=t.pointCount<l.animationLimit,c=l.allowTraversingTree;for(let n of e){let y=n.node.levelDynamic,q={},z={},F={},X="level-group-"+n.node.level,ie=!!n.graphic,oe=h&&ie,se=n.shapeArgs;n.shouldDraw()&&(n.isInside=!0,s&&(z.r=s),C(!0,oe?q:z,ie?se:{},o?{}:this.pointAttribs(n,n.selected?"select":void 0)),this.colorAttribs&&o&&b(F,this.colorAttribs(n)),this[X]||(this[X]=i.g(X).attr({zIndex:1e3-(y||0)}).add(this.group),this[X].survive=!0)),n.draw({animatableAttribs:q,attribs:z,css:F,group:this[X],imageUrl:n.imageUrl,renderer:i,shadow:a,shapeArgs:se,shapeType:n.shapeType}),c&&n.graphic&&(n.drillId=l.interactByLeaf?this.drillToByLeaf(n):this.drillToByGroup(n))}}drillToByGroup(e){let t=!1;return e.node.isLeaf||e.node.level-this.nodeMap[this.rootNode].level!=1||(t=e.id),t}drillToByLeaf(e){let t=!1,i;if(e.node.parent!==this.rootNode&&e.node.isLeaf)for(i=e.node;!t;)(i=this.nodeMap[i.parent]).parent===this.rootNode&&(t=i.id);return t}drillToNode(e,t){d(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(e,t)}drillUp(){let e=this.nodeMap[this.rootNode];e&&W(e.parent)&&this.setRootNode(e.parent,!0,{trigger:"traverseUpButton"})}getExtremes(){let{dataMin:e,dataMax:t}=super.getExtremes(this.colorValueData);return this.valueMin=e,this.valueMax=t,super.getExtremes()}getListOfParents(e,t){let i=M(e)?e:[],o=M(t)?t:[],l=i.reduce(function(a,s,h){let c=j(s.parent,"");return a[c]===void 0&&(a[c]=[]),a[c].push(h),a},{"":[]});for(let a of Object.keys(l)){let s=l[a];if(a!==""&&o.indexOf(a)===-1){for(let h of s)l[""].push(h);delete l[a]}}return l}getTree(){let e=this.data.map(function(i){return i.id}),t=this.getListOfParents(this.data,e);return this.nodeMap={},this.nodeList=[],this.buildTree("",-1,0,t)}buildTree(e,t,i,o,l){let a=[],s=this.points[t],h=0,c;for(let y of o[e]||[])h=Math.max((c=this.buildTree(this.points[y].id,y,i+1,o,e)).height+1,h),a.push(c);let n=new this.NodeClass().init(e,t,a,h,i,this,l);for(let y of a)y.parentNode=n;return this.nodeMap[n.id]=n,this.nodeList.push(n),s&&(s.node=n,n.point=s),n}hasData(){return!!this.processedXData.length}init(e,t){let i=this,o=C(t.drillUpButton,t.breadcrumbs),l=N(i,"setOptions",a=>{let s=a.userOptions;r(s.allowDrillToNode)&&!r(s.allowTraversingTree)&&(s.allowTraversingTree=s.allowDrillToNode,delete s.allowDrillToNode),r(s.drillUpButton)&&!r(s.traverseUpButton)&&(s.traverseUpButton=s.drillUpButton,delete s.drillUpButton)});super.init(e,t),delete i.opacity,i.eventsToUnbind.push(l),i.options.allowTraversingTree&&(i.eventsToUnbind.push(N(i,"click",i.onClickDrillToNode)),i.eventsToUnbind.push(N(i,"setRootNode",function(a){let s=i.chart;s.breadcrumbs&&s.breadcrumbs.updateProperties(i.createList(a))})),i.eventsToUnbind.push(N(i,"update",function(a,s){let h=this.chart.breadcrumbs;h&&a.options.breadcrumbs&&h.update(a.options.breadcrumbs)})),i.eventsToUnbind.push(N(i,"destroy",function(a){let s=this.chart;s.breadcrumbs&&!a.keepEventsForUpdate&&(s.breadcrumbs.destroy(),s.breadcrumbs=void 0)}))),e.breadcrumbs||(e.breadcrumbs=new u(e,o)),i.eventsToUnbind.push(N(e.breadcrumbs,"up",function(a){let s=this.level-a.newLevel;for(let h=0;h<s;h++)i.drillUp()}))}onClickDrillToNode(e){let t=e.point,i=t&&t.drillId;W(i)&&(t.setState(""),this.setRootNode(i,!0,{trigger:"click"}))}pointAttribs(e,t){let i,o=O(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},l=e&&o[e.node.level]||{},a=this.options,s=t&&a.states&&a.states[t]||{},h=e&&e.getClassName()||"",c={stroke:e&&e.borderColor||l.borderColor||s.borderColor||a.borderColor,"stroke-width":j(e&&e.borderWidth,l.borderWidth,s.borderWidth,a.borderWidth),dashstyle:e&&e.borderDashStyle||l.borderDashStyle||s.borderDashStyle||a.borderDashStyle,fill:e&&e.color||this.color};return h.indexOf("highcharts-above-level")!==-1?(c.fill="none",c["stroke-width"]=0):h.indexOf("highcharts-internal-node-interactive")!==-1?(i=j(s.opacity,a.opacity),c.fill=T(c.fill).setOpacity(i).get(),c.cursor="pointer"):h.indexOf("highcharts-internal-node")!==-1?c.fill="none":t&&(c.fill=T(c.fill).brighten(s.brightness).get()),c}setColorRecursive(e,t,i,o,l){let a=this&&this.chart,s=a&&a.options&&a.options.colors;if(e){let h=_(e,{colors:s,index:o,mapOptionsToLevel:this.mapOptionsToLevel,parentColor:t,parentColorIndex:i,series:this,siblings:l}),c=this.points[e.i];c&&(c.color=h.color,c.colorIndex=h.colorIndex);let n=-1;for(let y of e.children||[])this.setColorRecursive(y,h.color,h.colorIndex,++n,e.children.length)}}setPointValues(){let e=this,{points:t,xAxis:i,yAxis:o}=e,l=e.chart.styledMode,a=s=>l?0:(e.pointAttribs(s)["stroke-width"]||0)%2/2;for(let s of t){let{pointValues:h,visible:c}=s.node;if(h&&c){let{height:n,width:y,x:q,y:z}=h,F=a(s),X=Math.round(i.toPixels(q,!0))-F,ie=Math.round(i.toPixels(q+y,!0))-F,oe=Math.round(o.toPixels(z,!0))-F,se=Math.round(o.toPixels(z+n,!0))-F,re={x:Math.min(X,ie),y:Math.min(oe,se),width:Math.abs(ie-X),height:Math.abs(se-oe)};s.plotX=re.x+re.width/2,s.plotY=re.y+re.height/2,s.shapeArgs=re}else delete s.plotX,delete s.plotY}}setRootNode(e,t,i){f(this,"setRootNode",b({newRootId:e,previousRootId:this.rootNode,redraw:j(t,!0),series:this},i),function(o){let l=o.series;l.idPreviousRoot=o.previousRootId,l.rootNode=o.newRootId,l.isDirty=!0,o.redraw&&l.chart.redraw()})}setState(e){this.options.inactiveOtherPoints=!0,super.setState(e,!1),this.options.inactiveOtherPoints=!1}setTreeValues(e){let t=this.options,i=this.rootNode,o=this.nodeMap[i],l=typeof t.levelIsConstant!="boolean"||t.levelIsConstant,a=[],s=this.points[e.i],h=0;for(let n of e.children)n=this.setTreeValues(n),a.push(n),n.ignore||(h+=n.val);G(a,(n,y)=>(n.sortIndex||0)-(y.sortIndex||0));let c=j(s&&s.options.value,h);return s&&(s.value=c),b(e,{children:a,childrenTotal:h,ignore:!(j(s&&s.visible,!0)&&c>0),isLeaf:e.visible&&!h,levelDynamic:e.level-(l?0:o.level),name:j(s&&s.name,""),sortIndex:j(s&&s.sortIndex,-c),val:c}),e}sliceAndDice(e,t){return this.algorithmFill(!0,e,t)}squarified(e,t){return this.algorithmLowAspectRatio(!0,e,t)}strip(e,t){return this.algorithmLowAspectRatio(!1,e,t)}stripes(e,t){return this.algorithmFill(!1,e,t)}translate(){let e=this,t=e.options,i=V(e),o,l,a,s;super.translate();let h=e.tree=e.getTree();o=e.nodeMap[i],i===""||o&&o.children.length||(e.setRootNode("",!1),i=e.rootNode,o=e.nodeMap[i]),e.mapOptionsToLevel=K({from:o.level+1,levels:t.levels,to:h.height,defaults:{levelIsConstant:e.options.levelIsConstant,colorByPoint:t.colorByPoint}}),x.recursive(e.nodeMap[e.rootNode],c=>{let n=c.parent,y=!1;return c.visible=!0,(n||n==="")&&(y=e.nodeMap[n]),y}),x.recursive(e.nodeMap[e.rootNode].children,c=>{let n=!1;for(let y of c)y.visible=!0,y.children.length&&(n=(n||[]).concat(y.children));return n}),e.setTreeValues(h),e.axisRatio=e.xAxis.len/e.yAxis.len,e.nodeMap[""].pointValues=l={x:0,y:0,width:100,height:100},e.nodeMap[""].values=a=C(l,{width:l.width*e.axisRatio,direction:t.layoutStartingDirection==="vertical"?0:1,val:h.val}),e.calculateChildrenAreas(h,a),e.colorAxis||t.colorByPoint||e.setColorRecursive(e.tree),t.allowTraversingTree&&(s=o.pointValues,e.xAxis.setExtremes(s.x,s.x+s.width,!1),e.yAxis.setExtremes(s.y,s.y+s.height,!1),e.xAxis.setScale(),e.yAxis.setScale()),e.setPointValues()}}return Q.defaultOptions=C(E.defaultOptions,R),b(Q.prototype,{buildKDTree:k,colorAttribs:B.seriesMembers.colorAttribs,colorKey:"colorValue",directTouch:!0,getExtremesFromAll:!0,getSymbol:k,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value"],pointClass:L,NodeClass:D,trackerGroups:["group","dataLabelsGroup"],utils:x}),B.compose(Q),P.registerSeriesType("treemap",Q),Q}),U(g,"masters/modules/treemap.src.js",[g["Core/Globals.js"],g["Extensions/Breadcrumbs/Breadcrumbs.js"],g["Series/Treemap/TreemapSeries.js"]],function(u,m,B){return u.Breadcrumbs=u.Breadcrumbs||m,u.Breadcrumbs.compose(u.Chart,u.defaultOptions),B.compose(u.Series),u})})})(le);var ne=le.exports;const de=ae(ne),ue=he({__proto__:null,default:de},[ne]);export{ue as t};
