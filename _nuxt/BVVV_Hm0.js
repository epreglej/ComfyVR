import{bK as lt}from"./wgMknUt8.js";function ht(et,_){for(var d=0;d<_.length;d++){const K=_[d];if(typeof K!="string"&&!Array.isArray(K)){for(const I in K)if(I!=="default"&&!(I in et)){const L=Object.getOwnPropertyDescriptor(K,I);L&&Object.defineProperty(et,I,L.get?L:{enumerable:!0,get:()=>K[I]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}var ot={exports:{}};(function(et){(function(_){et.exports?(_.default=_,et.exports=_):_(typeof Highcharts<"u"?Highcharts:void 0)})(function(_){var d=_?_._modules:{};function K(I,L,O,k){I.hasOwnProperty(L)||(I[L]=k.apply(null,O),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:L,module:I[L]}})))}K(d,"Accessibility/Utils/HTMLUtilities.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(I,L){let{doc:O,win:k}=I,{css:B}=L,S=k.EventTarget&&new k.EventTarget||"none";function j(m){if(typeof k.MouseEvent=="function")return new k.MouseEvent(m.type,m);if(O.createEvent){let u=O.createEvent("MouseEvent");if(u.initMouseEvent)return u.initMouseEvent(m.type,m.bubbles,m.cancelable,m.view||k,m.detail,m.screenX,m.screenY,m.clientX,m.clientY,m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget),u}return P(m.type)}function P(m,u,h){let o=u||{x:0,y:0};if(typeof k.MouseEvent=="function")return new k.MouseEvent(m,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:h||S,view:k,detail:m==="click"?1:0,screenX:o.x,screenY:o.y,clientX:o.x,clientY:o.y});if(O.createEvent){let s=O.createEvent("MouseEvent");if(s.initMouseEvent)return s.initMouseEvent(m,!0,!0,k,m==="click"?1:0,o.x,o.y,o.x,o.y,!1,!1,!1,!1,0,null),s}return{type:m}}return{addClass:function(m,u){m.classList?m.classList.add(u):0>m.className.indexOf(u)&&(m.className+=" "+u)},cloneMouseEvent:j,cloneTouchEvent:function(m){let u=o=>{let s=[];for(let a=0;a<o.length;++a){let i=o.item(a);i&&s.push(i)}return s};if(typeof k.TouchEvent=="function"){let o=new k.TouchEvent(m.type,{touches:u(m.touches),targetTouches:u(m.targetTouches),changedTouches:u(m.changedTouches),ctrlKey:m.ctrlKey,shiftKey:m.shiftKey,altKey:m.altKey,metaKey:m.metaKey,bubbles:m.bubbles,cancelable:m.cancelable,composed:m.composed,detail:m.detail,view:m.view});return m.defaultPrevented&&o.preventDefault(),o}let h=j(m);return h.touches=m.touches,h.changedTouches=m.changedTouches,h.targetTouches=m.targetTouches,h},escapeStringForHTML:function(m){return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(m){return O.getElementById(m)},getFakeMouseEvent:P,getHeadingTagNameForElement:function(m){let u=a=>"h"+Math.min(6,parseInt(a.slice(1),10)+1),h=a=>/H[1-6]/.test(a),o=a=>{let i=a;for(;i=i.previousSibling;){let r=i.tagName||"";if(h(r))return r}return""},s=a=>{let i=o(a);if(i)return u(i);let r=a.parentElement;if(!r)return"p";let t=r.tagName;return h(t)?u(t):s(r)};return s(m)},removeChildNodes:function(m){for(;m.lastChild;)m.removeChild(m.lastChild)},removeClass:function(m,u){m.classList?m.classList.remove(u):m.className=m.className.replace(RegExp(u,"g"),"")},removeElement:function(m){m&&m.parentNode&&m.parentNode.removeChild(m)},reverseChildNodes:function(m){let u=m.childNodes.length;for(;u--;)m.appendChild(m.childNodes[u])},simulatedEventTarget:S,stripHTMLTagsFromString:function(m,u=!1){return typeof m=="string"?u?m.replace(/<\/?[^>]+(>|$)/g,""):m.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):m},visuallyHideElement:function(m){B(m,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),K(d,"Accessibility/A11yI18n.js",[d["Core/Templating.js"],d["Core/Utilities.js"]],function(I,L){var O;let{format:k}=I,{getNestedProperty:B,pick:S}=L;return function(j){function P(u,h,o){let s=(n,c)=>{let p=n.slice(c||0),C=p.indexOf("{"),D=p.indexOf("}");if(C>-1&&D>C)return{statement:p.substring(C+1,D),begin:c+C+1,end:c+D}},a=[],i,r,t=0;do i=s(u,t),(r=u.substring(t,i&&i.begin-1)).length&&a.push({value:r,type:"constant"}),i&&a.push({value:i.statement,type:"statement"}),t=i?i.end+1:t+1;while(i);return a.forEach(n=>{n.type==="statement"&&(n.value=function(c,p){let C,D,M=c.indexOf("#each("),b=c.indexOf("#plural("),g=c.indexOf("["),E=c.indexOf("]");if(M>-1){let x=c.slice(M).indexOf(")")+M,e=c.substring(0,M),l=c.substring(x+1),f=c.substring(M+6,x).split(","),v=Number(f[1]),A;if(D="",C=B(f[0],p)){A=(v=isNaN(v)?C.length:v)<0?C.length+v:Math.min(v,C.length);for(let w=0;w<A;++w)D+=e+C[w]+l}return D.length?D:""}if(b>-1){var y;let x=c.slice(b).indexOf(")")+b,e=c.substring(b+8,x).split(",");switch(Number(B(e[0],p))){case 0:D=S(e[4],e[1]);break;case 1:D=S(e[2],e[1]);break;case 2:D=S(e[3],e[1]);break;default:D=e[1]}return D?(y=D).trim&&y.trim()||y.replace(/^\s+|\s+$/g,""):""}if(g>-1){let x,e=c.substring(0,g),l=Number(c.substring(g+1,E));return C=B(e,p),!isNaN(l)&&C&&(l<0?(x=C[C.length+l])===void 0&&(x=C[0]):(x=C[l])===void 0&&(x=C[C.length-1])),x!==void 0?x:""}return"{"+c+"}"}(n.value,h))}),k(a.reduce((n,c)=>n+c.value,""),h,o)}function m(u,h){let o=u.split("."),s=this.options.lang,a=0;for(;a<o.length;++a)s=s&&s[o[a]];return typeof s=="string"?P(s,h,this):""}j.compose=function(u){let h=u.prototype;h.langFormat||(h.langFormat=m)},j.i18nFormat=P}(O||(O={})),O}),K(d,"Accessibility/Utils/ChartUtilities.js",[d["Core/Globals.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Core/Utilities.js"]],function(I,L,O){let{doc:k}=I,{stripHTMLTagsFromString:B}=L,{defined:S,find:j,fireEvent:P}=O;function m(h){if(h.points&&h.points.length){let o=j(h.points,s=>!!s.graphic);return o&&o.graphic&&o.graphic.element}}function u(h){let o=m(h);return o&&o.parentNode||h.graph&&h.graph.element||h.group&&h.group.element}return{fireEventOnWrappedOrUnwrappedElement:function h(o,s){let a=s.type,i=o.hcEvents;k.createEvent&&(o.dispatchEvent||o.fireEvent)?o.dispatchEvent?o.dispatchEvent(s):o.fireEvent(a,s):i&&i[a]?P(o,a,s):o.element&&h(o.element,s)},getChartTitle:function(h){return B(h.options.title.text||h.langFormat("accessibility.defaultChartTitle",{chart:h}),h.renderer.forExport)},getAxisDescription:function(h){var o,s;return h&&(((o=h.options.accessibility)==null?void 0:o.description)||((s=h.axisTitle)==null?void 0:s.textStr)||h.options.id||h.categories&&"categories"||h.dateTime&&"Time"||"values")},getAxisRangeDescription:function(h){let o=h.options||{};return o.accessibility&&o.accessibility.rangeDescription!==void 0?o.accessibility.rangeDescription:h.categories?function(s){let a=s.chart;return s.dataMax&&s.dataMin?a.langFormat("accessibility.axis.rangeCategories",{chart:a,axis:s,numCategories:s.dataMax-s.dataMin+1}):""}(h):h.dateTime&&(h.min===0||h.dataMin===0)?function(s){let a=s.chart,i={},r=s.dataMin||s.min||0,t=s.dataMax||s.max||0,n="Seconds";i.Seconds=(t-r)/1e3,i.Minutes=i.Seconds/60,i.Hours=i.Minutes/60,i.Days=i.Hours/24,["Minutes","Hours","Days"].forEach(function(p){i[p]>2&&(n=p)});let c=i[n].toFixed(n!=="Seconds"&&n!=="Minutes"?1:0);return a.langFormat("accessibility.axis.timeRange"+n,{chart:a,axis:s,range:c.replace(".0","")})}(h):function(s){let a=s.chart,i=a.options,r=i&&i.accessibility&&i.accessibility.screenReaderSection.axisRangeDateFormat||"",t={min:s.dataMin||s.min||0,max:s.dataMax||s.max||0},n=function(c){return s.dateTime?a.time.dateFormat(r,t[c]):t[c].toString()};return a.langFormat("accessibility.axis.rangeFromTo",{chart:a,axis:s,rangeFrom:n("min"),rangeTo:n("max")})}(h)},getPointFromXY:function(h,o,s){let a=h.length,i;for(;a--;)if(i=j(h[a].points||[],function(r){return r.x===o&&r.y===s}))return i},getSeriesFirstPointElement:m,getSeriesFromName:function(h,o){return o?(h.series||[]).filter(function(s){return s.name===o}):h.series},getSeriesA11yElement:u,unhideChartElementFromAT:function h(o,s){s.setAttribute("aria-hidden",!1),s!==o.renderTo&&s.parentNode&&s.parentNode!==k.body&&(Array.prototype.forEach.call(s.parentNode.childNodes,function(a){a.hasAttribute("aria-hidden")||a.setAttribute("aria-hidden",!0)}),h(o,s.parentNode))},hideSeriesFromAT:function(h){let o=u(h);o&&o.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(h){let o=h.series.xAxis,s=h.series.yAxis,a=o&&o.scrollbar?o:s,i=a&&a.scrollbar;if(i&&S(i.to)&&S(i.from)){let r=i.to-i.from,t=function(n,c){if(!S(n.dataMin)||!S(n.dataMax))return 0;let p=n.toPixels(n.dataMin),C=n.toPixels(n.dataMax),D=n.coll==="xAxis"?"x":"y";return(n.toPixels(c[D]||0)-p)/(C-p)}(a,h);i.updatePosition(t-r/2,t+r/2),P(i,"changed",{from:i.from,to:i.to,trigger:"scrollbar",DOMEvent:null})}}}}),K(d,"Accessibility/Utils/DOMElementProvider.js",[d["Core/Globals.js"],d["Accessibility/Utils/HTMLUtilities.js"]],function(I,L){let{doc:O}=I,{removeElement:k}=L;return class{constructor(){this.elements=[]}createElement(){let B=O.createElement.apply(O,arguments);return this.elements.push(B),B}removeElement(B){k(B),this.elements.splice(this.elements.indexOf(B),1)}destroyCreatedElements(){this.elements.forEach(function(B){k(B)}),this.elements=[]}}}),K(d,"Accessibility/Utils/EventProvider.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(I,L){let{addEvent:O}=L;return class{constructor(){this.eventRemovers=[]}addEvent(){let k=O.apply(I,arguments);return this.eventRemovers.push({element:arguments[0],remover:k}),k}removeEvent(k){let B=this.eventRemovers.map(S=>S.remover).indexOf(k);this.eventRemovers[B].remover(),this.eventRemovers.splice(B,1)}removeAddedEvents(){this.eventRemovers.map(k=>k.remover).forEach(k=>k()),this.eventRemovers=[]}}}),K(d,"Accessibility/AccessibilityComponent.js",[d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Utils/DOMElementProvider.js"],d["Accessibility/Utils/EventProvider.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Core/Utilities.js"]],function(I,L,O,k,B){let{fireEventOnWrappedOrUnwrappedElement:S}=I,{getFakeMouseEvent:j}=k,{extend:P}=B;class m{initBase(h,o){this.chart=h,this.eventProvider=new O,this.domElementProvider=new L,this.proxyProvider=o,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(h,o,s,a){return this.eventProvider.addEvent(h,o,s,a)}createElement(h,o){return this.domElementProvider.createElement(h,o)}fakeClickEvent(h){S(h,j("click"))}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return P(m.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),m}),K(d,"Accessibility/KeyboardNavigationHandler.js",[d["Core/Utilities.js"]],function(I){let{find:L}=I;return class{constructor(O,k){this.chart=O,this.keyCodeMap=k.keyCodeMap||[],this.validate=k.validate,this.init=k.init,this.terminate=k.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(O){let k=O.which||O.keyCode,B=this.response.noHandler,S=L(this.keyCodeMap,function(j){return j[0].indexOf(k)>-1});return S?B=S[1].call(this,k,O):k===9&&(B=this.response[O.shiftKey?"prev":"next"]),B}}}),K(d,"Accessibility/Components/ContainerComponent.js",[d["Accessibility/AccessibilityComponent.js"],d["Accessibility/KeyboardNavigationHandler.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Core/Globals.js"],d["Accessibility/Utils/HTMLUtilities.js"]],function(I,L,O,k,B){let{unhideChartElementFromAT:S,getChartTitle:j}=O,{doc:P}=k,{stripHTMLTagsFromString:m}=B;return class extends I{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){let u=this.chart,h="highcharts-title-"+u.index,o=m(u.langFormat("accessibility.svgContainerTitle",{chartTitle:j(u)}));if(o.length){let s=this.svgTitleElement=this.svgTitleElement||P.createElementNS("http://www.w3.org/2000/svg","title");s.textContent=o,s.id=h,u.renderTo.insertBefore(s,u.renderTo.firstChild)}}setSVGContainerLabel(){let u=this.chart,h=u.langFormat("accessibility.svgContainerLabel",{chartTitle:j(u)});u.renderer.box&&h.length&&u.renderer.box.setAttribute("aria-label",h)}setGraphicContainerAttrs(){let u=this.chart,h=u.langFormat("accessibility.graphicContainerLabel",{chartTitle:j(u)});h.length&&u.container.setAttribute("aria-label",h)}setRenderToAttrs(){let u=this.chart,h=u.options.accessibility.landmarkVerbosity!=="disabled",o=u.langFormat("accessibility.chartContainerLabel",{title:j(u),chart:u});o&&(u.renderTo.setAttribute("role",h?"region":"group"),u.renderTo.setAttribute("aria-label",o))}makeCreditsAccessible(){let u=this.chart,h=u.credits;h&&(h.textStr&&h.element.setAttribute("aria-label",u.langFormat("accessibility.credits",{creditsStr:m(h.textStr,u.renderer.forExport)})),S(u,h.element))}getKeyboardNavigation(){let u=this.chart;return new L(u,{keyCodeMap:[],validate:function(){return!0},init:function(){let h=u.accessibility;h&&h.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}}),K(d,"Accessibility/FocusBorder.js",[d["Core/Utilities.js"]],function(I){var L;let{addEvent:O,pick:k}=I;return function(B){let S=["x","y","transform","width","height","r","d","stroke-width"];function j(){let h=this.focusElement,o=this.options.accessibility.keyboardNavigation.focusBorder;h&&(h.removeFocusBorder(),o.enabled&&h.addFocusBorder(o.margin,{stroke:o.style.color,strokeWidth:o.style.lineWidth,r:o.style.borderRadius}))}function P(h,o){let s=this.options.accessibility.keyboardNavigation.focusBorder,a=o||h.element;a&&a.focus&&(a.hcEvents&&a.hcEvents.focusin||O(a,"focusin",function(){}),a.focus(),s.hideBrowserFocusOutline&&(a.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=h,this.renderFocusBorder()}function m(h,o){this.focusBorder&&this.removeFocusBorder();let s=this.getBBox(),a=k(h,3),i=this.parentGroup,r=this.scaleX||i&&i.scaleX,t=this.scaleY||i&&i.scaleY,n=(r?!t:t)?Math.abs(r||t||1):(Math.abs(r||1)+Math.abs(t||1))/2;s.x+=this.translateX?this.translateX:0,s.y+=this.translateY?this.translateY:0;let c=s.x-a,p=s.y-a,C=s.width+2*a,D=s.height+2*a,M=!!this.text;if(this.element.nodeName==="text"||M){let b,g,E=!!this.rotation,y=M?{x:E?1:0,y:0}:(b=0,g=0,this.attr("text-anchor")==="middle"?b=g=.5:this.rotation?b=.25:g=.75,{x:b,y:g}),x=+this.attr("x"),e=+this.attr("y");if(isNaN(x)||(c=x-s.width*y.x-a),isNaN(e)||(p=e-s.height*y.y-a),M&&E){let l=C;C=D,D=l,isNaN(x)||(c=x-s.height*y.x-a),isNaN(e)||(p=e-s.width*y.y-a)}}this.focusBorder=this.renderer.rect(c,p,C,D,parseInt((o&&o.r||0).toString(),10)/n).addClass("highcharts-focus-border").attr({zIndex:99}).add(i),this.renderer.styledMode||this.focusBorder.attr({stroke:o&&o.stroke,"stroke-width":(o&&o.strokeWidth||0)/n}),function(b,...g){b.focusBorderUpdateHooks||(b.focusBorderUpdateHooks={},S.forEach(E=>{let y=E+"Setter",x=b[y]||b._defaultSetter;b.focusBorderUpdateHooks[y]=x,b[y]=function(){let e=x.apply(b,arguments);return b.addFocusBorder.apply(b,g),e}}))}(this,h,o),function(b){if(b.focusBorderDestroyHook)return;let g=b.destroy;b.destroy=function(){return b.focusBorder&&b.focusBorder.destroy&&b.focusBorder.destroy(),g.apply(b,arguments)},b.focusBorderDestroyHook=g}(this)}function u(){var h;h=this,h.focusBorderUpdateHooks&&(Object.keys(h.focusBorderUpdateHooks).forEach(o=>{let s=h.focusBorderUpdateHooks[o];s===h._defaultSetter?delete h[o]:h[o]=s}),delete h.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}B.compose=function(h,o){let s=h.prototype,a=o.prototype;s.renderFocusBorder||(s.renderFocusBorder=j,s.setFocusToElement=P),a.addFocusBorder||(a.addFocusBorder=m,a.removeFocusBorder=u)}}(L||(L={})),L}),K(d,"Accessibility/Utils/Announcer.js",[d["Core/Renderer/HTML/AST.js"],d["Accessibility/Utils/DOMElementProvider.js"],d["Core/Globals.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Core/Utilities.js"]],function(I,L,O,k,B){let{doc:S}=O,{addClass:j,visuallyHideElement:P}=k,{attr:m}=B;return class{constructor(u,h){this.chart=u,this.domElementProvider=new L,this.announceRegion=this.addAnnounceRegion(h)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(u){I.setElementHTML(this.announceRegion,u),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=I.emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(u){let h=this.chart.announcerContainer||this.createAnnouncerContainer(),o=this.domElementProvider.createElement("div");return m(o,{"aria-hidden":!1,"aria-live":u,"aria-atomic":!0}),this.chart.styledMode?j(o,"highcharts-visually-hidden"):P(o),h.appendChild(o),o}createAnnouncerContainer(){let u=this.chart,h=S.createElement("div");return m(h,{"aria-hidden":!1,class:"highcharts-announcer-container"}),h.style.position="relative",u.renderTo.insertBefore(h,u.renderTo.firstChild),u.announcerContainer=h,h}}}),K(d,"Accessibility/Components/AnnotationsA11y.js",[d["Accessibility/Utils/HTMLUtilities.js"]],function(I){let{escapeStringForHTML:L,stripHTMLTagsFromString:O}=I;function k(P){return(P.annotations||[]).reduce((m,u)=>(u.options&&u.options.visible!==!1&&(m=m.concat(u.labels)),m),[])}function B(P){return P.options&&P.options.accessibility&&P.options.accessibility.description||P.graphic&&P.graphic.text&&P.graphic.text.textStr||""}function S(P){let m=P.options&&P.options.accessibility&&P.options.accessibility.description;if(m)return m;let u=P.chart,h=B(P),o=P.points,s=n=>n.graphic&&n.graphic.element&&n.graphic.element.getAttribute("aria-label")||"",a=o.filter(n=>!!n.graphic).map(n=>{let c=n.accessibility&&n.accessibility.valueDescription||s(n),p=n&&n.series.name||"";return(p?p+", ":"")+"data point "+c}).filter(n=>!!n),i=a.length,r=i>1?"MultiplePoints":i?"SinglePoint":"NoPoints",t={annotationText:h,annotation:P,numPoints:i,annotationPoint:a[0],additionalAnnotationPoints:a.slice(1)};return u.langFormat("accessibility.screenReaderSection.annotations.description"+r,t)}function j(P){return k(P).map(m=>{let u=L(O(S(m),P.renderer.forExport));return u?`<li>${u}</li>`:""})}return{getAnnotationsInfoHTML:function(P){let m=P.annotations;return m&&m.length?`<ul style="list-style-type: none">${j(P).join(" ")}</ul>`:""},getAnnotationLabelDescription:S,getAnnotationListItems:j,getPointAnnotationTexts:function(P){let m=k(P.series.chart).filter(u=>u.points.indexOf(P)>-1);return m.length?m.map(u=>`${B(u)}`):[]}}}),K(d,"Accessibility/Components/InfoRegionsComponent.js",[d["Accessibility/A11yI18n.js"],d["Accessibility/AccessibilityComponent.js"],d["Accessibility/Utils/Announcer.js"],d["Accessibility/Components/AnnotationsA11y.js"],d["Core/Renderer/HTML/AST.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Core/Templating.js"],d["Core/Globals.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Core/Utilities.js"]],function(I,L,O,k,B,S,j,P,m,u){let{getAnnotationsInfoHTML:h}=k,{getAxisDescription:o,getAxisRangeDescription:s,getChartTitle:a,unhideChartElementFromAT:i}=S,{format:r}=j,{doc:t}=P,{addClass:n,getElement:c,getHeadingTagNameForElement:p,stripHTMLTagsFromString:C,visuallyHideElement:D}=m,{attr:M,pick:b,replaceNested:g}=u;function E(y){return g(y,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}return class extends L{constructor(){super(...arguments),this.screenReaderSections={}}init(){let y=this.chart,x=this;this.initRegionsDefinitions(),this.addEvent(y,"aftergetTableAST",function(e){x.onDataTableCreated(e)}),this.addEvent(y,"afterViewData",function(e){e.wasHidden&&(x.dataTableDiv=e.element,setTimeout(function(){x.focusDataTable()},300))}),this.addEvent(y,"afterHideData",function(){x.viewDataTableButton&&x.viewDataTableButton.setAttribute("aria-expanded","false")}),this.announcer=new O(y,"assertive")}initRegionsDefinitions(){let y=this,x=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(e){let l=x.screenReaderSection.beforeChartFormatter;return l?l(e):y.defaultBeforeChartFormatter(e)},insertIntoDOM:function(e,l){l.renderTo.insertBefore(e,l.renderTo.firstChild)},afterInserted:function(){y.sonifyButtonId!==void 0&&y.initSonifyButton(y.sonifyButtonId),y.dataTableButtonId!==void 0&&y.initDataTableButton(y.dataTableButtonId)}},after:{element:null,buildContent:function(e){let l=x.screenReaderSection.afterChartFormatter;return l?l(e):y.defaultAfterChartFormatter()},insertIntoDOM:function(e,l){l.renderTo.insertBefore(e,l.container.nextSibling)},afterInserted:function(){y.chart.accessibility&&x.keyboardNavigation.enabled&&y.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){let y=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(x){y.updateScreenReaderSection(x)})}getLinkedDescriptionElement(){let y=this.chart.options.accessibility.linkedDescription;if(!y)return;if(typeof y!="string")return y;let x=r(y,this.chart),e=t.querySelectorAll(x);if(e.length===1)return e[0]}setLinkedDescriptionAttrs(){let y=this.linkedDescriptionElement;y&&(y.setAttribute("aria-hidden","true"),n(y,"highcharts-linked-description"))}updateScreenReaderSection(y){let x=this.chart,e=this.screenReaderSections[y],l=e.buildContent(x),f=e.element=e.element||this.createElement("div"),v=f.firstChild||this.createElement("div");l?(this.setScreenReaderSectionAttribs(f,y),B.setElementHTML(v,l),f.appendChild(v),e.insertIntoDOM(f,x),x.styledMode?n(v,"highcharts-visually-hidden"):D(v),i(x,v),e.afterInserted&&e.afterInserted()):(f.parentNode&&f.parentNode.removeChild(f),e.element=null)}setScreenReaderSectionAttribs(y,x){let e=this.chart,l=e.langFormat("accessibility.screenReaderSection."+x+"RegionLabel",{chart:e,chartTitle:a(e)});M(y,{id:`highcharts-screen-reader-region-${x}-${e.index}`,"aria-label":l||void 0}),y.style.position="relative",l&&y.setAttribute("role",e.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){let y=this.chart,x=y.options.accessibility.screenReaderSection.beforeChartFormat;if(!x)return"";let e=this.getAxesDescription(),l=y.sonify&&y.options.sonification&&y.options.sonification.enabled,f="highcharts-a11y-sonify-data-btn-"+y.index,v="hc-linkto-highcharts-data-table-"+y.index,A=h(y),w=y.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:y}),N={headingTagName:p(y.renderTo),chartTitle:a(y),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:e.xAxis,yAxisDescription:e.yAxis,playAsSoundButton:l?this.getSonifyButtonText(f):"",viewTableButton:y.getCSV?this.getDataTableButtonText(v):"",annotationsTitle:A?w:"",annotationsList:A},R=I.i18nFormat(x,N,y);return this.dataTableButtonId=v,this.sonifyButtonId=f,E(R)}defaultAfterChartFormatter(){let y=this.chart,x=y.options.accessibility.screenReaderSection.afterChartFormat;if(!x)return"";let e={endOfChartMarker:this.getEndOfChartMarkerText()};return E(I.i18nFormat(x,e,y))}getLinkedDescription(){let y=this.linkedDescriptionElement;return C(y&&y.innerHTML||"",this.chart.renderer.forExport)}getLongdescText(){let y=this.chart.options,x=y.caption,e=x&&x.text,l=this.getLinkedDescription();return y.accessibility.description||l||e||""}getTypeDescriptionText(){let y=this.chart;return y.types?y.options.accessibility.typeDescription||function(x,e){let l=e[0],f=x.series&&x.series[0]||{},v=x.mapView&&x.mapView.geoMap&&x.mapView.geoMap.title,A={numSeries:x.series.length,numPoints:f.points&&f.points.length,chart:x,mapTitle:v};return l?l==="map"||l==="tiledwebmap"?A.mapTitle?x.langFormat("accessibility.chartTypes.mapTypeDescription",A):x.langFormat("accessibility.chartTypes.unknownMap",A):x.types.length>1?x.langFormat("accessibility.chartTypes.combinationChart",A):function(w,N,R){let T=N[0],F=w.langFormat("accessibility.seriesTypeDescriptions."+T,R),U=w.series&&w.series.length<2?"Single":"Multiple";return(w.langFormat("accessibility.chartTypes."+T+U,R)||w.langFormat("accessibility.chartTypes.default"+U,R))+(F?" "+F:"")}(x,e,A):x.langFormat("accessibility.chartTypes.emptyChart",A)}(y,y.types):""}getDataTableButtonText(y){let x=this.chart;return'<button id="'+y+'">'+x.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:x,chartTitle:a(x)})+"</button>"}getSonifyButtonText(y){let x=this.chart;return x.options.sonification&&x.options.sonification.enabled===!1?"":'<button id="'+y+'">'+x.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:x,chartTitle:a(x)})+"</button>"}getSubtitleText(){let y=this.chart.options.subtitle;return C(y&&y.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){let y=c(`highcharts-end-of-chart-marker-${this.chart.index}`);if(y)return y.outerHTML;let x=this.chart,e=x.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:x});return'<div id="highcharts-end-of-chart-marker-'+x.index+'">'+e+"</div>"}onDataTableCreated(y){let x=this.chart;if(x.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");let e=y.tree.attributes||{};e.tabindex=-1,e.summary=x.langFormat("accessibility.table.tableSummary",{chart:x}),y.tree.attributes=e}}focusDataTable(){let y=this.dataTableDiv,x=y&&y.getElementsByTagName("table")[0];x&&x.focus&&x.focus()}initSonifyButton(y){let x=this.sonifyButton=c(y),e=this.chart,l=f=>{x&&(x.setAttribute("aria-hidden","true"),x.setAttribute("aria-label","")),f.preventDefault(),f.stopPropagation();let v=e.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:e});this.announcer.announce(v),setTimeout(()=>{x&&(x.removeAttribute("aria-hidden"),x.removeAttribute("aria-label")),e.sonify&&e.sonify()},1e3)};x&&e&&(x.setAttribute("tabindex",-1),x.onclick=function(f){(e.options.accessibility&&e.options.accessibility.screenReaderSection.onPlayAsSoundClick||l).call(this,f,e)})}initDataTableButton(y){let x=this.viewDataTableButton=c(y),e=this.chart,l=y.replace("hc-linkto-","");x&&(M(x,{tabindex:-1,"aria-expanded":!!c(l)}),x.onclick=e.options.accessibility.screenReaderSection.onViewDataTableClick||function(){e.viewData()})}getAxesDescription(){let y=this.chart,x=function(w,N){let R=y[w];return R.length>1||R[0]&&b(R[0].options.accessibility&&R[0].options.accessibility.enabled,N)},e=!!y.types&&0>y.types.indexOf("map")&&0>y.types.indexOf("treemap")&&0>y.types.indexOf("tilemap"),l=!!y.hasCartesianSeries,f=x("xAxis",!y.angular&&l&&e),v=x("yAxis",l&&e),A={};return f&&(A.xAxis=this.getAxisDescriptionText("xAxis")),v&&(A.yAxis=this.getAxisDescriptionText("yAxis")),A}getAxisDescriptionText(y){let x=this.chart,e=x[y];return x.langFormat("accessibility.axis."+y+"Description"+(e.length>1?"Plural":"Singular"),{chart:x,names:e.map(function(l){return o(l)}),ranges:e.map(function(l){return s(l)}),numAxes:e.length})}destroy(){this.announcer&&this.announcer.destroy()}}}),K(d,"Accessibility/Components/MenuComponent.js",[d["Core/Utilities.js"],d["Accessibility/AccessibilityComponent.js"],d["Accessibility/KeyboardNavigationHandler.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Utils/HTMLUtilities.js"]],function(I,L,O,k,B){let{attr:S}=I,{getChartTitle:j,unhideChartElementFromAT:P}=k,{getFakeMouseEvent:m}=B;function u(o){return o.exportSVGElements&&o.exportSVGElements[0]}class h extends L{init(){let s=this.chart,a=this;this.addEvent(s,"exportMenuShown",function(){a.onMenuShown()}),this.addEvent(s,"exportMenuHidden",function(){a.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){let s=this.chart.exportContextMenu;s&&s.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){let s=this.chart,a=s.exportContextMenu;a&&(this.addAccessibleContextMenuAttribs(),P(s,a)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(s){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",s)}onChartRender(){let s=this.chart,a=s.focusElement,i=s.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&a&&a===s.exportingGroup&&(a.focusBorder?s.setFocusToElement(a,this.exportButtonProxy.innerElement):i&&i.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){let s=this.chart,a=this.proxyProvider,i=u(s);(function(r){let t=r.options.exporting,n=u(r);return!!(t&&t.enabled!==!1&&t.accessibility&&t.accessibility.enabled&&n&&n.element)})(s)&&i&&(this.exportButtonProxy=a.addProxyElement("chartMenu",{click:i},"button",{"aria-label":s.langFormat("accessibility.exporting.menuButtonLabel",{chart:s,chartTitle:j(s)}),"aria-expanded":!1,title:s.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){let s=this.chart,a=s.exportDivElements;if(a&&a.length){a.forEach(r=>{r&&(r.tagName!=="LI"||r.children&&r.children.length?r.setAttribute("aria-hidden","true"):r.setAttribute("tabindex",-1))});let i=a[0]&&a[0].parentNode;i&&S(i,{"aria-hidden":void 0,"aria-label":s.langFormat("accessibility.exporting.chartMenuLabel",{chart:s}),role:"list"})}}getKeyboardNavigation(){let s=this.keyCodes,a=this.chart,i=this;return new O(a,{keyCodeMap:[[[s.left,s.up],function(){return i.onKbdPrevious(this)}],[[s.right,s.down],function(){return i.onKbdNext(this)}],[[s.enter,s.space],function(){return i.onKbdClick(this)}]],validate:function(){return!!a.exporting&&a.options.exporting.enabled!==!1&&a.options.exporting.accessibility.enabled!==!1},init:function(){let r=i.exportButtonProxy,t=i.chart.exportingGroup;r&&t&&a.setFocusToElement(t,r.innerElement)},terminate:function(){a.hideExportMenu()}})}onKbdPrevious(s){let a=this.chart,i=a.options.accessibility,r=s.response,t=a.highlightedExportItemIx||0;for(;t--;)if(a.highlightExportItem(t))return r.success;return i.keyboardNavigation.wrapAround?(a.highlightLastExportItem(),r.success):r.prev}onKbdNext(s){let a=this.chart,i=a.options.accessibility,r=s.response;for(let t=(a.highlightedExportItemIx||0)+1;t<a.exportDivElements.length;++t)if(a.highlightExportItem(t))return r.success;return i.keyboardNavigation.wrapAround?(a.highlightExportItem(0),r.success):r.next}onKbdClick(s){let a=this.chart,i=a.exportDivElements[a.highlightedExportItemIx],r=u(a).element;return a.openMenu?this.fakeClickEvent(i):(this.fakeClickEvent(r),a.highlightExportItem(0)),s.response.success}}return function(o){function s(){let t=u(this);if(t){let n=t.element;n.onclick&&n.onclick(m("click"))}}function a(){let t=this.exportDivElements;t&&this.exportContextMenu&&this.openMenu&&(t.forEach(n=>{n&&n.className==="highcharts-menu-item"&&n.onmouseout&&n.onmouseout(m("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function i(t){let n=this.exportDivElements&&this.exportDivElements[t],c=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(n&&n.tagName==="LI"&&!(n.children&&n.children.length)){let p=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return n.focus&&p&&n.focus(),c&&c.onmouseout&&c.onmouseout(m("mouseout")),n.onmouseover&&n.onmouseover(m("mouseover")),this.highlightedExportItemIx=t,!0}return!1}function r(){if(this.exportDivElements){let t=this.exportDivElements.length;for(;t--;)if(this.highlightExportItem(t))return!0}return!1}o.compose=function(t){let n=t.prototype;n.hideExportMenu||(n.hideExportMenu=a,n.highlightExportItem=i,n.highlightLastExportItem=r,n.showExportMenu=s)}}(h||(h={})),h}),K(d,"Accessibility/KeyboardNavigation.js",[d["Core/Globals.js"],d["Accessibility/Components/MenuComponent.js"],d["Core/Utilities.js"],d["Accessibility/Utils/EventProvider.js"],d["Accessibility/Utils/HTMLUtilities.js"]],function(I,L,O,k,B){let{doc:S,win:j}=I,{addEvent:P,defined:m,fireEvent:u}=O,{getElement:h,simulatedEventTarget:o}=B;class s{constructor(i,r){this.currentModuleIx=NaN,this.modules=[],this.init(i,r)}init(i,r){let t=this.eventProvider=new k;this.chart=i,this.components=r,this.modules=[],this.currentModuleIx=0,this.update(),t.addEvent(this.tabindexContainer,"keydown",n=>this.onKeydown(n)),t.addEvent(this.tabindexContainer,"focus",n=>this.onFocus(n)),["mouseup","touchend"].forEach(n=>t.addEvent(S,n,c=>this.onMouseUp(c))),["mousedown","touchstart"].forEach(n=>t.addEvent(i.renderTo,n,()=>{this.isClickingChart=!0}))}update(i){let r=this.chart.options.accessibility,t=r&&r.keyboardNavigation,n=this.components;this.updateContainerTabindex(),t&&t.enabled&&i&&i.length?(this.modules=i.reduce(function(c,p){let C=n[p].getKeyboardNavigation();return c.concat(C)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){let i=h(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),i?(this.makeElementAnExitAnchor(i),this.exitAnchor=i):this.createExitAnchor()}move(i){let r=this.modules&&this.modules[this.currentModuleIx];r&&r.terminate&&r.terminate(i),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=i;let t=this.modules&&this.modules[this.currentModuleIx];if(t){if(t.validate&&!t.validate())return this.move(i);if(t.init)return t.init(i),!0}return this.currentModuleIx=0,this.exiting=!0,i>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(i){let r=this.chart,t=i.relatedTarget&&r.container.contains(i.relatedTarget),n=r.options.accessibility,c=n&&n.keyboardNavigation;if(c&&c.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!t){let p=this.getFirstValidModuleIx();p!==null&&(this.currentModuleIx=p,this.modules[p].init(1))}this.keyboardReset=!1,this.exiting=!1}onMouseUp(i){if(delete this.isClickingChart,!this.keyboardReset&&i.relatedTarget!==o){let r=this.chart;if(!i.target||!r.container.contains(i.target)){let t=this.modules&&this.modules[this.currentModuleIx||0];t&&t.terminate&&t.terminate(),this.currentModuleIx=0}r.focusElement&&(r.focusElement.removeFocusBorder(),delete r.focusElement),this.keyboardReset=!0}}onKeydown(i){let r,t=i||j.event,n=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],c=t.target;if((!c||c.nodeName!=="INPUT"||c.classList.contains("highcharts-a11y-proxy-element"))&&(this.keyboardReset=!1,this.exiting=!1,n)){let p=n.run(t);p===n.response.success?r=!0:p===n.response.prev?r=this.move(-1):p===n.response.next&&(r=this.move(1)),r&&(t.preventDefault(),t.stopPropagation())}}updateContainerTabindex(){let i,r=this.chart.options.accessibility,t=r&&r.keyboardNavigation,n=!(t&&t.enabled===!1),c=this.chart,p=c.container;c.renderTo.hasAttribute("tabindex")?(p.removeAttribute("tabindex"),i=c.renderTo):i=p,this.tabindexContainer=i;let C=i.getAttribute("tabindex");n&&!C?i.setAttribute("tabindex","0"):n||c.container.removeAttribute("tabindex")}createExitAnchor(){let i=this.chart,r=this.exitAnchor=S.createElement("div");i.renderTo.appendChild(r),this.makeElementAnExitAnchor(r)}makeElementAnExitAnchor(i){let r=this.tabindexContainer.getAttribute("tabindex")||0;i.setAttribute("class","highcharts-exit-anchor"),i.setAttribute("tabindex",r),i.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(i)}removeExitAnchor(){if(this.exitAnchor){let i=this.eventProvider.eventRemovers.find(r=>r.element===this.exitAnchor);i&&m(i.remover)&&this.eventProvider.removeEvent(i.remover),this.exitAnchor.parentNode&&this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor}}addExitAnchorEventsToEl(i){let r=this.chart,t=this;this.eventProvider.addEvent(i,"focus",function(n){let c=n||j.event,p=!(c.relatedTarget&&r.container.contains(c.relatedTarget)||t.exiting);if(r.focusElement&&delete r.focusElement,p){if(t.tabbingInBackwards=!0,t.tabindexContainer.focus(),delete t.tabbingInBackwards,c.preventDefault(),t.modules&&t.modules.length){t.currentModuleIx=t.modules.length-1;let C=t.modules[t.currentModuleIx];C&&C.validate&&!C.validate()?t.move(-1):C&&C.init(-1)}}else t.exiting=!1})}getFirstValidModuleIx(){let i=this.modules.length;for(let r=0;r<i;++r){let t=this.modules[r];if(!t.validate||t.validate())return r}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(a){function i(){let t=this;u(this,"dismissPopupContent",{},function(){t.tooltip&&t.tooltip.hide(0),t.hideExportMenu()})}function r(t){(t.which||t.keyCode)===27&&I.charts&&I.charts.forEach(n=>{n&&n.dismissPopupContent&&n.dismissPopupContent()})}a.compose=function(t){L.compose(t);let n=t.prototype;return n.dismissPopupContent||(n.dismissPopupContent=i,P(S,"keydown",r)),t}}(s||(s={})),s}),K(d,"Accessibility/Components/LegendComponent.js",[d["Core/Animation/AnimationUtilities.js"],d["Core/Globals.js"],d["Core/Legend/Legend.js"],d["Core/Utilities.js"],d["Accessibility/AccessibilityComponent.js"],d["Accessibility/KeyboardNavigationHandler.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Utils/HTMLUtilities.js"]],function(I,L,O,k,B,S,j,P){let{animObject:m}=I,{doc:u}=L,{addEvent:h,fireEvent:o,isNumber:s,pick:a,syncTimeout:i}=k,{getChartTitle:r}=j,{stripHTMLTagsFromString:t,addClass:n,removeClass:c}=P;function p(M){let b=M.legend&&M.legend.allItems,g=M.options.legend.accessibility||{},E=M.colorAxis&&M.colorAxis.some(y=>!y.dataClasses||!y.dataClasses.length);return!!(b&&b.length&&!E&&g.enabled!==!1)}function C(M,b){let g=b.legendItem||{};for(let E of(b.setState(M?"hover":"",!0),["group","label","symbol"])){let y=g[E],x=y&&y.element||y;x&&o(x,M?"mouseover":"mouseout")}}class D extends B{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){let b=this;this.recreateProxies(),this.addEvent(O,"afterScroll",function(){this.chart===b.chart&&(b.proxyProvider.updateGroupProxyElementPositions("legend"),b.updateLegendItemProxyVisibility(),b.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(b.highlightedLegendItemIx))}),this.addEvent(O,"afterPositionItem",function(g){this.chart===b.chart&&this.chart.renderer&&b.updateProxyPositionForItem(g.item)}),this.addEvent(O,"afterRender",function(){this.chart===b.chart&&this.chart.renderer&&b.recreateProxies()&&i(()=>b.proxyProvider.updateGroupProxyElementPositions("legend"),m(a(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){let b,g=this.chart,E=g.legend,y=E.allItems||[],x=E.currentPage||1,e=E.clipHeight||0;y.forEach(l=>{if(l.a11yProxyElement){let f=E.pages&&E.pages.length,v=l.a11yProxyElement.element,A=!1;if(b=l.legendItem||{},f){let w=b.pageIx||0;A=(b.y||0)+(b.label?Math.round(b.label.getBBox().height):0)-E.pages[w]>e||w!==x-1}A?g.styledMode?n(v,"highcharts-a11y-invisible"):v.style.visibility="hidden":(c(v,"highcharts-a11y-invisible"),v.style.visibility="")}})}onChartRender(){p(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(b){let g=this.chart,E=g.legend,y=(E.currentPage||1)+b,x=E.pages||[];if(y>0&&y<=x.length){let e=0;for(let l of E.allItems)((l.legendItem||{}).pageIx||0)+1===y&&g.highlightLegendItem(e)&&(this.highlightedLegendItemIx=e),++e}}updateProxyPositionForItem(b){b.a11yProxyElement&&b.a11yProxyElement.refreshPosition()}recreateProxies(){let b=u.activeElement,g=this.proxyGroup,E=b&&g&&g.contains(b);return this.removeProxies(),!!p(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),E&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){let b=this.chart,g=t((b.legend&&b.legend.options.title&&b.legend.options.title.text||"").replace(/<br ?\/?>/g," "),b.renderer.forExport),E=b.langFormat("accessibility.legend.legendLabel"+(g?"":"NoTitle"),{chart:b,legendTitle:g,chartTitle:r(b)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":E})}addLegendProxyGroup(){let b=this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:b})}proxyLegendItems(){let b,g=this;((this.chart.legend||{}).allItems||[]).forEach(E=>{(b=E.legendItem||{}).label&&b.label.element&&g.proxyLegendItem(E)})}proxyLegendItem(b){let g=b.legendItem||{};if(!g.label||!g.group)return;let E=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:t(b.name,this.chart.renderer.forExport),item:b}),y={tabindex:-1,"aria-pressed":b.visible,"aria-label":E},x=g.group.div?g.label:g.group;b.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:g.label,visual:x.element},"button",y)}getKeyboardNavigation(){let b=this.keyCodes,g=this,E=this.chart;return new S(E,{keyCodeMap:[[[b.left,b.right,b.up,b.down],function(y){return g.onKbdArrowKey(this,y)}],[[b.enter,b.space],function(){return g.onKbdClick(this)}],[[b.pageDown,b.pageUp],function(y){let x=y===b.pageDown?1:-1;return g.highlightAdjacentLegendPage(x),this.response.success}]],validate:function(){return g.shouldHaveLegendNavigation()},init:function(){E.highlightLegendItem(0),g.highlightedLegendItemIx=0},terminate:function(){g.highlightedLegendItemIx=-1,E.legend.allItems.forEach(y=>C(!1,y))}})}onKbdArrowKey(b,g){let{keyCodes:{left:E,up:y},highlightedLegendItemIx:x,chart:e}=this,l=e.legend.allItems.length,f=e.options.accessibility.keyboardNavigation.wrapAround,v=g===E||g===y?-1:1;return e.highlightLegendItem(x+v)?this.highlightedLegendItemIx+=v:f&&l>1&&(this.highlightedLegendItemIx=v>0?0:l-1,e.highlightLegendItem(this.highlightedLegendItemIx)),b.response.success}onKbdClick(b){let g=this.chart.legend.allItems[this.highlightedLegendItemIx];return g&&g.a11yProxyElement&&g.a11yProxyElement.click(),b.response.success}shouldHaveLegendNavigation(){if(!p(this.chart))return!1;let b=this.chart,g=(b.options.legend||{}).accessibility||{};return!!(b.legend.display&&g.keyboardNavigation&&g.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}return function(M){function b(E){let y=this.legend.allItems,x=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,e=y[E],l=(e==null?void 0:e.legendItem)||{};if(e){s(x)&&y[x]&&C(!1,y[x]),function(A,w){let N=(A.allItems[w].legendItem||{}).pageIx,R=A.currentPage;N!==void 0&&N+1!==R&&A.scroll(1+N-R)}(this.legend,E);let f=l.label,v=e.a11yProxyElement&&e.a11yProxyElement.element;return f&&f.element&&v&&this.setFocusToElement(f,v),C(!0,e),!0}return!1}function g(E){let y=this.chart.options.accessibility,x=E.item;y.enabled&&x&&x.a11yProxyElement&&x.a11yProxyElement.innerElement.setAttribute("aria-pressed",E.visible?"true":"false")}M.compose=function(E,y){let x=E.prototype;x.highlightLegendItem||(x.highlightLegendItem=b,h(y,"afterColorizeItem",g))}}(D||(D={})),D}),K(d,"Stock/Navigator/ChartNavigatorComposition.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(I,L){let O,{isTouchDevice:k}=I,{addEvent:B,merge:S,pick:j}=L,P=[];function m(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function u(){var C;let r,t,n,c=this.legend,p=this.navigator;if(p){r=c&&c.options,t=p.xAxis,n=p.yAxis;let{scrollbarHeight:D,scrollButtonSize:M}=p;this.inverted?(p.left=p.opposite?this.chartWidth-D-p.height:this.spacing[3]+D,p.top=this.plotTop+M):(p.left=j(t.left,this.plotLeft+M),p.top=p.navigatorOptions.top||this.chartHeight-p.height-D-(((C=this.scrollbar)==null?void 0:C.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(r&&r.verticalAlign==="bottom"&&r.layout!=="proximate"&&r.enabled&&!r.floating?c.legendHeight+j(r.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),t&&n&&(this.inverted?t.options.left=n.options.left=p.left:t.options.top=n.options.top=p.top,t.setAxisSize(),n.setAxisSize())}}function h(r){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new O(this),j(r.redraw,!0)&&this.redraw(r.animation))}function o(){let r=this.options;(r.navigator.enabled||r.scrollbar.enabled)&&(this.scroller=this.navigator=new O(this))}function s(){let r=this.options,t=r.navigator,n=r.rangeSelector;if((t&&t.enabled||n&&n.enabled)&&(!k&&this.zooming.type==="x"||k&&this.zooming.pinchType==="x"))return!1}function a(r){let t=r.navigator;if(t&&r.xAxis[0]){let n=r.xAxis[0].getExtremes();t.render(n.min,n.max)}}function i(r){let t=r.options.navigator||{},n=r.options.scrollbar||{};!this.navigator&&!this.scroller&&(t.enabled||n.enabled)&&(S(!0,this.options.navigator,t),S(!0,this.options.scrollbar,n),delete r.options.navigator,delete r.options.scrollbar)}return{compose:function(r,t){if(L.pushUnique(P,r)){let n=r.prototype;O=t,n.callbacks.push(a),B(r,"afterAddSeries",m),B(r,"afterSetChartSize",u),B(r,"afterUpdate",h),B(r,"beforeRender",o),B(r,"beforeShowResetZoom",s),B(r,"update",i)}}}}),K(d,"Core/Axis/NavigatorAxisComposition.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(I,L){let{isTouchDevice:O}=I,{addEvent:k,correctFloat:B,defined:S,isNumber:j,pick:P}=L;function m(){this.navigatorAxis||(this.navigatorAxis=new h(this))}function u(o){let s,a=this.chart,i=a.options,r=i.navigator,t=this.navigatorAxis,n=a.zooming.pinchType,c=i.rangeSelector,p=a.zooming.type;if(this.isXAxis&&(r!=null&&r.enabled||c!=null&&c.enabled)){if(p==="y"&&o.trigger==="zoom")s=!1;else if((o.trigger==="zoom"&&p==="xy"||O&&n==="xy")&&this.options.range){let C=t.previousZoom;S(o.min)?t.previousZoom=[this.min,this.max]:C&&(o.min=C[0],o.max=C[1],t.previousZoom=void 0)}}s!==void 0&&o.preventDefault()}class h{static compose(s){s.keepProps.includes("navigatorAxis")||(s.keepProps.push("navigatorAxis"),k(s,"init",m),k(s,"setExtremes",u))}constructor(s){this.axis=s}destroy(){this.axis=void 0}toFixedRange(s,a,i,r){let t=this.axis,n=(t.pointRange||0)/2,c=P(i,t.translate(s,!0,!t.horiz)),p=P(r,t.translate(a,!0,!t.horiz));return S(i)||(c=B(c+n)),S(r)||(p=B(p-n)),j(c)&&j(p)||(c=p=void 0),{min:c,max:p}}}return h}),K(d,"Stock/Navigator/NavigatorDefaults.js",[d["Core/Color/Color.js"],d["Core/Series/SeriesRegistry.js"]],function(I,L){let{parse:O}=I,{seriesTypes:k}=L;return{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:O("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:k.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),K(d,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(I,L,O,k,B={}){let S=B.width?B.width/2:O,j=Math.round(S/3)+.5;return[["M",-S-1,.5],["L",S,.5],["L",S,(k=B.height||k)+.5],["L",-S-1,k+.5],["L",-S-1,.5],["M",-j,4],["L",-j,k-3],["M",j-1,4],["L",j-1,k-3]]}}}),K(d,"Stock/Utilities/StockUtilities.js",[d["Core/Utilities.js"]],function(I){let{defined:L}=I;return{setFixedRange:function(O){let k=this.xAxis[0];L(k.dataMax)&&L(k.dataMin)&&O?this.fixedRange=Math.min(O,k.dataMax-k.dataMin):this.fixedRange=O}}}),K(d,"Stock/Navigator/NavigatorComposition.js",[d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Axis/NavigatorAxisComposition.js"],d["Stock/Navigator/NavigatorDefaults.js"],d["Stock/Navigator/NavigatorSymbols.js"],d["Core/Renderer/RendererRegistry.js"],d["Stock/Utilities/StockUtilities.js"],d["Core/Utilities.js"]],function(I,L,O,k,B,S,j,P){let{setOptions:m}=I,{composed:u}=L,{getRendererType:h}=S,{setFixedRange:o}=j,{addEvent:s,extend:a,pushUnique:i}=P;function r(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(t,n,c){O.compose(n),i(u,"Navigator")&&(t.prototype.setFixedRange=o,a(h().prototype.symbols,B),s(c,"afterUpdate",r),m({navigator:k}))}}}),K(d,"Core/Axis/ScrollbarAxis.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(I,L){var O;let{composed:k}=I,{addEvent:B,defined:S,pick:j,pushUnique:P}=L;return function(m){let u;function h(i){let r=j(i.options&&i.options.min,i.min),t=j(i.options&&i.options.max,i.max);return{axisMin:r,axisMax:t,scrollMin:S(i.dataMin)?Math.min(r,i.min,i.dataMin,j(i.threshold,1/0)):r,scrollMax:S(i.dataMax)?Math.max(t,i.max,i.dataMax,j(i.threshold,-1/0)):t}}function o(){let i=this.scrollbar,r=i&&!i.options.opposite,t=this.horiz?2:r?3:1;i&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=i.size+(i.options.margin||0))}function s(){let i=this;i.options&&i.options.scrollbar&&i.options.scrollbar.enabled&&(i.options.scrollbar.vertical=!i.horiz,i.options.startOnTick=i.options.endOnTick=!1,i.scrollbar=new u(i.chart.renderer,i.options.scrollbar,i.chart),B(i.scrollbar,"changed",function(r){let t,n,{axisMin:c,axisMax:p,scrollMin:C,scrollMax:D}=h(i),M=D-C;if(S(c)&&S(p))if(i.horiz&&!i.reversed||!i.horiz&&i.reversed?(t=C+M*this.to,n=C+M*this.from):(t=C+M*(1-this.from),n=C+M*(1-this.to)),this.shouldUpdateExtremes(r.DOMType)){let b=r.DOMType!=="mousemove"&&r.DOMType!=="touchmove"&&void 0;i.setExtremes(n,t,!0,b,r)}else this.setRange(this.from,this.to)}))}function a(){let i,r,t,{scrollMin:n,scrollMax:c}=h(this),p=this.scrollbar,C=this.axisTitleMargin+(this.titleOffset||0),D=this.chart.scrollbarsOffsets,M=this.options.margin||0;if(p&&D){if(this.horiz)this.opposite||(D[1]+=C),p.position(this.left,this.top+this.height+2+D[1]-(this.opposite?M:0),this.width,this.height),this.opposite||(D[1]+=M),i=1;else{let b;this.opposite&&(D[0]+=C),b=p.options.opposite?this.left+this.width+2+D[0]-(this.opposite?0:M):this.opposite?0:M,p.position(b,this.top,this.width,this.height),this.opposite&&(D[0]+=M),i=0}D[i]+=p.size+(p.options.margin||0),isNaN(n)||isNaN(c)||!S(this.min)||!S(this.max)||this.min===this.max?p.setRange(0,1):(r=(this.min-n)/(c-n),t=(this.max-n)/(c-n),this.horiz&&!this.reversed||!this.horiz&&this.reversed?p.setRange(r,t):p.setRange(1-t,1-r))}}m.compose=function(i,r){P(k,"Axis.Scrollbar")&&(u=r,B(i,"afterGetOffset",o),B(i,"afterInit",s),B(i,"afterRender",a))}}(O||(O={})),O}),K(d,"Stock/Scrollbar/ScrollbarDefaults.js",[],function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),K(d,"Stock/Scrollbar/Scrollbar.js",[d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Axis/ScrollbarAxis.js"],d["Stock/Scrollbar/ScrollbarDefaults.js"],d["Core/Utilities.js"]],function(I,L,O,k,B){let{defaultOptions:S}=I,{addEvent:j,correctFloat:P,defined:m,destroyObjectProperties:u,fireEvent:h,merge:o,pick:s,removeEvent:a}=B;class i{static compose(t){O.compose(t,i)}static swapXY(t,n){return n&&t.forEach(c=>{let p,C=c.length;for(let D=0;D<C;D+=2)typeof(p=c[D+1])=="number"&&(c[D+1]=c[D+2],c[D+2]=p)}),t}constructor(t,n,c){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(t,n,c)}addEvents(){let t=this.options.inverted?[1,0]:[0,1],n=this.scrollbarButtons,c=this.scrollbarGroup.element,p=this.track.element,C=this.mouseDownHandler.bind(this),D=this.mouseMoveHandler.bind(this),M=this.mouseUpHandler.bind(this),b=[[n[t[0]].element,"click",this.buttonToMinClick.bind(this)],[n[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[p,"click",this.trackClick.bind(this)],[c,"mousedown",C],[c.ownerDocument,"mousemove",D],[c.ownerDocument,"mouseup",M],[c,"touchstart",C],[c.ownerDocument,"touchmove",D],[c.ownerDocument,"touchend",M]];b.forEach(function(g){j.apply(null,g)}),this._events=b}buttonToMaxClick(t){let n=(this.to-this.from)*s(this.options.step,.2);this.updatePosition(this.from+n,this.to+n),h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){let n=P(this.to-this.from)*s(this.options.step,.2);this.updatePosition(P(this.from-n),P(this.to-n)),h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){let n=this.options,c=n.minWidth>this.calculatedWidth?n.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-c),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-c)}}destroy(){let t=this,n=t.chart.scroller;t.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(c){t[c]&&t[c].destroy&&(t[c]=t[c].destroy())}),n&&t===n.scrollbar&&(n.scrollbar=null,u(n.scrollbarButtons))}drawScrollbarButton(t){let n=this.renderer,c=this.scrollbarButtons,p=this.options,C=this.size,D=n.g().add(this.group);if(c.push(D),p.buttonsEnabled){let M=n.rect().addClass("highcharts-scrollbar-button").add(D);this.chart.styledMode||M.attr({stroke:p.buttonBorderColor,"stroke-width":p.buttonBorderWidth,fill:p.buttonBackgroundColor}),M.attr(M.crisp({x:-.5,y:-.5,width:C+1,height:C+1,r:p.buttonBorderRadius},M.strokeWidth()));let b=n.path(i.swapXY([["M",C/2+(t?-1:1),C/2-3],["L",C/2+(t?-1:1),C/2+3],["L",C/2+(t?2:-2),C/2]],p.vertical)).addClass("highcharts-scrollbar-arrow").add(c[t]);this.chart.styledMode||b.attr({fill:p.buttonArrowColor})}}init(t,n,c){this.scrollbarButtons=[],this.renderer=t,this.userOptions=n,this.options=o(k,S.scrollbar,n),this.options.margin=s(this.options.margin,10),this.chart=c,this.size=s(this.options.size,this.options.height),n.enabled&&(this.render(),this.addEvents())}mouseDownHandler(t){var p;let n=((p=this.chart.pointer)==null?void 0:p.normalize(t))||t,c=this.cursorToScrollbarPosition(n);this.chartX=c.chartX,this.chartY=c.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(t){var D;let n,c=((D=this.chart.pointer)==null?void 0:D.normalize(t))||t,p=this.options.vertical?"chartY":"chartX",C=this.initPositions||[];this.grabbedCenter&&(!t.touches||t.touches[0][p]!==0)&&(n=this.cursorToScrollbarPosition(c)[p]-this[p],this.hasDragged=!0,this.updatePosition(C[0]+n,C[1]+n),this.hasDragged&&h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){this.hasDragged&&h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(t,n,c,p){let{buttonsEnabled:C,margin:D=0,vertical:M}=this.options,b=this.rendered?"animate":"attr",g=p,E=0;this.group.show(),this.x=t,this.y=n+this.trackBorderWidth,this.width=c,this.height=p,this.xOffset=g,this.yOffset=E,M?(this.width=this.yOffset=c=E=this.size,this.xOffset=g=0,this.yOffset=E=C?this.size:0,this.barWidth=p-(C?2*c:0),this.x=t+=D):(this.height=p=this.size,this.xOffset=g=C?this.size:0,this.barWidth=c-(C?2*p:0),this.y=this.y+D),this.group[b]({translateX:t,translateY:this.y}),this.track[b]({width:c,height:p}),this.scrollbarButtons[1][b]({translateX:M?0:c-g,translateY:M?p-E:0})}removeEvents(){this._events.forEach(function(t){a.apply(null,t)}),this._events.length=0}render(){let t=this.renderer,n=this.options,c=this.size,p=this.chart.styledMode,C=t.g("scrollbar").attr({zIndex:n.zIndex}).hide().add();this.group=C,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({r:n.trackBorderRadius||0,height:c,width:c}).add(C),p||this.track.attr({fill:n.trackBackgroundColor,stroke:n.trackBorderColor,"stroke-width":n.trackBorderWidth});let D=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-D%2/2,y:-D%2/2}),this.scrollbarGroup=t.g().add(C),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:c-D,width:c-D,r:n.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(i.swapXY([["M",-3,c/4],["L",-3,2*c/3],["M",0,c/4],["L",0,2*c/3],["M",3,c/4],["L",3,2*c/3]],n.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),p||(this.scrollbar.attr({fill:n.barBackgroundColor,stroke:n.barBorderColor,"stroke-width":n.barBorderWidth}),this.scrollbarRifles.attr({stroke:n.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(t,n){let c,p,C=this.options,D=C.vertical,M=C.minWidth,b=this.barWidth,g=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!m(b))return;let E=b*Math.min(n,1);c=Math.ceil(b*(t=Math.max(t,0))),this.calculatedWidth=p=P(E-c),p<M&&(c=(b-M+p)*t,p=M);let y=Math.floor(c+this.xOffset+this.yOffset),x=p/2-.5;this.from=t,this.to=n,D?(this.scrollbarGroup[g]({translateY:y}),this.scrollbar[g]({height:p}),this.scrollbarRifles[g]({translateY:x}),this.scrollbarTop=y,this.scrollbarLeft=0):(this.scrollbarGroup[g]({translateX:y}),this.scrollbar[g]({width:p}),this.scrollbarRifles[g]({translateX:x}),this.scrollbarLeft=y,this.scrollbarTop=0),p<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),C.showFull===!1&&(t<=0&&n>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(t){return s(this.options.liveRedraw,L.svg&&!L.isTouchDevice&&!this.chart.boosted)||t==="mouseup"||t==="touchend"||!m(t)}trackClick(t){var D;let n=((D=this.chart.pointer)==null?void 0:D.normalize(t))||t,c=this.to-this.from,p=this.y+this.scrollbarTop,C=this.x+this.scrollbarLeft;this.options.vertical&&n.chartY>p||!this.options.vertical&&n.chartX>C?this.updatePosition(this.from+c,this.to+c):this.updatePosition(this.from-c,this.to-c),h(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,o(!0,this.options,t),this.chart)}updatePosition(t,n){n>1&&(t=P(1-P(n-t)),n=1),t<0&&(n=P(n-t),t=0),this.from=t,this.to=n}}return i.defaultOptions=k,S.scrollbar=o(!0,i.defaultOptions,S.scrollbar),i}),K(d,"Stock/Navigator/Navigator.js",[d["Core/Axis/Axis.js"],d["Stock/Navigator/ChartNavigatorComposition.js"],d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Axis/NavigatorAxisComposition.js"],d["Stock/Navigator/NavigatorComposition.js"],d["Stock/Scrollbar/Scrollbar.js"],d["Core/Utilities.js"]],function(I,L,O,k,B,S,j,P){let{defaultOptions:m}=O,{isTouchDevice:u}=k,{addEvent:h,clamp:o,correctFloat:s,defined:a,destroyObjectProperties:i,erase:r,extend:t,find:n,fireEvent:c,isArray:p,isNumber:C,merge:D,pick:M,removeEvent:b,splat:g}=P;function E(x,...e){let l=[].filter.call(e,C);if(l.length)return Math[x].apply(0,l)}class y{static compose(e,l,f){L.compose(e,y),S.compose(e,l,f)}constructor(e){this.scrollbarHeight=0,this.init(e)}drawHandle(e,l,f,v){let A=this.navigatorOptions.handles.height;this.handles[l][v](f?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(e,10)+.5-A)}:{translateX:Math.round(this.left+parseInt(e,10)),translateY:Math.round(this.top+this.height/2-A/2-1)})}drawOutline(e,l,f,v){let A=this.navigatorOptions.maskInside,w=this.outline.strokeWidth(),N=w/2,R=w%2/2,T=this.scrollButtonSize,F=this.size,U=this.top,H=this.height,z=U-N,q=U+H,G=this.left,W,V;f?(W=U+l+R,l=U+e+R,V=[["M",G+H,U-T-R],["L",G+H,W],["L",G,W],["M",G,l],["L",G+H,l],["L",G+H,U+F+T]],A&&V.push(["M",G+H,W-N],["L",G+H,l+N])):(G-=T,e+=G+T-R,l+=G+T-R,V=[["M",G,z],["L",e,z],["L",e,q],["M",l,q],["L",l,z],["L",G+F+2*T,U+N]],A&&V.push(["M",e-N,z],["L",l+N,z])),this.outline[v]({d:V})}drawMasks(e,l,f,v){let A,w,N,R,T=this.left,F=this.top,U=this.height;f?(N=[T,T,T],R=[F,F+e,F+l],w=[U,U,U],A=[e,l-e,this.size-l]):(N=[T,T+e,T+l],R=[F,F,F],w=[e,l-e,this.size-l],A=[U,U,U]),this.shades.forEach((H,z)=>{H[v]({x:N[z],y:R[z],width:w[z],height:A[z]})})}renderElements(){let e=this,l=e.navigatorOptions,f=l.maskInside,v=e.chart,A=v.inverted,w=v.renderer,N={cursor:A?"ns-resize":"ew-resize"},R=e.navigatorGroup=w.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!f,f,!f].forEach((T,F)=>{let U=w.rect().addClass("highcharts-navigator-mask"+(F===1?"-inside":"-outside")).add(R);v.styledMode||(U.attr({fill:T?l.maskFill:"rgba(0,0,0,0)"}),F===1&&U.css(N)),e.shades[F]=U}),e.outline=w.path().addClass("highcharts-navigator-outline").add(R),v.styledMode||e.outline.attr({"stroke-width":l.outlineWidth,stroke:l.outlineColor}),l.handles&&l.handles.enabled){let T=l.handles,{height:F,width:U}=T;[0,1].forEach(H=>{e.handles[H]=w.symbol(T.symbols[H],-U/2-1,0,U,F,T),v.inverted&&e.handles[H].attr({rotation:90,rotationOriginX:Math.floor(-U/2),rotationOriginY:(F+U)/2}),e.handles[H].attr({zIndex:7-H}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][H]).add(R),v.styledMode||e.handles[H].attr({fill:T.backgroundColor,stroke:T.borderColor,"stroke-width":T.lineWidth}).css(N)})}}update(e){(this.series||[]).forEach(l=>{l.baseSeries&&delete l.baseSeries.navigatorSeries}),this.destroy(),D(!0,this.chart.options.navigator,e),this.init(this.chart)}render(e,l,f,v){let A=this.chart,w=this.xAxis,N=w.pointRange||0,R=w.navigatorAxis.fake?A.xAxis[0]:w,T=this.navigatorEnabled,F=this.rendered,U=A.inverted,H=A.xAxis[0].minRange,z=A.xAxis[0].options.maxRange,q=this.scrollButtonSize,G,W,V,X=this.scrollbarHeight,Z,Y;if(this.hasDragged&&!a(f))return;if(e=s(e-N/2),l=s(l+N/2),!C(e)||!C(l)){if(!F)return;f=0,v=M(w.width,R.width)}this.left=M(w.left,A.plotLeft+q+(U?A.plotWidth:0));let $=this.size=Z=M(w.len,(U?A.plotHeight:A.plotWidth)-2*q);G=U?X:Z+2*q,f=M(f,w.toPixels(e,!0)),v=M(v,w.toPixels(l,!0)),C(f)&&Math.abs(f)!==1/0||(f=0,v=G);let Q=w.toValue(f,!0),J=w.toValue(v,!0),nt=Math.abs(s(J-Q));nt<H?this.grabbedLeft?f=w.toPixels(J-H-N,!0):this.grabbedRight&&(v=w.toPixels(Q+H+N,!0)):a(z)&&s(nt-N)>z&&(this.grabbedLeft?f=w.toPixels(J-z-N,!0):this.grabbedRight&&(v=w.toPixels(Q+z+N,!0))),this.zoomedMax=o(Math.max(f,v),0,$),this.zoomedMin=o(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(f,v),0,$),this.range=this.zoomedMax-this.zoomedMin,$=Math.round(this.zoomedMax);let it=Math.round(this.zoomedMin);T&&(this.navigatorGroup.attr({visibility:"inherit"}),Y=F&&!this.hasDragged?"animate":"attr",this.drawMasks(it,$,U,Y),this.drawOutline(it,$,U,Y),this.navigatorOptions.handles.enabled&&(this.drawHandle(it,0,U,Y),this.drawHandle($,1,U,Y))),this.scrollbar&&(U?(V=this.top-q,W=this.left-X+(T||!R.opposite?0:(R.titleOffset||0)+R.axisTitleMargin),X=Z+2*q):(V=this.top+(T?this.height:-X),W=this.left-q),this.scrollbar.position(W,V,G,X),this.scrollbar.setRange(this.zoomedMin/(Z||1),this.zoomedMax/(Z||1))),this.rendered=!0,c(this,"afterRender")}addMouseEvents(){let e=this,l=e.chart,f=l.container,v=[],A,w;e.mouseMoveHandler=A=function(N){e.onMouseMove(N)},e.mouseUpHandler=w=function(N){e.onMouseUp(N)},(v=e.getPartsEvents("mousedown")).push(h(l.renderTo,"mousemove",A),h(f.ownerDocument,"mouseup",w),h(l.renderTo,"touchmove",A),h(f.ownerDocument,"touchend",w)),v.concat(e.getPartsEvents("touchstart")),e.eventsToUnbind=v,e.series&&e.series[0]&&v.push(h(e.series[0].xAxis,"foundExtremes",function(){l.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(e){let l=this,f=[];return["shades","handles"].forEach(function(v){l[v].forEach(function(A,w){f.push(h(A.element,e,function(N){l[v+"Mousedown"](N,w)}))})}),f}shadesMousedown(e,l){var q;e=((q=this.chart.pointer)==null?void 0:q.normalize(e))||e;let f=this.chart,v=this.xAxis,A=this.zoomedMin,w=this.size,N=this.range,R=this.left,T=e.chartX,F,U,H,z;f.inverted&&(T=e.chartY,R=this.top),l===1?(this.grabbedCenter=T,this.fixedWidth=N,this.dragOffset=T-A):(z=T-R-N/2,l===0?z=Math.max(0,z):l===2&&z+N>=w&&(z=w-N,this.reversedExtremes?(z-=N,U=this.getUnionExtremes().dataMin):F=this.getUnionExtremes().dataMax),z!==A&&(this.fixedWidth=N,a((H=v.navigatorAxis.toFixedRange(z,z+N,U,F)).min)&&c(this,"setRange",{min:Math.min(H.min,H.max),max:Math.max(H.min,H.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(e,l){var w;e=((w=this.chart.pointer)==null?void 0:w.normalize(e))||e;let f=this.chart,v=f.xAxis[0],A=this.reversedExtremes;l===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=A?v.min:v.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=A?v.max:v.min),f.setFixedRange(void 0)}onMouseMove(e){var F;let l=this,f=l.chart,v=l.navigatorSize,A=l.range,w=l.dragOffset,N=f.inverted,R=l.left,T;(!e.touches||e.touches[0].pageX!==0)&&(T=(e=((F=f.pointer)==null?void 0:F.normalize(e))||e).chartX,N&&(R=l.top,T=e.chartY),l.grabbedLeft?(l.hasDragged=!0,l.render(0,0,T-R,l.otherHandlePos)):l.grabbedRight?(l.hasDragged=!0,l.render(0,0,l.otherHandlePos,T-R)):l.grabbedCenter&&(l.hasDragged=!0,T<w?T=w:T>v+w-A&&(T=v+w-A),l.render(0,0,T-w,T-w+A)),l.hasDragged&&l.scrollbar&&M(l.scrollbar.options.liveRedraw,!u&&!this.chart.boosted)&&(e.DOMType=e.type,setTimeout(function(){l.onMouseUp(e)},0)))}onMouseUp(e){let l,f,v,A,w,N,R=this.chart,T=this.xAxis,F=this.scrollbar,U=e.DOMEvent||e,H=R.inverted,z=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!F||!F.hasDragged)||e.trigger==="scrollbar")&&(v=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?A=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(w=this.fixedExtreme),this.zoomedMax===this.size&&(w=this.reversedExtremes?v.dataMin:v.dataMax),this.zoomedMin===0&&(A=this.reversedExtremes?v.dataMax:v.dataMin),a((N=T.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,A,w)).min)&&c(this,"setRange",{min:Math.min(N.min,N.max),max:Math.max(N.min,N.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:U}})),e.DOMType!=="mousemove"&&e.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&C(this.zoomedMin)&&C(this.zoomedMax)&&(f=Math.round(this.zoomedMin),l=Math.round(this.zoomedMax),this.shades&&this.drawMasks(f,l,H,z),this.outline&&this.drawOutline(f,l,H,z),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(f,0,H,z),this.drawHandle(l,1,H,z)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(e){e()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let e=this.baseSeries||[];this.navigatorEnabled&&e[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&e.forEach(function(l){b(l,"updatedData",this.updatedDataHandler)},this),e[0].xAxis&&b(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(e){let l=e.options,f=l.navigator||{},v=f.enabled,A=l.scrollbar||{},w=A.enabled,N=v&&f.height||0,R=w&&A.height||0,T=A.buttonsEnabled&&R||0;this.handles=[],this.shades=[],this.chart=e,this.setBaseSeries(),this.height=N,this.scrollbarHeight=R,this.scrollButtonSize=T,this.scrollbarEnabled=w,this.navigatorEnabled=v,this.navigatorOptions=f,this.scrollbarOptions=A,this.opposite=M(f.opposite,!!(!v&&e.inverted));let F=this,U=F.baseSeries,H=e.xAxis.length,z=e.yAxis.length,q=U&&U[0]&&U[0].xAxis||e.xAxis[0]||{options:{}};if(e.isDirtyBox=!0,F.navigatorEnabled?(F.xAxis=new I(e,D({breaks:q.options.breaks,ordinal:q.options.ordinal,overscroll:q.options.overscroll},f.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",type:"datetime",index:H,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},e.inverted?{offsets:[T,0,-T,0],width:N}:{offsets:[0,-T,0,T],height:N}),"xAxis"),F.yAxis=new I(e,D(f.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:z,isInternal:!0,reversed:M(f.yAxis&&f.yAxis.reversed,e.yAxis[0]&&e.yAxis[0].reversed,!1),zoomEnabled:!1},e.inverted?{width:N}:{height:N}),"yAxis"),U||f.series.data?F.updateNavigatorSeries(!1):e.series.length===0&&(F.unbindRedraw=h(e,"beforeRedraw",function(){e.series.length>0&&!F.series&&(F.setBaseSeries(),F.unbindRedraw())})),F.reversedExtremes=e.inverted&&!F.xAxis.reversed||!e.inverted&&F.xAxis.reversed,F.renderElements(),F.addMouseEvents()):(F.xAxis={chart:e,navigatorAxis:{fake:!0},translate:function(G,W){let V=e.xAxis[0],X=V.getExtremes(),Z=V.len-2*T,Y=E("min",V.options.min,X.dataMin),$=E("max",V.options.max,X.dataMax)-Y;return W?G*$/Z+Y:Z*(G-Y)/$},toPixels:function(G){return this.translate(G)},toValue:function(G){return this.translate(G,!0)}},F.xAxis.navigatorAxis.axis=F.xAxis,F.xAxis.navigatorAxis.toFixedRange=B.prototype.toFixedRange.bind(F.xAxis.navigatorAxis)),e.options.scrollbar.enabled){let G=D(e.options.scrollbar,{vertical:e.inverted});!C(G.margin)&&F.navigatorEnabled&&(G.margin=e.inverted?-3:3),e.scrollbar=F.scrollbar=new j(e.renderer,G,e),h(F.scrollbar,"changed",function(W){let V=F.size,X=V*this.to,Z=V*this.from;F.hasDragged=F.scrollbar.hasDragged,F.render(0,0,Z,X),this.shouldUpdateExtremes(W.DOMType)&&setTimeout(function(){F.onMouseUp(W)})})}F.addBaseSeriesEvents(),F.addChartEvents()}getUnionExtremes(e){let l,f=this.chart.xAxis[0],v=this.xAxis,A=v.options,w=f.options;return e&&f.dataMin===null||(l={dataMin:M(A&&A.min,E("min",w.min,f.dataMin,v.dataMin,v.min)),dataMax:M(A&&A.max,E("max",w.max,f.dataMax,v.dataMax,v.max))}),l}setBaseSeries(e,l){let f=this.chart,v=this.baseSeries=[];e=e||f.options&&f.options.navigator.baseSeries||(f.series.length?n(f.series,A=>!A.options.isInternal).index:0),(f.series||[]).forEach((A,w)=>{!A.options.isInternal&&(A.options.showInNavigator||(w===e||A.options.id===e)&&A.options.showInNavigator!==!1)&&v.push(A)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,l)}updateNavigatorSeries(e,l){let f=this,v=f.chart,A=f.baseSeries,w={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},N=f.series=(f.series||[]).filter(H=>{let z=H.baseSeries;return!(0>A.indexOf(z))||(z&&(b(z,"updatedData",f.updatedDataHandler),delete z.navigatorSeries),H.chart&&H.destroy(),!1)}),R,T,F=f.navigatorOptions.series,U;A&&A.length&&A.forEach(H=>{let z=H.navigatorSeries,q=t({color:H.color,visible:H.visible},p(F)?m.navigator.series:F);if(z&&f.navigatorOptions.adaptToUpdatedData===!1)return;w.name="Navigator "+A.length,U=(R=H.options||{}).navigatorOptions||{},q.dataLabels=g(q.dataLabels),(T=D(R,w,q,U)).pointRange=M(q.pointRange,U.pointRange,m.plotOptions[T.type||"line"].pointRange);let G=U.data||q.data;f.hasNavigatorData=f.hasNavigatorData||!!G,T.data=G||R.data&&R.data.slice(0),z&&z.options?z.update(T,l):(H.navigatorSeries=v.initSeries(T),v.setSortedData(),H.navigatorSeries.baseSeries=H,N.push(H.navigatorSeries))}),(F.data&&!(A&&A.length)||p(F))&&(f.hasNavigatorData=!1,(F=g(F)).forEach((H,z)=>{w.name="Navigator "+(N.length+1),(T=D(m.navigator.series,{color:v.series[z]&&!v.series[z].options.isInternal&&v.series[z].color||v.options.colors[z]||v.options.colors[0]},w,H)).data=H.data,T.data&&(f.hasNavigatorData=!0,N.push(v.initSeries(T)))})),e&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let e=this,l=e.baseSeries||[];l[0]&&l[0].xAxis&&l[0].eventsToUnbind.push(h(l[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),l.forEach(f=>{f.eventsToUnbind.push(h(f,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),f.eventsToUnbind.push(h(f,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&f.xAxis&&f.eventsToUnbind.push(h(f,"updatedData",this.updatedDataHandler)),f.eventsToUnbind.push(h(f,"remove",function(){this.navigatorSeries&&(r(e.series,this.navigatorSeries),a(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(e){return this.baseSeries.reduce(function(l,f){return Math.min(l,f.xData&&f.xData.length?f.xData[0]:l)},e)}modifyNavigatorAxisExtremes(){let e=this.xAxis;if(e.getExtremes!==void 0){let l=this.getUnionExtremes(!0);l&&(l.dataMin!==e.min||l.dataMax!==e.max)&&(e.min=l.dataMin,e.max=l.dataMax)}}modifyBaseAxisExtremes(){var G;let e,l,f=this.chart.navigator,v=this.getExtremes(),A=v.min,w=v.max,N=v.dataMin,R=v.dataMax,T=w-A,F=f.stickToMin,U=f.stickToMax,H=M((G=this.ordinal)==null?void 0:G.convertOverscroll(this.options.overscroll),0),z=f.series&&f.series[0],q=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(F&&(e=(l=N)+T),U&&(e=R+H,F||(l=Math.max(N,e-T,f.getBaseSeriesMin(z&&z.xData?z.xData[0]:-Number.MAX_VALUE)))),q&&(F||U)&&C(l)&&(this.min=this.userMin=l,this.max=this.userMax=e)),f.stickToMin=f.stickToMax=null}updatedDataHandler(){let e=this.chart.navigator,l=this.navigatorSeries,f=e.reversedExtremes?Math.round(e.zoomedMin)===0:Math.round(e.zoomedMax)>=Math.round(e.size);e.stickToMax=M(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,f),e.stickToMin=e.shouldStickToMin(this,e),l&&!e.hasNavigatorData&&(l.options.pointStart=this.xData[0],l.setData(this.options.data,!1,null,!1))}shouldStickToMin(e,l){let f=l.getBaseSeriesMin(e.xData[0]),v=e.xAxis,A=v.max,w=v.min,N=v.options.range;return!!(C(A)&&C(w))&&(N&&A-f>0?A-f<N:w<=f)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(h(this.chart,"redraw",function(){let e=this.navigator,l=e&&(e.baseSeries&&e.baseSeries[0]&&e.baseSeries[0].xAxis||this.xAxis[0]);l&&e.render(l.min,l.max)}),h(this.chart,"getMargins",function(){let e=this.navigator,l=e.opposite?"plotTop":"marginBottom";this.inverted&&(l=e.opposite?"marginRight":"plotLeft"),this[l]=(this[l]||0)+(e.navigatorEnabled||!this.inverted?e.height+e.scrollbarHeight:0)+e.navigatorOptions.margin}),h(y,"setRange",function(e){this.chart.xAxis[0].setExtremes(e.min,e.max,e.redraw,e.animation,e.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(r(this.chart.xAxis,this.xAxis),r(this.chart.axes,this.xAxis)),this.yAxis&&(r(this.chart.yAxis,this.yAxis),r(this.chart.axes,this.yAxis)),(this.series||[]).forEach(e=>{e.destroy&&e.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(e=>{this[e]&&this[e].destroy&&this[e].destroy(),this[e]=null}),[this.handles].forEach(e=>{i(e)})}}return y}),K(d,"Accessibility/Components/NavigatorComponent.js",[d["Accessibility/AccessibilityComponent.js"],d["Accessibility/Utils/Announcer.js"],d["Accessibility/KeyboardNavigationHandler.js"],d["Stock/Navigator/Navigator.js"],d["Core/Animation/AnimationUtilities.js"],d["Core/Templating.js"],d["Core/Utilities.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Accessibility/Utils/ChartUtilities.js"]],function(I,L,O,k,B,S,j,P,m){let{animObject:u}=B,{format:h}=S,{clamp:o,pick:s,syncTimeout:a}=j,{getFakeMouseEvent:i}=P,{getAxisRangeDescription:r,fireEventOnWrappedOrUnwrappedElement:t}=m;return class extends I{init(){let n=this.chart,c=this;this.announcer=new L(n,"polite"),this.addEvent(k,"afterRender",function(){this.chart===c.chart&&this.chart.renderer&&a(()=>{c.proxyProvider.updateGroupProxyElementPositions("navigator"),c.updateHandleValues()},u(s(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){var p,C,D;let n=this.chart,c=n.options;if((p=c.navigator.accessibility)!=null&&p.enabled){let M=c.accessibility.landmarkVerbosity,b=(C=c.lang.accessibility)==null?void 0:C.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:M==="all"?"region":"group","aria-label":h(b,{chart:n},n)});let g=(D=c.lang.accessibility)==null?void 0:D.navigator.handleLabel;[0,1].forEach(E=>{let y=this.getHandleByIx(E);if(y){let x=this.proxyProvider.addProxyElement("navigator",{click:y},"input",{type:"range","aria-label":h(g,{handleIx:E,chart:n},n)});this[E?"maxHandleProxy":"minHandleProxy"]=x.innerElement,x.innerElement.style.pointerEvents="none",x.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(n){let c=this,p=this.chart,C=n?this.maxHandleProxy:this.minHandleProxy,D=this.keyCodes;return new O(p,{keyCodeMap:[[[D.left,D.right,D.up,D.down],function(M){if(C){let b=M===D.left||M===D.up?-1:1;C.value=""+o(parseFloat(C.value)+b,0,100),c.updateNavigator(()=>{let g=c.getHandleByIx(n);g&&p.setFocusToElement(g,C)})}return this.response.success}]],init:()=>{p.setFocusToElement(this.getHandleByIx(n),C)},validate:()=>{var M;return!!(this.getHandleByIx(n)&&C&&((M=p.options.navigator.accessibility)!=null&&M.enabled))}})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){let n=this.chart.navigator;if(n&&this.minHandleProxy&&this.maxHandleProxy){let c=n.size;this.minHandleProxy.value=""+Math.round(n.zoomedMin/c*100),this.maxHandleProxy.value=""+Math.round(n.zoomedMax/c*100)}}getHandleByIx(n){let c=this.chart.navigator;return c&&c.handles&&c.handles[n]}updateNavigator(n){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((c=>{var M;let p=this.chart,{navigator:C,pointer:D}=p;if(C&&D&&this.minHandleProxy&&this.maxHandleProxy){let b=D.getChartPosition(),g=parseFloat(this.minHandleProxy.value)/100*C.size,E=parseFloat(this.maxHandleProxy.value)/100*C.size;[[0,"mousedown",C.zoomedMin],[0,"mousemove",g],[0,"mouseup",g],[1,"mousedown",C.zoomedMax],[1,"mousemove",E],[1,"mouseup",E]].forEach(([e,l,f])=>{var A;let v=(A=this.getHandleByIx(e))==null?void 0:A.element;v&&t(v,i(l,{x:b.left+C.left+f,y:b.top+C.top},v))}),c&&c();let y=(M=p.options.lang.accessibility)==null?void 0:M.navigator.changeAnnouncement,x=r(p.xAxis[0]);this.announcer.announce(h(y,{axisRangeDescription:x,chart:p},p))}}).bind(this,n),20)}}}),K(d,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[d["Accessibility/Components/AnnotationsA11y.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Core/Templating.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Core/Utilities.js"]],function(I,L,O,k,B){let{getPointAnnotationTexts:S}=I,{getAxisDescription:j,getSeriesFirstPointElement:P,getSeriesA11yElement:m,unhideChartElementFromAT:u}=L,{format:h,numberFormat:o}=O,{reverseChildNodes:s,stripHTMLTagsFromString:a}=k,{find:i,isNumber:r,isString:t,pick:n,defined:c}=B;function p(g){let E=g.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(E!==!1&&g.points&&g.points.length>=+E)}function C(g,E){let y=g.series,x=y.chart,e=x.options.accessibility.point||{},l=y.options.accessibility&&y.options.accessibility.point||{},f=y.tooltipOptions||{},v=x.options.lang;return r(E)?o(E,l.valueDecimals||e.valueDecimals||f.valueDecimals||-1,v.decimalPoint,v.accessibility.thousandsSep||v.thousandsSep):E}function D(g,E){let y=g[E];return g.chart.langFormat("accessibility.series."+E+"Description",{name:j(y),series:g})}function M(g){let E=g.series,y=E.chart.series.length>1||E.options.name,x=function(v){let A=v.series,w=A.chart,N=A.options.accessibility,R=N&&N.point&&N.point.valueDescriptionFormat||w.options.accessibility.point.valueDescriptionFormat,T=n(A.xAxis&&A.xAxis.options.accessibility&&A.xAxis.options.accessibility.enabled,!w.angular&&A.type!=="flowmap"),F=T?function(U){let H=function(W){let V=W.series,X=V.chart,Z=V.options.accessibility&&V.options.accessibility.point||{},Y=X.options.accessibility.point||{},$=V.xAxis&&V.xAxis.dateTime;if($){let Q=$.getXDateFormat(W.x||0,X.options.tooltip.dateTimeLabelFormats),J=Z.dateFormatter&&Z.dateFormatter(W)||Y.dateFormatter&&Y.dateFormatter(W)||Z.dateFormat||Y.dateFormat||Q;return X.time.dateFormat(J,W.x||0,void 0)}}(U),z=(U.series.xAxis||{}).categories&&c(U.category)&&(""+U.category).replace("<br/>"," "),q=c(U.id)&&0>(""+U.id).indexOf("highcharts-"),G="x, "+U.x;return U.name||H||z||(q?U.id:G)}(v):"";return h(R,{point:v,index:c(v.index)?v.index+1:"",xDescription:F,value:function(U){let H=U.series,z=H.chart.options.accessibility.point||{},q=H.chart.options.accessibility&&H.chart.options.accessibility.point||{},G=H.tooltipOptions||{},W=q.valuePrefix||z.valuePrefix||G.valuePrefix||"",V=q.valueSuffix||z.valueSuffix||G.valueSuffix||"",X=U.value!==void 0?"value":"y",Z=C(U,U[X]);return U.isNull?H.chart.langFormat("accessibility.series.nullPointValue",{point:U}):H.pointArrayMap?function(Y,$,Q){let J=$||"",nt=Q||"",it=function(tt){let st=C(Y,n(Y[tt],Y.options[tt]));return st!==void 0?tt+": "+J+st+nt:st};return Y.series.pointArrayMap.reduce(function(tt,st){let rt=it(st);return rt?tt+(tt.length?", ":"")+rt:tt},"")}(U,W,V):W+Z+V}(v),separator:T?", ":""},w)}(g),e=g.options&&g.options.accessibility&&g.options.accessibility.description,l=y?" "+E.name+".":"",f=function(v){let A=v.series.chart,w=S(v);return w.length?A.langFormat("accessibility.series.pointAnnotationsDescription",{point:v,annotations:w}):""}(g);return g.accessibility=g.accessibility||{},g.accessibility.valueDescription=x,x+(e?" "+e:"")+l+(f?" "+f:"")}function b(g){let E=g.chart,y=E.types||[],x=function(T){let F=(T.options.accessibility||{}).description;return F&&T.chart.langFormat("accessibility.series.description",{description:F,series:T})||""}(g),e=function(T){return E[T]&&E[T].length>1&&g[T]},l=g.index+1,f=D(g,"xAxis"),v=D(g,"yAxis"),A={seriesNumber:l,series:g,chart:E},w=y.length>1?"Combination":"",N=E.langFormat("accessibility.series.summary."+g.type+w,A)||E.langFormat("accessibility.series.summary.default"+w,A),R=(e("yAxis")?" "+v+".":"")+(e("xAxis")?" "+f+".":"");return h(n(g.options.accessibility&&g.options.accessibility.descriptionFormat,E.options.accessibility.series.descriptionFormat,""),{seriesDescription:N,authorDescription:x?" "+x:"",axisDescription:R,series:g,chart:E,seriesNumber:l},void 0)}return{defaultPointDescriptionFormatter:M,defaultSeriesDescriptionFormatter:b,describeSeries:function(g){let E=g.chart,y=P(g),x=m(g),e=E.is3d&&E.is3d();x&&(x.lastChild!==y||e||s(x),function(l){let f=function(w){let N=w.options.accessibility||{};return!p(w)&&!N.exposeAsGroupOnly}(l),v=function(w){let N=w.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!!(w.points&&(w.points.length<+N.pointNavigationEnabledThreshold||N.pointNavigationEnabledThreshold===!1))}(l),A=l.chart.options.accessibility.point.describeNull;(f||v)&&l.points.forEach(w=>{let N=w.graphic&&w.graphic.element||function(T){let F=T.series,U=F&&F.chart,H=F&&F.is("sunburst"),z=T.isNull,q=U&&U.options.accessibility.point.describeNull;return z&&!H&&q}(w)&&function(T){let F=T.series,U=function(W){let V=W.index;return W.series&&W.series.data&&c(V)&&i(W.series.data,function(X){return!!(X&&X.index!==void 0&&X.index>V&&X.graphic&&X.graphic.element)})||null}(T),H=U&&U.graphic,z=H?H.parentGroup:F.graph||F.group,q=U?{x:n(T.plotX,U.plotX,0),y:n(T.plotY,U.plotY,0)}:{x:n(T.plotX,0),y:n(T.plotY,0)},G=function(W,V){let X=W.series.chart.renderer.rect(V.x,V.y,1,1);return X.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),X}(T,q);if(z&&z.element)return T.graphic=G,T.hasMockGraphic=!0,G.add(z),z.element.insertBefore(G.element,H?H.element:null),G.element}(w),R=w.options&&w.options.accessibility&&w.options.accessibility.enabled===!1;if(N){if(w.isNull&&!A){N.setAttribute("aria-hidden",!0);return}N.setAttribute("tabindex","-1"),l.chart.styledMode||(N.style.outline="none"),f&&!R?function(T,F){var G,W,V;let U=T.series,H=((G=U.options.accessibility)==null?void 0:G.point)||{},z=U.chart.options.accessibility.point||{},q=a(t(H.descriptionFormat)&&h(H.descriptionFormat,T,U.chart)||((W=H.descriptionFormatter)==null?void 0:W.call(H,T))||t(z.descriptionFormat)&&h(z.descriptionFormat,T,U.chart)||((V=z.descriptionFormatter)==null?void 0:V.call(z,T))||M(T),U.chart.renderer.forExport);F.setAttribute("role","img"),F.setAttribute("aria-label",q)}(w,N):N.setAttribute("aria-hidden",!0)}})}(g),u(E,x),function(l){let f=l.chart,v=f.options.chart,A=v.options3d&&v.options3d.enabled,w=f.series.length>1,N=f.options.accessibility.series.describeSingleSeries,R=(l.options.accessibility||{}).exposeAsGroupOnly;return!(A&&w)&&(w||N||R||p(l))}(g)?function(l,f){let v=l.options.accessibility||{},A=l.chart.options.accessibility,w=A.landmarkVerbosity;v.exposeAsGroupOnly?f.setAttribute("role","img"):w==="all"?f.setAttribute("role","region"):f.setAttribute("role","group"),f.setAttribute("tabindex","-1"),l.chart.styledMode||(f.style.outline="none"),f.setAttribute("aria-label",a(A.series.descriptionFormatter&&A.series.descriptionFormatter(l)||b(l),l.chart.renderer.forExport))}(g,x):x.removeAttribute("aria-label"))}}}),K(d,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[d["Core/Globals.js"],d["Core/Utilities.js"],d["Accessibility/Utils/Announcer.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Utils/EventProvider.js"],d["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(I,L,O,k,B,S){let{composed:j}=I,{addEvent:P,defined:m,pushUnique:u}=L,{getChartTitle:h}=k,{defaultPointDescriptionFormatter:o,defaultSeriesDescriptionFormatter:s}=S;function a(r){return!!r.options.accessibility.announceNewData.enabled}class i{constructor(t){this.dirty={allSeries:{}},this.lastAnnouncementTime=0,this.chart=t}init(){let t=this.chart,n=t.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new B,this.announcer=new O(t,n),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){let t=this,n=this.chart,c=this.eventProvider;c.addEvent(n,"afterApplyDrilldown",function(){t.lastAnnouncementTime=0}),c.addEvent(n,"afterAddSeries",function(p){t.onSeriesAdded(p.series)}),c.addEvent(n,"redraw",function(){t.announceDirtyData()})}onSeriesAdded(t){a(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[t.name+t.index]=t,this.dirty.newSeries=m(this.dirty.newSeries)?void 0:t)}announceDirtyData(){let t=this.chart,n=this;if(t.options.accessibility.announceNewData&&this.dirty.hasDirty){let c=this.dirty.newPoint;c&&(c=function(p){let C=p.series.data.filter(D=>p.x===D.x&&p.y===D.y);return C.length===1?C[0]:p}(c)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(p=>n.dirty.allSeries[p]),this.dirty.newSeries,c),this.dirty={allSeries:{}}}}queueAnnouncement(t,n,c){let p=this.chart.options.accessibility.announceNewData;if(p.enabled){let C=+new Date,D=C-this.lastAnnouncementTime,M=Math.max(0,p.minAnnounceInterval-D),b=function(E,y){let x=(E||[]).concat(y||[]).reduce((e,l)=>(e[l.name+l.index]=l,e),{});return Object.keys(x).map(e=>x[e])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,t),g=this.buildAnnouncementMessage(b,n,c);g&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:C,message:g,series:b},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},M))}}buildAnnouncementMessage(t,n,c){let p=this.chart,C=p.options.accessibility.announceNewData;if(C.announcementFormatter){let g=C.announcementFormatter(t,n,c);if(g!==!1)return g.length?g:null}let D=I.charts&&I.charts.length>1?"Multiple":"Single",M=n?"newSeriesAnnounce"+D:c?"newPointAnnounce"+D:"newDataAnnounce",b=h(p);return p.langFormat("accessibility.announceNewData."+M,{chartTitle:b,seriesDesc:n?s(n):null,pointDesc:c?o(c):null,point:c,series:n})}}return function(r){function t(c){var D;let p=this.chart,C=(D=p.accessibility)==null?void 0:D.components.series.newDataAnnouncer;C&&C.chart===p&&a(p)&&(C.dirty.newPoint=m(C.dirty.newPoint)?void 0:c.point)}function n(){var C;let c=this.chart,p=(C=c.accessibility)==null?void 0:C.components.series.newDataAnnouncer;p&&p.chart===c&&a(c)&&(p.dirty.hasDirty=!0,p.dirty.allSeries[this.name+this.index]=this)}r.compose=function(c){u(j,"A11y.NDA")&&(P(c,"addPoint",t),P(c,"updatedData",n))}}(i||(i={})),i}),K(d,"Accessibility/ProxyElement.js",[d["Core/Globals.js"],d["Core/Utilities.js"],d["Accessibility/Utils/EventProvider.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Utils/HTMLUtilities.js"]],function(I,L,O,k,B){let{doc:S}=I,{attr:j,css:P,merge:m}=L,{fireEventOnWrappedOrUnwrappedElement:u}=k,{cloneMouseEvent:h,cloneTouchEvent:o,getFakeMouseEvent:s,removeElement:a}=B;return class{constructor(i,r,t="button",n,c){this.chart=i,this.target=r,this.eventProvider=new O;let p=this.innerElement=S.createElement(t),C=this.element=n?S.createElement(n):p;i.styledMode||this.hideElementVisually(p),n&&(n!=="li"||i.styledMode||(C.style.listStyle="none"),C.appendChild(p),this.element=C),this.updateTarget(r,c)}click(){let i=this.getTargetPosition();i.x+=i.width/2,i.y+=i.height/2;let r=s("click",i);u(this.target.click,r)}updateTarget(i,r){this.target=i,this.updateCSSClassName();let t=r||{};Object.keys(t).forEach(c=>{t[c]===null&&delete t[c]});let n=this.getTargetAttr(i.click,"aria-label");j(this.innerElement,m(n?{"aria-label":n}:{},t)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,i.click),this.refreshPosition()}refreshPosition(){let i=this.getTargetPosition();P(this.innerElement,{width:(i.width||1)+"px",height:(i.height||1)+"px",left:(Math.round(i.x)||0)+"px",top:(Math.round(i.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),a(this.element)}updateCSSClassName(){let i=p=>p.indexOf("highcharts-no-tooltip")>-1,r=this.chart.legend,t=r.group&&r.group.div,n=i(t&&t.className||""),c=i(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=n||c?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(i,r){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(t=>{let n=t.indexOf("touch")===0;this.eventProvider.addEvent(i,t,c=>{let p=n?o(c):h(c);r&&u(r,p),c.stopPropagation(),n||c.preventDefault()},{passive:!1})})}hideElementVisually(i){P(i,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){let i=this.target.click,r=i.element?i.element:i,t=this.target.visual||r,n=this.chart.renderTo,c=this.chart.pointer;if(n&&(t!=null&&t.getBoundingClientRect)&&c){let p=t.getBoundingClientRect(),C=c.getChartPosition();return{x:(p.left-C.left)/C.scaleX,y:(p.top-C.top)/C.scaleY,width:p.right/C.scaleX-p.left/C.scaleX,height:p.bottom/C.scaleY-p.top/C.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(i,r){return i.element?i.element.getAttribute(r):i.getAttribute(r)}}}),K(d,"Accessibility/ProxyProvider.js",[d["Core/Globals.js"],d["Core/Utilities.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Utils/DOMElementProvider.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Accessibility/ProxyElement.js"]],function(I,L,O,k,B,S){let{doc:j}=I,{attr:P,css:m}=L,{unhideChartElementFromAT:u}=O,{removeChildNodes:h}=B;return class{constructor(o){this.chart=o,this.domElementProvider=new k,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(o,s,a="button",i){let r=this.groups[o];if(!r)throw Error("ProxyProvider.addProxyElement: Invalid group key "+o);let t=r.type==="ul"||r.type==="ol"?"li":void 0,n=new S(this.chart,s,a,t,i);return r.proxyContainerElement.appendChild(n.element),r.proxyElements.push(n),n}addGroup(o,s="div",a){let i,r=this.groups[o];if(r)return r.groupElement;let t=this.domElementProvider.createElement(s);return a&&a.role&&s!=="div"?(i=this.domElementProvider.createElement("div")).appendChild(t):i=t,i.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+o.replace(/\W/g,"-"),this.groups[o]={proxyContainerElement:t,groupElement:i,type:s,proxyElements:[]},P(i,a||{}),s==="ul"&&t.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(i),this.updateGroupOrder(this.groupOrder),i}updateGroupAttrs(o,s){let a=this.groups[o];if(!a)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+o);P(a.groupElement,s)}updateGroupOrder(o){if(this.groupOrder=o.slice(),this.isDOMOrderGroupOrder())return;let s=o.indexOf("series"),a=s>-1?o.slice(0,s):o,i=s>-1?o.slice(s+1):[],r=j.activeElement;["before","after"].forEach(t=>{let n=this[t==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];h(n),(t==="before"?a:i).forEach(c=>{let p=this.groups[c];p&&n.appendChild(p.groupElement)})}),(this.beforeChartProxyPosContainer.contains(r)||this.afterChartProxyPosContainer.contains(r))&&r&&r.focus&&r.focus()}clearGroup(o){let s=this.groups[o];if(!s)throw Error("ProxyProvider.clearGroup: Invalid group key "+o);h(s.proxyContainerElement)}removeGroup(o){let s=this.groups[o];s&&(this.domElementProvider.removeElement(s.groupElement),s.groupElement!==s.proxyContainerElement&&this.domElementProvider.removeElement(s.proxyContainerElement),delete this.groups[o])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(o){let s=this.groups[o];s&&s.proxyElements.forEach(a=>a.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(o){let s=this.domElementProvider.createElement("div");return s.setAttribute("aria-hidden","false"),s.className="highcharts-a11y-proxy-container"+(o?"-"+o:""),m(s,{top:"0",left:"0"}),this.chart.styledMode||(s.style.whiteSpace="nowrap",s.style.position="absolute"),s}getCurrentGroupOrderInDOM(){let o=r=>{let t=Object.keys(this.groups),n=t.length;for(;n--;){let c=t[n],p=this.groups[c];if(p&&r===p.groupElement)return c}},s=r=>{let t=[],n=r.children;for(let c=0;c<n.length;++c){let p=o(n[c]);p&&t.push(p)}return t},a=s(this.beforeChartProxyPosContainer),i=s(this.afterChartProxyPosContainer);return a.push("series"),a.concat(i)}isDOMOrderGroupOrder(){let o=this.getCurrentGroupOrderInDOM(),s=this.groupOrder.filter(i=>i==="series"||!!this.groups[i]),a=o.length;if(a!==s.length)return!1;for(;a--;)if(o[a]!==s[a])return!1;return!0}updatePosContainerPositions(){let o=this.chart;if(o.renderer.forExport)return;let s=o.renderer.box;o.container.insertBefore(this.afterChartProxyPosContainer,s.nextSibling),o.container.insertBefore(this.beforeChartProxyPosContainer,s),u(this.chart,this.afterChartProxyPosContainer),u(this.chart,this.beforeChartProxyPosContainer)}}}),K(d,"Accessibility/Components/RangeSelectorComponent.js",[d["Accessibility/AccessibilityComponent.js"],d["Accessibility/Utils/Announcer.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/KeyboardNavigationHandler.js"],d["Core/Utilities.js"]],function(I,L,O,k,B){let{unhideChartElementFromAT:S,getAxisRangeDescription:j}=O,{addEvent:P,attr:m}=B;class u extends I{init(){let o=this.chart;this.announcer=new L(o,"polite")}onChartUpdate(){let o=this.chart,s=this,a=o.rangeSelector;a&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),a.buttons&&a.buttons.length&&a.buttons.forEach(i=>{s.setRangeButtonAttrs(i)}),a.maxInput&&a.minInput&&["minInput","maxInput"].forEach(function(i,r){let t=a[i];t&&(S(o,t),s.setRangeInputAttrs(t,"accessibility.rangeSelector."+(r?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){let o=this.chart,s=o.rangeSelector,a=s&&s.dropdown,i=s&&s.buttons||[],r=t=>t.setAttribute("aria-hidden",!0);s&&s.hasVisibleDropdown&&a?(S(o,a),i.forEach(t=>r(t.element))):(a&&r(a),i.forEach(t=>S(o,t.element)))}setDropdownAttrs(){let o=this.chart,s=o.rangeSelector&&o.rangeSelector.dropdown;if(s){let a=o.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:o.options.lang.rangeSelectorZoom});s.setAttribute("aria-label",a),s.setAttribute("tabindex",-1)}}setRangeButtonAttrs(o){m(o.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(o,s){let a=this.chart;m(o,{tabindex:-1,"aria-label":a.langFormat(s,{chart:a})})}onButtonNavKbdArrowKey(o,s){let a=o.response,i=this.keyCodes,r=this.chart,t=r.options.accessibility.keyboardNavigation.wrapAround,n=s===i.left||s===i.up?-1:1;return r.highlightRangeSelectorButton(r.highlightedRangeSelectorItemIx+n)?a.success:t?(o.init(n),a.success):a[n>0?"next":"prev"]}onButtonNavKbdClick(o){let s=o.response,a=this.chart;return a.oldRangeSelectorItemState!==3&&this.fakeClickEvent(a.rangeSelector.buttons[a.highlightedRangeSelectorItemIx].element),s.success}onAfterBtnClick(){let o=this.chart,s=j(o.xAxis[0]),a=o.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:o,axisRangeDescription:s});a&&this.announcer.announce(a)}onInputKbdMove(o){let s=this.chart,a=s.rangeSelector,i=s.highlightedInputRangeIx=(s.highlightedInputRangeIx||0)+o;if(i>1||i<0){if(s.accessibility)return s.accessibility.keyboardNavigation.exiting=!0,s.accessibility.keyboardNavigation.tabindexContainer.focus(),s.accessibility.keyboardNavigation.move(o)}else if(a){let r=a[i?"maxDateBox":"minDateBox"],t=a[i?"maxInput":"minInput"];r&&t&&s.setFocusToElement(r,t)}return!0}onInputNavInit(o){let s=this,a=this.chart,i=o>0?0:1,r=a.rangeSelector,t=r&&r[i?"maxDateBox":"minDateBox"],n=r&&r.minInput,c=r&&r.maxInput;if(a.highlightedInputRangeIx=i,t&&n&&c){a.setFocusToElement(t,i?c:n),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();let p=M=>{(M.which||M.keyCode)===this.keyCodes.tab&&s.onInputKbdMove(M.shiftKey?-1:1)&&(M.preventDefault(),M.stopPropagation())},C=P(n,"keydown",p),D=P(c,"keydown",p);this.removeInputKeydownHandler=()=>{C(),D()}}}onInputNavTerminate(){let o=this.chart.rangeSelector||{};o.maxInput&&o.hideInput("max"),o.minInput&&o.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){let o=this.chart,s=o.rangeSelector,a=s&&s.dropdown;s&&a&&(o.setFocusToElement(s.buttonGroup,a),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=P(a,"keydown",i=>{let r=(i.which||i.keyCode)===this.keyCodes.tab,t=o.accessibility;r&&(i.preventDefault(),i.stopPropagation(),t&&(t.keyboardNavigation.tabindexContainer.focus(),t.keyboardNavigation.move(i.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){let o=this.chart,s=this.keyCodes,a=this;return new k(o,{keyCodeMap:[[[s.left,s.right,s.up,s.down],function(i){return a.onButtonNavKbdArrowKey(this,i)}],[[s.enter,s.space],function(){return a.onButtonNavKbdClick(this)}]],validate:function(){return!!(o.rangeSelector&&o.rangeSelector.buttons&&o.rangeSelector.buttons.length)},init:function(i){let r=o.rangeSelector;if(r&&r.hasVisibleDropdown)a.initDropdownNav();else if(r){let t=r.buttons.length-1;o.highlightRangeSelectorButton(i>0?0:t)}},terminate:function(){a.removeDropdownKeydownHandler&&(a.removeDropdownKeydownHandler(),delete a.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){let o=this.chart,s=this;return new k(o,{keyCodeMap:[],validate:function(){return!!(o.rangeSelector&&o.rangeSelector.inputGroup&&o.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&o.options.rangeSelector.inputEnabled!==!1&&o.rangeSelector.minInput&&o.rangeSelector.maxInput)},init:function(a){s.onInputNavInit(a)},terminate:function(){s.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(h){function o(a){let i=this.rangeSelector&&this.rangeSelector.buttons||[],r=this.highlightedRangeSelectorItemIx,t=this.rangeSelector&&this.rangeSelector.selected;return r!==void 0&&i[r]&&r!==t&&i[r].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=a,!!i[a]&&(this.setFocusToElement(i[a].box,i[a].element),a!==t&&(this.oldRangeSelectorItemState=i[a].state,i[a].setState(1)),!0)}function s(){let a=this.chart.accessibility;if(a&&a.components.rangeSelector)return a.components.rangeSelector.onAfterBtnClick()}h.compose=function(a,i){let r=a.prototype;r.highlightRangeSelectorButton||(r.highlightRangeSelectorButton=o,P(i,"afterBtnClick",s))}}(u||(u={})),u}),K(d,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(I,L){var O;let{composed:k}=I,{addEvent:B,merge:S,pushUnique:j}=L;return function(P){function m(r){S(!0,r,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function u(r){return r.marker.states&&r.marker.states.normal&&r.marker.states.normal.opacity}function h(r){return!!(r._hasPointMarkers&&r.points&&r.points.length)}function o(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),h(this)&&this.points.forEach(r=>{r.graphic&&(r.graphic[r.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),r.graphic[r.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function s(r){this.resetA11yMarkerOptions=S(r.options.marker||{},this.userOptions.marker||{})}function a(){let r=this.options;(function(t){let n=t.chart.options.accessibility.enabled,c=(t.options.accessibility&&t.options.accessibility.enabled)!==!1;return n&&c&&function(p){let C=p.chart.options.accessibility;return p.points.length<C.series.pointDescriptionEnabledThreshold||C.series.pointDescriptionEnabledThreshold===!1}(t)})(this)?(r.marker&&r.marker.enabled===!1&&(this.a11yMarkersForced=!0,m(this.options)),h(this)&&function(t){let n=t.points.length;for(;n--;){let c=t.points[n],p=c.options,C=c.hasForcedA11yMarker;if(delete c.hasForcedA11yMarker,p.marker){let D=C&&u(p)===0;p.marker.enabled&&!D?(S(!0,p.marker,{states:{normal:{opacity:u(p)||1}}}),c.hasForcedA11yMarker=!1):p.marker.enabled===!1&&(m(p),c.hasForcedA11yMarker=!0)}}}(this)):this.a11yMarkersForced&&(delete this.a11yMarkersForced,function(t){let n=t.resetA11yMarkerOptions;if(n){let c=n.states&&n.states.normal&&n.states.normal.opacity;t.userOptions&&t.userOptions.marker&&(t.userOptions.marker.enabled=!0),t.update({marker:{enabled:n.enabled,states:{normal:{opacity:c}}}})}}(this),delete this.resetA11yMarkerOptions)}function i(){this.boosted&&this.a11yMarkersForced&&(S(!0,this.options,{marker:{enabled:!1}}),delete this.a11yMarkersForced)}P.compose=function(r){j(k,"A11y.FM")&&(B(r,"afterSetOptions",s),B(r,"render",a),B(r,"afterRender",o),B(r,"renderCanvas",i))}}(O||(O={})),O}),K(d,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[d["Core/Series/Point.js"],d["Core/Series/Series.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Globals.js"],d["Core/Utilities.js"],d["Accessibility/KeyboardNavigationHandler.js"],d["Accessibility/Utils/EventProvider.js"],d["Accessibility/Utils/ChartUtilities.js"]],function(I,L,O,k,B,S,j,P){let{seriesTypes:m}=O,{doc:u}=k,{defined:h,fireEvent:o}=B,{getPointFromXY:s,getSeriesFromName:a,scrollAxisToPoint:i}=P;function r(M){let b=M.index,g=M.series.points,E=g.length;if(g[b]===M)return b;for(;E--;)if(g[E]===M)return E}function t(M){let b=M.chart.options.accessibility.keyboardNavigation.seriesNavigation,g=M.options.accessibility||{},E=g.keyboardNavigation;return E&&E.enabled===!1||g.enabled===!1||M.options.enableMouseTracking===!1||!M.visible||b.pointNavigationEnabledThreshold&&+b.pointNavigationEnabledThreshold<=M.points.length}function n(M){let b=M.series.chart.options.accessibility,g=M.options.accessibility&&M.options.accessibility.enabled===!1;return M.isNull&&b.keyboardNavigation.seriesNavigation.skipNullPoints||M.visible===!1||M.isInside===!1||g||t(M.series)}function c(M){let b=M.series||[],g=b.length;for(let E=0;E<g;++E)if(!t(b[E])){let y=function(x){let e=x.points||[],l=e.length;for(let f=0;f<l;++f)if(!n(e[f]))return e[f];return null}(b[E]);if(y)return y}return null}function p(M){let b=M.series.length,g=!1;for(;b--&&(M.highlightedPoint=M.series[b].points[M.series[b].points.length-1],!(g=M.series[b].highlightNextValidPoint())););return g}function C(M){delete M.highlightedPoint;let b=c(M);return!!b&&b.highlight()}class D{constructor(b,g){this.keyCodes=g,this.chart=b}init(){let b=this,g=this.chart,E=this.eventProvider=new j;E.addEvent(L,"destroy",function(){return b.onSeriesDestroy(this)}),E.addEvent(g,"afterApplyDrilldown",function(){(function(y){let x=c(y);x&&x.highlight(!1)})(this)}),E.addEvent(g,"drilldown",function(y){let x=y.point,e=x.series;b.lastDrilledDownPoint={x:x.x,y:x.y,seriesName:e?e.name:""}}),E.addEvent(g,"drillupall",function(){setTimeout(function(){b.onDrillupAll()},10)}),E.addEvent(I,"afterSetState",function(){let y=this.graphic&&this.graphic.element,x=u.activeElement,e=x&&x.getAttribute("class"),l=e&&e.indexOf("highcharts-a11y-proxy-element")>-1;g.highlightedPoint===this&&x!==y&&!l&&y&&y.focus&&y.focus()})}onDrillupAll(){let b,g=this.lastDrilledDownPoint,E=this.chart,y=g&&a(E,g.seriesName);g&&y&&h(g.x)&&h(g.y)&&(b=s(y,g.x,g.y)),b=b||c(E),E.container&&E.container.focus(),b&&b.highlight&&b.highlight(!1)}getKeyboardNavigationHandler(){let b=this,g=this.keyCodes,E=this.chart,y=E.inverted;return new S(E,{keyCodeMap:[[y?[g.up,g.down]:[g.left,g.right],function(x){return b.onKbdSideways(this,x)}],[y?[g.left,g.right]:[g.up,g.down],function(x){return b.onKbdVertical(this,x)}],[[g.enter,g.space],function(x,e){let l=E.highlightedPoint;return l&&(e.point=l,o(l.series,"click",e),l.firePointEvent("click")),this.response.success}],[[g.home],function(){return C(E),this.response.success}],[[g.end],function(){return p(E),this.response.success}],[[g.pageDown,g.pageUp],function(x){return E.highlightAdjacentSeries(x===g.pageDown),this.response.success}]],init:function(){return b.onHandlerInit(this)},validate:function(){return!!c(E)},terminate:function(){return b.onHandlerTerminate()}})}onKbdSideways(b,g){let E=this.keyCodes,y=g===E.right||g===E.down;return this.attemptHighlightAdjacentPoint(b,y)}onHandlerInit(b){let g=this.chart;return g.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&g.highlightedPoint?g.highlightedPoint.highlight():C(g),b.response.success}onKbdVertical(b,g){let E=this.chart,y=this.keyCodes,x=g===y.down||g===y.right,e=E.options.accessibility.keyboardNavigation.seriesNavigation;if(e.mode&&e.mode==="serialize")return this.attemptHighlightAdjacentPoint(b,x);let l=E.highlightedPoint&&E.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return E[l](x),b.response.success}onHandlerTerminate(){let b=this.chart,g=b.options.accessibility.keyboardNavigation;b.tooltip&&b.tooltip.hide(0);let E=b.highlightedPoint&&b.highlightedPoint.series;E&&E.onMouseOut&&E.onMouseOut(),b.highlightedPoint&&b.highlightedPoint.onMouseOut&&b.highlightedPoint.onMouseOut(),g.seriesNavigation.rememberPointFocus||delete b.highlightedPoint}attemptHighlightAdjacentPoint(b,g){let E=this.chart,y=E.options.accessibility.keyboardNavigation.wrapAround;return E.highlightAdjacentPoint(g)||y&&(g?C(E):p(E))?b.response.success:b.response[g?"next":"prev"]}onSeriesDestroy(b){let g=this.chart;g.highlightedPoint&&g.highlightedPoint.series===b&&(delete g.highlightedPoint,g.focusElement&&g.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(M){function b(e){let l,f,v=this.series,A=this.highlightedPoint,w=A&&r(A)||0,N=A&&A.series.points||[],R=this.series&&this.series[this.series.length-1],T=R&&R.points&&R.points[R.points.length-1];if(!v[0]||!v[0].points)return!1;if(A){if(l=v[A.series.index+(e?1:-1)],(f=N[w+(e?1:-1)])||!l||(f=l.points[e?0:l.points.length-1]),!f)return!1}else f=e?v[0].points[0]:T;return n(f)?(t(l=f.series)?this.highlightedPoint=e?l.points[l.points.length-1]:l.points[0]:this.highlightedPoint=f,this.highlightAdjacentPoint(e)):f.highlight()}function g(e){let l=this.highlightedPoint,f=1/0,v;return!!(h(l.plotX)&&h(l.plotY))&&(this.series.forEach(A=>{t(A)||A.points.forEach(w=>{if(!h(w.plotY)||!h(w.plotX)||w===l)return;let N=w.plotY-l.plotY,R=Math.abs(w.plotX-l.plotX),T=Math.abs(N)*Math.abs(N)+R*R*4;A.yAxis&&A.yAxis.reversed&&(N*=-1),!(N<=0&&e||N>=0&&!e||T<5||n(w))&&T<f&&(f=T,v=w)})}),!!v&&v.highlight())}function E(e){let l,f,v,A=this.highlightedPoint,w=this.series&&this.series[this.series.length-1],N=w&&w.points&&w.points[w.points.length-1];return this.highlightedPoint?!!((l=this.series[A.series.index+(e?-1:1)])&&(f=function(R,T,F,U){let H=1/0,z,q,G,W=T.points.length,V=X=>!(h(X.plotX)&&h(X.plotY));if(!V(R)){for(;W--;)!V(z=T.points[W])&&(G=(R.plotX-z.plotX)*(R.plotX-z.plotX)*4+(R.plotY-z.plotY)*(R.plotY-z.plotY)*1)<H&&(H=G,q=W);return h(q)?T.points[q]:void 0}}(A,l)))&&(t(l)?(f.highlight(),(v=this.highlightAdjacentSeries(e))?v:(A.highlight(),!1)):(f.highlight(),f.series.highlightNextValidPoint())):(l=e?this.series&&this.series[0]:w,!!(f=e?l&&l.points&&l.points[0]:N)&&f.highlight())}function y(e=!0){var A,w;let l=this.series.chart,f=(w=(A=l.tooltip)==null?void 0:A.label)==null?void 0:w.element;!this.isNull&&e?this.onMouseOver():l.tooltip&&l.tooltip.hide(0),i(this),this.graphic&&(l.setFocusToElement(this.graphic),!e&&l.focusElement&&l.focusElement.removeFocusBorder()),l.highlightedPoint=this;let v=f==null?void 0:f.getBoundingClientRect().top;if(f&&v&&v<0){let N=window.scrollY;window.scrollTo({behavior:"smooth",top:N+v})}return this}function x(){let e=this.chart.highlightedPoint,l=(e&&e.series)===this?r(e):0,f=this.points,v=f.length;if(f&&v){for(let A=l;A<v;++A)if(!n(f[A]))return f[A].highlight();for(let A=l;A>=0;--A)if(!n(f[A]))return f[A].highlight()}return!1}M.compose=function(e,l,f){let v=e.prototype,A=l.prototype,w=f.prototype;v.highlightAdjacentPoint||(v.highlightAdjacentPoint=b,v.highlightAdjacentPointVertical=g,v.highlightAdjacentSeries=E,A.highlight=y,w.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(N=>{m[N]&&(m[N].prototype.keyboardMoveVertical=!1)}),w.highlightNextValidPoint=x)}}(D||(D={})),D}),K(d,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[d["Accessibility/AccessibilityComponent.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],d["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],d["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],d["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(I,L,O,k,B,S){let{hideSeriesFromAT:j}=L,{describeSeries:P}=B;return class extends I{static compose(m,u,h){k.compose(h),O.compose(h),S.compose(m,u,h)}init(){this.newDataAnnouncer=new k(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new S(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){let m=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===m.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(m){m.labelBySeries&&m.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(m){(m.options.accessibility&&m.options.accessibility.enabled)!==!1&&m.visible&&m.data.length!==0?P(m):j(m)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}}),K(d,"Accessibility/Components/ZoomComponent.js",[d["Accessibility/AccessibilityComponent.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Accessibility/KeyboardNavigationHandler.js"],d["Core/Utilities.js"]],function(I,L,O,k,B){let{unhideChartElementFromAT:S}=L,{getFakeMouseEvent:j}=O,{attr:P,pick:m}=B;return class extends I{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){let u=this,h=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(o=>{u.addEvent(h,o,function(){u.updateProxyOverlays()})})}onChartUpdate(){let u=this.chart,h=this;u.mapNavigation&&u.mapNavigation.navButtons.forEach((o,s)=>{S(u,o.element),h.setMapNavButtonAttrs(o.element,"accessibility.zoom.mapZoom"+(s?"Out":"In"))})}setMapNavButtonAttrs(u,h){let o=this.chart;P(u,{tabindex:-1,role:"button","aria-label":o.langFormat(h,{chart:o})})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){let u=this.chart;if(this.proxyProvider.clearGroup("zoom"),u.resetZoomButton&&this.createZoomProxyButton(u.resetZoomButton,"resetZoomProxyButton",u.langFormat("accessibility.zoom.resetZoomButton",{chart:u})),u.drillUpButton&&u.breadcrumbs&&u.breadcrumbs.list){let h=u.breadcrumbs.list[u.breadcrumbs.list.length-1];this.createZoomProxyButton(u.drillUpButton,"drillUpProxyButton",u.langFormat("accessibility.drillUpButton",{chart:u,buttonText:u.breadcrumbs.getButtonText(h)}))}}createZoomProxyButton(u,h,o){this[h]=this.proxyProvider.addProxyElement("zoom",{click:u},"button",{"aria-label":o,tabindex:-1})}getMapZoomNavigation(){let u=this.keyCodes,h=this.chart,o=this;return new k(h,{keyCodeMap:[[[u.up,u.down,u.left,u.right],function(s){return o.onMapKbdArrow(this,s)}],[[u.tab],function(s,a){return o.onMapKbdTab(this,a)}],[[u.space,u.enter],function(){return o.onMapKbdClick(this)}]],validate:function(){return!!(h.mapView&&h.mapNavigation&&h.mapNavigation.navButtons.length)},init:function(s){return o.onMapNavInit(s)}})}onMapKbdArrow(u,h){let o=this.chart,s=this.keyCodes,a=o.container,i=h===s.up||h===s.down,r=h===s.left||h===s.up?1:-1,t=(i?o.plotHeight:o.plotWidth)/10*r,n=10*Math.random(),c={x:a.offsetLeft+o.plotLeft+o.plotWidth/2+n,y:a.offsetTop+o.plotTop+o.plotHeight/2+n},p=i?{x:c.x,y:c.y+t}:{x:c.x+t,y:c.y};return[j("mousedown",c),j("mousemove",p),j("mouseup",p)].forEach(C=>a.dispatchEvent(C)),u.response.success}onMapKbdTab(u,h){let o=this.chart,s=u.response,a=h.shiftKey,i=a&&!this.focusedMapNavButtonIx||!a&&this.focusedMapNavButtonIx;if(o.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),i)return o.mapView&&o.mapView.zoomBy(),s[a?"prev":"next"];this.focusedMapNavButtonIx+=a?-1:1;let r=o.mapNavigation.navButtons[this.focusedMapNavButtonIx];return o.setFocusToElement(r.box,r.element),r.setState(2),s.success}onMapKbdClick(u){let h=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(h),u.response.success}onMapNavInit(u){let h=this.chart,o=h.mapNavigation.navButtons[0],s=h.mapNavigation.navButtons[1],a=u>0?o:s;h.setFocusToElement(a.box,a.element),a.setState(2),this.focusedMapNavButtonIx=u>0?0:1}simpleButtonNavigation(u,h,o){let s=this.keyCodes,a=this,i=this.chart;return new k(i,{keyCodeMap:[[[s.tab,s.up,s.down,s.left,s.right],function(r,t){let n=r===s.tab&&t.shiftKey||r===s.left||r===s.up;return this.response[n?"prev":"next"]}],[[s.space,s.enter],function(){return m(o(this,i),this.response.success)}]],validate:function(){return i[u]&&i[u].box&&a[h].innerElement},init:function(){i.setFocusToElement(i[u].box,a[h].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(u,h){h.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(u,h){return h.drillUp(),u.response.prev}),this.getMapZoomNavigation()]}}}),K(d,"Accessibility/HighContrastMode.js",[d["Core/Globals.js"]],function(I){let{doc:L,isMS:O,win:k}=I;return{isHighContrastModeActive:function(){let B=/(Edg)/.test(k.navigator.userAgent);if(k.matchMedia&&B)return k.matchMedia("(-ms-high-contrast: active)").matches;if(O&&k.getComputedStyle){let S=L.createElement("div");S.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",L.body.appendChild(S);let j=(S.currentStyle||k.getComputedStyle(S)).backgroundImage;return L.body.removeChild(S),j==="none"}return k.matchMedia&&k.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(B){var P;B.highContrastModeActive=!0;let S=B.options.accessibility.highContrastTheme;B.update(S,!1);let j=((P=S.colors)==null?void 0:P.length)>1;B.series.forEach(function(m){let u=S.plotOptions[m.type]||{},h=j&&m.colorIndex!==void 0?S.colors[m.colorIndex]:u.color||"window",o={color:u.color||"windowText",colors:j?S.colors:[u.color||"windowText"],borderColor:u.borderColor||"window",fillColor:h};m.update(o,!1),m.points&&m.points.forEach(function(s){s.options&&s.options.color&&s.update({color:u.color||"windowText",borderColor:u.borderColor||"window"},!1)})}),B.redraw()}}}),K(d,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),K(d,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}}}),K(d,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}}),K(d,"Accessibility/Options/DeprecatedOptions.js",[d["Core/Utilities.js"]],function(I){let{error:L,pick:O}=I;function k(S,j,P){let m=S,u,h=0;for(;h<j.length-1;++h)m=m[u=j[h]]=O(m[u],{});m[j[j.length-1]]=P}function B(S,j,P,m){function u(s,a){return a.reduce(function(i,r){return i[r]},s)}let h=u(S.options,j),o=u(S.options,P);Object.keys(m).forEach(function(s){let a=h[s];a!==void 0&&(k(o,m[s],a),L(32,!1,S,{[j.join(".")+"."+s]:P.join(".")+"."+m[s].join(".")}))})}return function(S){(function(j){let P=j.options.chart,m=j.options.accessibility||{};["description","typeDescription"].forEach(function(u){P[u]&&(m[u]=P[u],L(32,!1,j,{[`chart.${u}`]:`use accessibility.${u}`}))})})(S),function(j){j.axes.forEach(function(P){let m=P.options;m&&m.description&&(m.accessibility=m.accessibility||{},m.accessibility.description=m.description,L(32,!1,j,{"axis.description":"use axis.accessibility.description"}))})}(S),S.series&&function(j){let P={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};j.series.forEach(function(m){Object.keys(P).forEach(function(u){let h=m.options[u];u==="accessibility.pointDescriptionFormatter"&&(h=m.options.accessibility&&m.options.accessibility.pointDescriptionFormatter),h!==void 0&&(k(m.options,P[u],u==="skipKeyboardNavigation"?!h:h),L(32,!1,j,{[`series.${u}`]:"series."+P[u].join(".")}))})})}(S),B(S,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),B(S,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),B(S,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),K(d,"Accessibility/Accessibility.js",[d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Utilities.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Accessibility/A11yI18n.js"],d["Accessibility/Components/ContainerComponent.js"],d["Accessibility/FocusBorder.js"],d["Accessibility/Components/InfoRegionsComponent.js"],d["Accessibility/KeyboardNavigation.js"],d["Accessibility/Components/LegendComponent.js"],d["Accessibility/Components/MenuComponent.js"],d["Accessibility/Components/NavigatorComponent.js"],d["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],d["Accessibility/ProxyProvider.js"],d["Accessibility/Components/RangeSelectorComponent.js"],d["Accessibility/Components/SeriesComponent/SeriesComponent.js"],d["Accessibility/Components/ZoomComponent.js"],d["Accessibility/HighContrastMode.js"],d["Accessibility/HighContrastTheme.js"],d["Accessibility/Options/A11yDefaults.js"],d["Accessibility/Options/LangDefaults.js"],d["Accessibility/Options/DeprecatedOptions.js"]],function(I,L,O,k,B,S,j,P,m,u,h,o,s,a,i,r,t,n,c,p,C,D){let{defaultOptions:M}=I,{doc:b}=L,{addEvent:g,extend:E,fireEvent:y,merge:x}=O,{removeElement:e}=k;class l{constructor(v){this.init(v)}init(v){if(this.chart=v,!b.addEventListener){this.zombie=!0,this.components={},v.renderTo.setAttribute("aria-hidden",!0);return}D(v),this.proxyProvider=new a(this.chart),this.initComponents(),this.keyboardNavigation=new m(v,this.components)}initComponents(){let v=this.chart,A=this.proxyProvider,w=v.options.accessibility;this.components={container:new S,infoRegions:new P,legend:new u,chartMenu:new h,rangeSelector:new i,series:new r,zoom:new t,navigator:new o},w.customComponents&&E(this.components,w.customComponents);let N=this.components;this.getComponentOrder().forEach(function(R){N[R].initBase(v,A),N[R].init()})}getComponentOrder(){return this.components?this.components.series?["series"].concat(Object.keys(this.components).filter(v=>v!=="series")):Object.keys(this.components):[]}update(){let v=this.components,A=this.chart,w=A.options.accessibility;y(A,"beforeA11yUpdate"),A.types=this.getChartTypes();let N=w.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(N),this.getComponentOrder().forEach(function(R){v[R].onChartUpdate(),y(A,"afterA11yComponentUpdate",{name:R,component:v[R]})}),this.keyboardNavigation.update(N),!A.highContrastModeActive&&w.highContrastMode!==!1&&(n.isHighContrastModeActive()||w.highContrastMode===!0)&&n.setHighContrastTheme(A),y(A,"afterA11yUpdate",{accessibility:this})}destroy(){let v=this.chart||{},A=this.components;Object.keys(A).forEach(function(w){A[w].destroy(),A[w].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),v.announcerContainer&&e(v.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),v.renderTo&&v.renderTo.setAttribute("aria-hidden",!0),v.focusElement&&v.focusElement.removeFocusBorder()}getChartTypes(){let v={};return this.chart.series.forEach(function(A){v[A.type]=1}),Object.keys(v)}}return function(f){function v(){this.accessibility&&this.accessibility.destroy()}function A(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());let T=this.accessibility;T&&!T.zombie&&(T.proxyProvider.updateProxyElementPositions(),T.getComponentOrder().forEach(function(F){T.components[F].onChartRender()}))}function w(T){let F=T.options.accessibility;F&&(F.customComponents&&(this.options.accessibility.customComponents=F.customComponents,delete F.customComponents),x(!0,this.options.accessibility,F),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function N(){let T=this.accessibility,F=this.options.accessibility;F&&F.enabled?T&&!T.zombie?T.update():(this.accessibility=T=new f(this),T&&!T.zombie&&T.update()):T?(T.destroy&&T.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function R(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}f.i18nFormat=B.i18nFormat,f.compose=function(T,F,U,H,z,q){m.compose(T),s.compose(H),u.compose(T,F),h.compose(T),r.compose(T,U,H),B.compose(T),j.compose(T,z),q&&i.compose(T,q);let G=T.prototype;G.updateA11yEnabled||(G.updateA11yEnabled=N,g(T,"destroy",v),g(T,"render",A),g(T,"update",w),["addSeries","init"].forEach(W=>{g(T,W,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(W=>{g(T,W,function(){let V=this.accessibility;V&&!V.zombie&&V.update()})}),g(U,"update",R),["update","updatedData","remove"].forEach(W=>{g(H,W,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}}(l||(l={})),x(!0,M,p,{accessibility:{highContrastTheme:c},lang:C}),l}),K(d,"masters/modules/accessibility.src.js",[d["Core/Globals.js"],d["Accessibility/Accessibility.js"],d["Accessibility/AccessibilityComponent.js"],d["Accessibility/Utils/ChartUtilities.js"],d["Accessibility/Utils/HTMLUtilities.js"],d["Accessibility/KeyboardNavigationHandler.js"],d["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(I,L,O,k,B,S,j){return I.i18nFormat=L.i18nFormat,I.A11yChartUtilities=k,I.A11yHTMLUtilities=B,I.AccessibilityComponent=O,I.KeyboardNavigationHandler=S,I.SeriesAccessibilityDescriber=j,L.compose(I.Chart,I.Legend,I.Point,I.Series,I.SVGElement,I.RangeSelector),I})})})(ot);var at=ot.exports;const ct=lt(at),ut=ht({__proto__:null,default:ct},[at]);export{ut as a};
