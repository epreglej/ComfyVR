import{bK as kt}from"./DlnNi_hn.js";function Ct(Mt,yt){for(var d=0;d<yt.length;d++){const ot=yt[d];if(typeof ot!="string"&&!Array.isArray(ot)){for(const h in ot)if(h!=="default"&&!(h in Mt)){const u=Object.getOwnPropertyDescriptor(ot,h);u&&Object.defineProperty(Mt,h,u.get?u:{enumerable:!0,get:()=>ot[h]})}}}return Object.freeze(Object.defineProperty(Mt,Symbol.toStringTag,{value:"Module"}))}var vt={exports:{}};(function(Mt){(function(yt){Mt.exports?(yt.default=yt,Mt.exports=yt):yt(typeof Highcharts<"u"?Highcharts:void 0)})(function(yt){var d=yt?yt._modules:{};function ot(h,u,S,b){h.hasOwnProperty(u)||(h[u]=b.apply(null,S),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:u,module:h[u]}})))}ot(d,"Extensions/Pane/PaneComposition.js",[d["Core/Utilities.js"]],function(h){let{addEvent:u,correctFloat:S,defined:b,pick:R}=h;function N(M){let m,r=this;return M&&r.pane.forEach(y=>{k(M.chartX-r.plotLeft,M.chartY-r.plotTop,y.center)&&(m=y)}),m}function k(M,m,r,y,e){let p=!0,n=r[0],s=r[1];if(b(y)&&b(e)){let t=Math.atan2(S(m-s,8),S(M-n,8));e!==y&&(p=y>e?t>=y&&t<=Math.PI||t<=e&&t>=-Math.PI:t>=y&&t<=S(e,8))}return Math.sqrt(Math.pow(M-n,2)+Math.pow(m-s,2))<=Math.ceil(r[2]/2)&&p}function I(M){this.polar&&(M.options.inverted&&([M.x,M.y]=[M.y,M.x]),M.isInsidePlot=this.pane.some(m=>k(M.x,M.y,m.center,m.axis&&m.axis.normalizedStartAngleRad,m.axis&&m.axis.normalizedEndAngleRad)))}function H(M){let m=this.chart;M.hoverPoint&&M.hoverPoint.plotX&&M.hoverPoint.plotY&&m.hoverPane&&!k(M.hoverPoint.plotX,M.hoverPoint.plotY,m.hoverPane.center)&&(M.hoverPoint=void 0)}function j(M){let m=this.chart;m.polar?(m.hoverPane=m.getHoverPane(M),M.filter=function(r){return r.visible&&!(!M.shared&&r.directTouch)&&R(r.options.enableMouseTracking,!0)&&(!m.hoverPane||r.xAxis.pane===m.hoverPane)}):m.hoverPane=void 0}return{compose:function(M,m){let r=M.prototype;r.getHoverPane||(r.collectionsWithUpdate.push("pane"),r.getHoverPane=N,u(M,"afterIsInsidePlot",I),u(m,"afterGetHoverData",H),u(m,"beforeGetHoverData",j))}}}),ot(d,"Extensions/Pane/PaneDefaults.js",[],function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}}),ot(d,"Extensions/Pane/Pane.js",[d["Series/CenteredUtilities.js"],d["Extensions/Pane/PaneComposition.js"],d["Extensions/Pane/PaneDefaults.js"],d["Core/Utilities.js"]],function(h,u,S,b){let{extend:R,merge:N,splat:k}=b;class I{constructor(j,M){this.coll="pane",this.init(j,M)}init(j,M){this.chart=M,this.background=[],M.pane.push(this),this.setOptions(j)}setOptions(j){this.options=j=N(S.pane,this.chart.angular?{background:{}}:void 0,j)}render(){let j=this.options,M=this.chart.renderer;this.group||(this.group=M.g("pane-group").attr({zIndex:j.zIndex||0}).add()),this.updateCenter();let m=this.options.background;if(m){let r=Math.max((m=k(m)).length,this.background.length||0);for(let y=0;y<r;y++)m[y]&&this.axis?this.renderBackground(N(S.background,m[y]),y):this.background[y]&&(this.background[y]=this.background[y].destroy(),this.background.splice(y,1))}}renderBackground(j,M){let m={class:"highcharts-pane "+(j.className||"")},r="animate";this.chart.styledMode||R(m,{fill:j.backgroundColor,stroke:j.borderColor,"stroke-width":j.borderWidth}),this.background[M]||(this.background[M]=this.chart.renderer.path().add(this.group),r="attr"),this.background[M][r]({d:this.axis.getPlotBandPath(j.from,j.to,j)}).attr(m)}updateCenter(j){this.center=(j||this.axis||{}).center=h.getCenter.call(this)}update(j,M){N(!0,this.options,j),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(m){m.pane===this&&(m.pane=null,m.update({},M))},this)}}return I.compose=u.compose,I}),ot(d,"Series/AreaRange/AreaRangePoint.js",[d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u){let{area:{prototype:{pointClass:S,pointClass:{prototype:b}}}}=h.seriesTypes,{defined:R,isNumber:N}=u;return class extends S{setState(){let k=this.state,I=this.series,H=I.chart.polar;R(this.plotHigh)||(this.plotHigh=I.yAxis.toPixels(this.high,!0)),R(this.plotLow)||(this.plotLow=this.plotY=I.yAxis.toPixels(this.low,!0)),I.lowerStateMarkerGraphic=I.stateMarkerGraphic,I.stateMarkerGraphic=I.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,H&&N(this.plotHighX)&&(this.plotX=this.plotHighX),b.setState.apply(this,arguments),this.state=k,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],H&&N(this.plotLowX)&&(this.plotX=this.plotLowX),I.upperStateMarkerGraphic=I.stateMarkerGraphic,I.stateMarkerGraphic=I.lowerStateMarkerGraphic,I.lowerStateMarkerGraphic=void 0;let j=I.modifyMarkerSettings();b.setState.apply(this,arguments),I.restoreMarkerSettings(j)}haloPath(){let k=this.series.chart.polar,I=[];return this.plotY=this.plotLow,k&&N(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(I=b.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,k&&N(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(I=I.concat(b.haloPath.apply(this,arguments))),I}isValid(){return N(this.low)&&N(this.high)}}}),ot(d,"Series/AreaRange/AreaRangeSeries.js",[d["Series/AreaRange/AreaRangePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S,b){let{noop:R}=u,{area:N,area:{prototype:k},column:{prototype:I}}=S.seriesTypes,{addEvent:H,defined:j,extend:M,isArray:m,isNumber:r,pick:y,merge:e}=b;class p extends N{toYData(s){return[s.low,s.high]}highToXY(s){let t=this.chart,a=this.xAxis.postTranslate(s.rectPlotX||0,this.yAxis.len-(s.plotHigh||0));s.plotHighX=a.x-t.plotLeft,s.plotHigh=a.y-t.plotTop,s.plotLowX=s.plotX}getGraphPath(s){let t=[],a=[],x=k.getGraphPath,L=this.options,B=this.chart.polar,P=B&&L.connectEnds!==!1,Y=L.connectNulls,X,C,i,o=L.step;for(X=(s=s||this.points).length;X--;){C=s[X];let T=B?{plotX:C.rectPlotX,plotY:C.yBottom,doCurve:!1}:{plotX:C.plotX,plotY:C.plotY,doCurve:!1};C.isNull||P||Y||s[X+1]&&!s[X+1].isNull||a.push(T),i={polarPlotY:C.polarPlotY,rectPlotX:C.rectPlotX,yBottom:C.yBottom,plotX:y(C.plotHighX,C.plotX),plotY:C.plotHigh,isNull:C.isNull},a.push(i),t.push(i),C.isNull||P||Y||s[X-1]&&!s[X-1].isNull||a.push(T)}let f=x.call(this,s);o&&(o===!0&&(o="left"),L.step={left:"right",center:"center",right:"left"}[o]);let g=x.call(this,t),w=x.call(this,a);L.step=o;let c=[].concat(f,g);return!this.chart.polar&&w[0]&&w[0][0]==="M"&&(w[0]=["L",w[0][1],w[0][2]]),this.graphPath=c,this.areaPath=f.concat(w),c.isArea=!0,c.xMap=f.xMap,this.areaPath.xMap=f.xMap,c}drawDataLabels(){var i,o;let s,t,a,x,L,B=this.points,P=B.length,Y=[],X=this.options.dataLabels,C=this.chart.inverted;if(X){if(m(X)?(x=X[0]||{enabled:!1},L=X[1]||{enabled:!1}):((x=M({},X)).x=X.xHigh,x.y=X.yHigh,(L=M({},X)).x=X.xLow,L.y=X.yLow),x.enabled||((i=this.hasDataLabels)==null?void 0:i.call(this))){for(s=P;s--;)if(t=B[s]){let{plotHigh:f=0,plotLow:g=0}=t;a=x.inside?f<g:f>g,t.y=t.high,t._plotY=t.plotY,t.plotY=f,Y[s]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=a,C?x.align||(x.align=a?"right":"left"):x.verticalAlign||(x.verticalAlign=a?"top":"bottom")}for(this.options.dataLabels=x,k.drawDataLabels&&k.drawDataLabels.apply(this,arguments),s=P;s--;)(t=B[s])&&(t.dataLabelUpper=t.dataLabel,t.dataLabel=Y[s],delete t.dataLabels,t.y=t.low,t.plotY=t._plotY)}if(L.enabled||(o=this.hasDataLabels)!=null&&o.call(this)){for(s=P;s--;)if(t=B[s]){let{plotHigh:f=0,plotLow:g=0}=t;a=L.inside?f<g:f>g,t.below=!a,C?L.align||(L.align=a?"left":"right"):L.verticalAlign||(L.verticalAlign=a?"bottom":"top")}this.options.dataLabels=L,k.drawDataLabels&&k.drawDataLabels.apply(this,arguments)}if(x.enabled)for(s=P;s--;)(t=B[s])&&(t.dataLabels=[t.dataLabelUpper,t.dataLabel].filter(function(f){return!!f}));this.options.dataLabels=X}}alignDataLabel(){I.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let s={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:t,lowMarker:a}}=this;this.options.marker=e(t,a),a.symbol&&(this.symbol=a.symbol)}return s}restoreMarkerSettings(s){this.options.marker=s.marker,this.symbol=s.symbol}drawPoints(){let s,t,a=this.points.length,x=this.modifyMarkerSettings();for(k.drawPoints.apply(this,arguments),this.restoreMarkerSettings(x),s=0;s<a;)(t=this.points[s]).graphics=t.graphics||[],t.origProps={plotY:t.plotY,plotX:t.plotX,isInside:t.isInside,negative:t.negative,zone:t.zone,y:t.y},(t.graphic||t.graphics[0])&&(t.graphics[0]=t.graphic),t.graphic=t.graphics[1],t.plotY=t.plotHigh,j(t.plotHighX)&&(t.plotX=t.plotHighX),t.y=y(t.high,t.origProps.y),t.negative=t.y<(this.options.threshold||0),this.zones.length&&(t.zone=t.getZone()),this.chart.polar||(t.isInside=t.isTopInside=t.plotY!==void 0&&t.plotY>=0&&t.plotY<=this.yAxis.len&&t.plotX>=0&&t.plotX<=this.xAxis.len),s++;for(k.drawPoints.apply(this,arguments),s=0;s<a;)(t=this.points[s]).graphics=t.graphics||[],(t.graphic||t.graphics[1])&&(t.graphics[1]=t.graphic),t.graphic=t.graphics[0],t.origProps&&(M(t,t.origProps),delete t.origProps),s++}hasMarkerChanged(s,t){let a=s.lowMarker,x=t.lowMarker||{};return a&&(a.enabled===!1||x.symbol!==a.symbol||x.height!==a.height||x.width!==a.width)||super.hasMarkerChanged(s,t)}}return p.defaultOptions=e(N.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),H(p,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(n=>{let s=n.high,t=n.plotY;n.isNull?n.plotY=void 0:(n.plotLow=t,n.plotHigh=r(s)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(s):s,!1,!0,void 0,!0):void 0,this.dataModify&&(n.yBottom=n.plotHigh))})},{order:0}),H(p,"afterTranslate",function(){this.points.forEach(n=>{if(this.chart.polar)this.highToXY(n),n.plotLow=n.plotY,n.tooltipPos=[((n.plotHighX||0)+(n.plotLowX||0))/2,((n.plotHigh||0)+(n.plotLow||0))/2];else{let s=n.pos(!1,n.plotLow),t=n.pos(!1,n.plotHigh);s&&t&&(s[0]=(s[0]+t[0])/2,s[1]=(s[1]+t[1])/2),n.tooltipPos=s}})},{order:3}),M(p.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:h,pointValKey:"low",setStackedPoints:R}),S.registerSeriesType("arearange",p),p}),ot(d,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[d["Series/AreaRange/AreaRangeSeries.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S){let{spline:{prototype:b}}=u.seriesTypes,{merge:R,extend:N}=S;class k extends h{}return k.defaultOptions=R(h.defaultOptions),N(k.prototype,{getPointSpline:b.getPointSpline}),u.registerSeriesType("areasplinerange",k),k}),ot(d,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}}),ot(d,"Series/BoxPlot/BoxPlotSeries.js",[d["Series/BoxPlot/BoxPlotSeriesDefaults.js"],d["Series/Column/ColumnSeries.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S,b,R){let{noop:N}=S,{extend:k,merge:I,pick:H}=R;class j extends u{pointAttribs(){return{}}translate(){let m=this.yAxis,r=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(y){r.forEach(function(e){y[e]!==null&&(y[e+"Plot"]=m.translate(y[e],0,1,0,1))}),y.plotHigh=y.highPlot})}drawPoints(){let m=this.points,r=this.options,y=this.chart,e=y.renderer,p=this.doQuartiles!==!1,n=this.options.whiskerLength,s,t,a,x,L,B,P,Y=0,X,C,i,o,f,g,w;for(let c of m){let T=(C=c.graphic)?"animate":"attr",Z=c.shapeArgs,U={},tt={},J={},G={},l=c.color||this.color;if(c.plotY!==void 0){let A;i=Math.round(Z.width),f=(o=Math.floor(Z.x))+i,g=Math.round(i/2),s=Math.floor(p?c.q1Plot:c.lowPlot),t=Math.floor(p?c.q3Plot:c.lowPlot),a=Math.floor(c.highPlot),x=Math.floor(c.lowPlot),C||(c.graphic=C=e.g("point").add(this.group),c.stem=e.path().addClass("highcharts-boxplot-stem").add(C),n&&(c.whiskers=e.path().addClass("highcharts-boxplot-whisker").add(C)),p&&(c.box=e.path(X).addClass("highcharts-boxplot-box").add(C)),c.medianShape=e.path(B).addClass("highcharts-boxplot-median").add(C)),y.styledMode||(tt.stroke=c.stemColor||r.stemColor||l,tt["stroke-width"]=H(c.stemWidth,r.stemWidth,r.lineWidth),tt.dashstyle=c.stemDashStyle||r.stemDashStyle||r.dashStyle,c.stem.attr(tt),n&&(J.stroke=c.whiskerColor||r.whiskerColor||l,J["stroke-width"]=H(c.whiskerWidth,r.whiskerWidth,r.lineWidth),J.dashstyle=c.whiskerDashStyle||r.whiskerDashStyle||r.dashStyle,c.whiskers.attr(J)),p&&(U.fill=c.fillColor||r.fillColor||l,U.stroke=r.lineColor||l,U["stroke-width"]=r.lineWidth||0,U.dashstyle=c.boxDashStyle||r.boxDashStyle||r.dashStyle,c.box.attr(U)),G.stroke=c.medianColor||r.medianColor||l,G["stroke-width"]=H(c.medianWidth,r.medianWidth,r.lineWidth),G.dashstyle=c.medianDashStyle||r.medianDashStyle||r.dashStyle,c.medianShape.attr(G)),A=[["M",Y=o+g+(P=c.stem.strokeWidth()%2/2),t],["L",Y,a],["M",Y,s],["L",Y,x]],c.stem[T]({d:A}),p&&(s=Math.floor(s)+(P=c.box.strokeWidth()%2/2),t=Math.floor(t)+P,o+=P,f+=P,A=[["M",o,t],["L",o,s],["L",f,s],["L",f,t],["L",o,t],["Z"]],c.box[T]({d:A})),n&&(a+=P=c.whiskers.strokeWidth()%2/2,x+=P,A=[["M",Y-(w=/%$/.test(n)?g*parseFloat(n)/100:n/2),a],["L",Y+w,a],["M",Y-w,x],["L",Y+w,x]],c.whiskers[T]({d:A})),A=[["M",o,L=Math.round(c.medianPlot)+(P=c.medianShape.strokeWidth()%2/2)],["L",f,L]],c.medianShape[T]({d:A})}}}toYData(m){return[m.low,m.q1,m.median,m.q3,m.high]}}return j.defaultOptions=I(u.defaultOptions,h),k(j.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:N,setStackedPoints:N}),b.registerSeriesType("boxplot",j),j}),ot(d,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),ot(d,"Series/Bubble/BubbleLegendItem.js",[d["Core/Color/Color.js"],d["Core/Templating.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(h,u,S,b){let{parse:R}=h,{noop:N}=S,{arrayMax:k,arrayMin:I,isNumber:H,merge:j,pick:M,stableSort:m}=b;return class{constructor(r,y){this.setState=N,this.init(r,y)}init(r,y){this.options=r,this.visible=!0,this.chart=y.chart,this.legend=y}addToLegend(r){r.splice(this.options.legendIndex,0,this)}drawLegendSymbol(r){let y,e=M(r.options.itemDistance,20),p=this.legendItem||{},n=this.options,s=n.ranges,t=n.connectorDistance;if(!s||!s.length||!H(s[0].value)){r.options.bubbleLegend.autoRanges=!0;return}m(s,function(B,P){return P.value-B.value}),this.ranges=s,this.setOptions(),this.render();let a=this.getMaxLabelSize(),x=this.ranges[0].radius,L=2*x;y=(y=t-x+a.width)>0?y:0,this.maxLabel=a,this.movementX=n.labels.align==="left"?y:0,p.labelWidth=L+y+e,p.labelHeight=L+a.height/2}setOptions(){let r=this.ranges,y=this.options,e=this.chart.series[y.seriesIndex],p=this.legend.baseline,n={zIndex:y.zIndex,"stroke-width":y.borderWidth},s={zIndex:y.zIndex,"stroke-width":y.connectorWidth},t={align:this.legend.options.rtl||y.labels.align==="left"?"right":"left",zIndex:y.zIndex},a=e.options.marker.fillOpacity,x=this.chart.styledMode;r.forEach(function(L,B){x||(n.stroke=M(L.borderColor,y.borderColor,e.color),n.fill=M(L.color,y.color,a!==1?R(e.color).setOpacity(a).get("rgba"):e.color),s.stroke=M(L.connectorColor,y.connectorColor,e.color)),r[B].radius=this.getRangeRadius(L.value),r[B]=j(r[B],{center:r[0].radius-r[B].radius+p}),x||j(!0,r[B],{bubbleAttribs:j(n),connectorAttribs:j(s),labelAttribs:t})},this)}getRangeRadius(r){let y=this.options,e=this.options.seriesIndex,p=this.chart.series[e],n=y.ranges[0].value,s=y.ranges[y.ranges.length-1].value,t=y.minSize,a=y.maxSize;return p.getRadius.call(this,s,n,t,a,r)}render(){let r=this.legendItem||{},y=this.chart.renderer,e=this.options.zThreshold;for(let p of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),r.symbol=y.g("bubble-legend"),r.label=y.g("bubble-legend-item").css(this.legend.itemStyle||{}),r.symbol.translateX=0,r.symbol.translateY=0,r.symbol.add(r.label),r.label.add(r.group),this.ranges))p.value>=e&&this.renderRange(p);this.hideOverlappingLabels()}renderRange(r){let y=this.ranges[0],e=this.legend,p=this.options,n=p.labels,s=this.chart,t=s.series[p.seriesIndex],a=s.renderer,x=this.symbols,L=x.labels,B=r.center,P=Math.abs(r.radius),Y=p.connectorDistance||0,X=n.align,C=e.options.rtl,i=p.borderWidth,o=p.connectorWidth,f=y.radius||0,g=B-P-i/2+o/2,w=(g%1?1:.5)-(o%2?0:.5),c=a.styledMode,T=C||X==="left"?-Y:Y;X==="center"&&(T=0,p.connectorDistance=0,r.labelAttribs.align="center"),x.bubbleItems.push(a.circle(f,B+w,P).attr(c?{}:r.bubbleAttribs).addClass((c?"highcharts-color-"+t.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(p.className||"")).add(this.legendItem.symbol)),x.connectors.push(a.path(a.crispLine([["M",f,g],["L",f+T,g]],p.connectorWidth)).attr(c?{}:r.connectorAttribs).addClass((c?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(p.connectorClassName||"")).add(this.legendItem.symbol));let Z=a.text(this.formatLabel(r)).attr(c?{}:r.labelAttribs).css(c?{}:n.style).addClass("highcharts-bubble-legend-labels "+(p.labels.className||"")).add(this.legendItem.symbol),U={x:f+T+p.labels.x,y:g+p.labels.y+.4*Z.getBBox().height};Z.attr(U),L.push(Z),Z.placed=!0,Z.alignAttr=U}getMaxLabelSize(){let r,y;return this.symbols.labels.forEach(function(e){y=e.getBBox(!0),r=r?y.width>r.width?y:r:y}),r||{}}formatLabel(r){let y=this.options,e=y.labels.formatter,p=y.labels.format,{numberFormatter:n}=this.chart;return p?u.format(p,r):e?e.call(r):n(r.value,1)}hideOverlappingLabels(){let r=this.chart,y=this.options.labels.allowOverlap,e=this.symbols;!y&&e&&(r.hideOverlappingLabels(e.labels),e.labels.forEach(function(p,n){p.newOpacity?p.newOpacity!==p.oldOpacity&&e.connectors[n].show():e.connectors[n].hide()}))}getRanges(){let r=this.legend.bubbleLegend,y=r.chart.series,e=r.options.ranges,p,n,s=Number.MAX_VALUE,t=-Number.MAX_VALUE;return y.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(n=a.zData.filter(H)).length&&(s=M(a.options.zMin,Math.min(s,Math.max(I(n),a.options.displayNegative===!1?a.options.zThreshold:-Number.MAX_VALUE))),t=M(a.options.zMax,Math.max(t,k(n))))}),p=s===t?[{value:t}]:[{value:s},{value:(s+t)/2},{value:t,autoRanges:!0}],e.length&&e[0].radius&&p.reverse(),p.forEach(function(a,x){e&&e[x]&&(p[x]=j(e[x],a))}),p}predictBubbleSizes(){let r=this.chart,y=r.legend.options,e=y.floating,p=y.layout==="horizontal",n=p?r.legend.lastLineHeight:0,s=r.plotSizeX,t=r.plotSizeY,a=r.series[this.options.seriesIndex],x=a.getPxExtremes(),L=Math.ceil(x.minPxSize),B=Math.ceil(x.maxPxSize),P,Y=a.options.maxSize;return e||!/%$/.test(Y)?P=B:(P=(Math.min(t,s)+n)*(Y=parseFloat(Y))/100/(Y/100+1),(p&&t-P>=s||!p&&s-P>=t)&&(P=B)),[L,Math.ceil(P)]}updateRanges(r,y){let e=this.legend.options.bubbleLegend;e.minSize=r,e.maxSize=y,e.ranges=this.getRanges()}correctSizes(){let r=this.legend,y=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(y.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,y.maxPxSize),r.render())}}}),ot(d,"Series/Bubble/BubbleLegendComposition.js",[d["Series/Bubble/BubbleLegendDefaults.js"],d["Series/Bubble/BubbleLegendItem.js"],d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(h,u,S,b,R){let{setOptions:N}=S,{composed:k}=b,{addEvent:I,objectEach:H,pushUnique:j,wrap:M}=R;function m(s,t,a){let x,L,B,P=this.legend,Y=r(this)>=0;P&&P.options.enabled&&P.bubbleLegend&&P.options.bubbleLegend.autoRanges&&Y?(x=P.bubbleLegend.options,L=P.bubbleLegend.predictBubbleSizes(),P.bubbleLegend.updateRanges(L[0],L[1]),x.placed||(P.group.placed=!1,P.allItems.forEach(X=>{(B=X.legendItem||{}).group&&(B.group.translateY=void 0)})),P.render(),x.placed||(this.getMargins(),this.axes.forEach(function(X){X.visible&&X.render(),x.placed||(X.setScale(),X.updateNames(),H(X.ticks,function(C){C.isNew=!0,C.isNewLabel=!0}))}),this.getMargins()),x.placed=!0,s.call(this,t,a),P.bubbleLegend.correctSizes(),n(P,y(P))):(s.call(this,t,a),P&&P.options.enabled&&P.bubbleLegend&&(P.render(),n(P,y(P))))}function r(s){let t=s.series,a=0;for(;a<t.length;){if(t[a]&&t[a].isBubble&&t[a].visible&&t[a].zData.length)return a;a++}return-1}function y(s){let t=s.allItems,a=[],x=t.length,L,B,P,Y=0,X=0;for(Y=0;Y<x;Y++)if(B=t[Y].legendItem||{},P=(t[Y+1]||{}).legendItem||{},B.labelHeight&&(t[Y].itemHeight=B.labelHeight),t[Y]===t[x-1]||B.y!==P.y){for(a.push({height:0}),L=a[a.length-1];X<=Y;X++)t[X].itemHeight>L.height&&(L.height=t[X].itemHeight);L.step=Y}return a}function e(s){let t=this.bubbleLegend,a=this.options,x=a.bubbleLegend,L=r(this.chart);t&&t.ranges&&t.ranges.length&&(x.ranges.length&&(x.autoRanges=!!x.ranges[0].autoRanges),this.destroyItem(t)),L>=0&&a.enabled&&x.enabled&&(x.seriesIndex=L,this.bubbleLegend=new u(x,this),this.bubbleLegend.addToLegend(s.allItems))}function p(s){let t;if(s.defaultPrevented)return!1;let a=this.chart,x=this.visible,L=this.chart.legend;L&&L.bubbleLegend&&(this.visible=!x,this.ignoreSeries=x,t=r(a)>=0,L.bubbleLegend.visible!==t&&(L.update({bubbleLegend:{enabled:t}}),L.bubbleLegend.visible=t),this.visible=x)}function n(s,t){let a=s.allItems,x=s.options.rtl,L,B,P,Y,X=0;a.forEach((C,i)=>{(Y=C.legendItem||{}).group&&(L=Y.group.translateX||0,B=Y.y||0,((P=C.movementX)||x&&C.ranges)&&(P=x?L-C.options.maxSize/2:L+P,Y.group.attr({translateX:P})),i>t[X].step&&X++,Y.group.attr({translateY:Math.round(B+t[X].height/2)}),Y.y=B+t[X].height/2)})}return{compose:function(s,t,a){j(k,"Series.BubbleLegend")&&(N({legend:{bubbleLegend:h}}),M(s.prototype,"drawChartBox",m),I(t,"afterGetAllItems",e),I(a,"legendItemClick",p))}}}),ot(d,"Series/Bubble/BubblePoint.js",[d["Core/Series/Point.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S){let{seriesTypes:{scatter:{prototype:{pointClass:b}}}}=u,{extend:R}=S;class N extends b{haloPath(I){return h.prototype.haloPath.call(this,I===0?0:(this.marker&&this.marker.radius||0)+I)}}return R(N.prototype,{ttBelow:!1}),N}),ot(d,"Series/Bubble/BubbleSeries.js",[d["Series/Bubble/BubbleLegendComposition.js"],d["Series/Bubble/BubblePoint.js"],d["Core/Color/Color.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S,b,R,N){let{parse:k}=S,{composed:I,noop:H}=b,{series:j,seriesTypes:{column:{prototype:M},scatter:m}}=R,{addEvent:r,arrayMax:y,arrayMin:e,clamp:p,extend:n,isNumber:s,merge:t,pick:a,pushUnique:x}=N;function L(){let P=this.len,{coll:Y,isXAxis:X,min:C}=this,i=X?"xData":"yData",o=(this.max||0)-(C||0),f=0,g=P,w=P/o,c;(Y==="xAxis"||Y==="yAxis")&&(this.series.forEach(T=>{if(T.bubblePadding&&T.reserveSpace()){this.allowZoomOutside=!0,c=!0;let Z=T[i];if(X&&((T.onPoint||T).getRadii(0,0,T),T.onPoint&&(T.radii=T.onPoint.radii)),o>0){let U=Z.length;for(;U--;)if(s(Z[U])&&this.dataMin<=Z[U]&&Z[U]<=this.max){let tt=T.radii&&T.radii[U]||0;f=Math.min((Z[U]-C)*w-tt,f),g=Math.max((Z[U]-C)*w+tt,g)}}}}),c&&o>0&&!this.logarithmic&&(g-=P,w*=(P+Math.max(0,f)-Math.min(g,P))/P,[["min","userMin",f],["max","userMax",g]].forEach(T=>{a(this.options[T[0]],this[T[1]])===void 0&&(this[T[0]]+=T[2]/w)})))}class B extends m{static compose(Y,X,C,i){h.compose(X,C,i),x(I,"Series.Bubble")&&r(Y,"foundExtremes",L)}animate(Y){!Y&&this.points.length<this.options.animationLimit&&this.points.forEach(function(X){let{graphic:C}=X;C&&C.width&&(this.hasRendered||C.attr({x:X.plotX,y:X.plotY,width:1,height:1}),C.animate(this.markerAttribs(X),this.options.animation))},this)}getRadii(){let Y=this.zData,X=this.yData,C=[],i,o,f,g=this.chart.bubbleZExtremes,{minPxSize:w,maxPxSize:c}=this.getPxExtremes();if(!g){let T,Z=Number.MAX_VALUE,U=-Number.MAX_VALUE;this.chart.series.forEach(tt=>{if(tt.bubblePadding&&tt.reserveSpace()){let J=(tt.onPoint||tt).getZExtremes();J&&(Z=Math.min(a(Z,J.zMin),J.zMin),U=Math.max(a(U,J.zMax),J.zMax),T=!0)}}),T?(g={zMin:Z,zMax:U},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(o=0,i=Y.length;o<i;o++)f=Y[o],C.push(this.getRadius(g.zMin,g.zMax,w,c,f,X&&X[o]));this.radii=C}getRadius(Y,X,C,i,o,f){let g=this.options,w=g.sizeBy!=="width",c=g.zThreshold,T=X-Y,Z=.5;if(f===null||o===null)return null;if(s(o)){if(g.sizeByAbsoluteValue&&(o=Math.abs(o-c),X=T=Math.max(X-c,Math.abs(Y-c)),Y=0),o<Y)return C/2-1;T>0&&(Z=(o-Y)/T)}return w&&Z>=0&&(Z=Math.sqrt(Z)),Math.ceil(C+Z*(i-C))/2}hasData(){return!!this.processedXData.length}pointAttribs(Y,X){let C=this.options.marker.fillOpacity,i=j.prototype.pointAttribs.call(this,Y,X);return C!==1&&(i.fill=k(i.fill).setOpacity(C).get("rgba")),i}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:Y,options:X,radii:C}=this,{minPxSize:i}=this.getPxExtremes(),o=Y.length;for(;o--;){let f=Y[o],g=C?C[o]:0;this.zoneAxis==="z"&&(f.negative=(f.z||0)<(X.zThreshold||0)),s(g)&&g>=i/2?(f.marker=n(f.marker,{radius:g,width:2*g,height:2*g}),f.dlBox={x:f.plotX-g,y:f.plotY-g,width:2*g,height:2*g}):(f.shapeArgs=f.plotY=f.dlBox=void 0,f.isInside=!1)}}getPxExtremes(){let Y=Math.min(this.chart.plotWidth,this.chart.plotHeight),X=o=>{let f;return typeof o=="string"&&(f=/%$/.test(o),o=parseInt(o,10)),f?Y*o/100:o},C=X(a(this.options.minSize,8)),i=Math.max(X(a(this.options.maxSize,"20%")),C);return{minPxSize:C,maxPxSize:i}}getZExtremes(){let Y=this.options,X=(this.zData||[]).filter(s);if(X.length){let C=a(Y.zMin,p(e(X),Y.displayNegative===!1?Y.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),i=a(Y.zMax,y(X));if(s(C)&&s(i))return{zMin:C,zMax:i}}}}return B.defaultOptions=t(m.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:P}=this.series.chart,{z:Y}=this.point;return s(Y)?P(Y,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),n(B.prototype,{alignDataLabel:M.alignDataLabel,applyZones:H,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:u,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),r(B,"updatedData",P=>{delete P.target.chart.bubbleZExtremes}),r(B,"remove",P=>{delete P.target.chart.bubbleZExtremes}),R.registerSeriesType("bubble",B),B}),ot(d,"Series/ColumnRange/ColumnRangePoint.js",[d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u){let{seriesTypes:{column:{prototype:{pointClass:{prototype:S}}},arearange:{prototype:{pointClass:b}}}}=h,{extend:R,isNumber:N}=u;class k extends b{isValid(){return N(this.low)}}return R(k.prototype,{setState:S.setState}),k}),ot(d,"Series/ColumnRange/ColumnRangeSeries.js",[d["Series/ColumnRange/ColumnRangePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S,b){let{noop:R}=u,{seriesTypes:{arearange:N,column:k,column:{prototype:I}}}=S,{addEvent:H,clamp:j,extend:M,isNumber:m,merge:r,pick:y}=b;class e extends N{setOptions(){return r(!0,arguments[0],{stacking:void 0}),N.prototype.setOptions.apply(this,arguments)}translate(){return I.translate.apply(this)}pointAttribs(){return I.pointAttribs.apply(this,arguments)}translate3dPoints(){return I.translate3dPoints.apply(this,arguments)}translate3dShapes(){return I.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let n,s,t,a,x=this.yAxis,L=this.xAxis,B=L.startAngleRad,P=this.chart,Y=this.xAxis.isRadial,X=Math.max(P.chartWidth,P.chartHeight)+999;this.points.forEach(C=>{let i=C.shapeArgs||{},o=this.options.minPointLength,f=C.plotY,g=x.translate(C.high,0,1,0,1);if(m(g)&&m(f))if(C.plotHigh=j(g,-X,X),C.plotLow=j(f,-X,X),a=C.plotHigh,Math.abs(n=y(C.rectPlotY,C.plotY)-C.plotHigh)<o?(s=o-n,n+=s,a-=s/2):n<0&&(n*=-1,a-=n),Y&&this.polar)t=C.barX+B,C.shapeType="arc",C.shapeArgs=this.polar.arc(a+n,a,t,t+C.pointWidth);else{i.height=n,i.y=a;let{x:w=0,width:c=0}=i;C.shapeArgs=r(C.shapeArgs,this.crispCol(w,a,c,n)),C.tooltipPos=P.inverted?[x.len+x.pos-P.plotLeft-a-n/2,L.len+L.pos-P.plotTop-w-c/2,n]:[L.left-P.plotLeft+w+c/2,x.pos-P.plotTop+a+n/2,n]}})}}return e.defaultOptions=r(k.defaultOptions,N.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),H(e,"afterColumnTranslate",function(){e.prototype.afterColumnTranslate.apply(this)},{order:5}),M(e.prototype,{directTouch:!0,pointClass:h,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:I.adjustForMissingColumns,animate:I.animate,crispCol:I.crispCol,drawGraph:R,drawPoints:I.drawPoints,getSymbol:R,drawTracker:I.drawTracker,getColumnMetrics:I.getColumnMetrics}),S.registerSeriesType("columnrange",e),e}),ot(d,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],function(){return{}}),ot(d,"Series/ColumnPyramid/ColumnPyramidSeries.js",[d["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S){let{column:b}=u.seriesTypes,{clamp:R,merge:N,pick:k}=S;class I extends b{translate(){let j=this.chart,M=this.options,m=this.dense=this.closestPointRange*this.xAxis.transA<2,r=this.borderWidth=k(M.borderWidth,m?0:1),y=this.yAxis,e=M.threshold,p=k(M.minPointLength,5),n=this.getColumnMetrics(),s=n.width,t=this.pointXOffset=n.offset,a=this.translatedThreshold=y.getThreshold(e),x=this.barW=Math.max(s,1+2*r);for(let L of(j.inverted&&(a-=.5),M.pointPadding&&(x=Math.ceil(x)),super.translate(),this.points)){let B=k(L.yBottom,a),P=999+Math.abs(B),Y=R(L.plotY,-P,y.len+P),X=x/2,C=Math.min(Y,B),i=Math.max(Y,B)-C,o=L.plotX+t,f,g,w,c,T,Z,U,tt,J,G,l;M.centerInCategory&&(o=this.adjustForMissingColumns(o,s,L,n)),L.barX=o,L.pointWidth=s,L.tooltipPos=j.inverted?[y.len+y.pos-j.plotLeft-Y,this.xAxis.len-o-X,i]:[o+X,Y+y.pos-j.plotTop,i],f=e+(L.total||L.y),M.stacking==="percent"&&(f=e+(L.y<0)?-100:100);let A=y.toPixels(f,!0);w=(g=j.plotHeight-A-(j.plotHeight-a))?X*(C-A)/g:0,c=g?X*(C+i-A)/g:0,Z=o-w+X,U=o+w+X,tt=o+c+X,J=o-c+X,G=C-p,l=C+i,L.y<0&&(G=C,l=C+i+p),j.inverted&&(T=y.width-C,g=A-(y.width-a),w=X*(A-T)/g,c=X*(A-(T-i))/g,U=(Z=o+X+w)-2*w,tt=o-c+X,J=o+c+X,G=C,l=C+i-p,L.y<0&&(l=C+i+p)),L.shapeType="path",L.shapeArgs={x:Z,y:G,width:U-Z,height:i,d:[["M",Z,G],["L",U,G],["L",tt,l],["L",J,l],["Z"]]}}}}return I.defaultOptions=N(b.defaultOptions,h),u.registerSeriesType("columnpyramid",I),I}),ot(d,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),ot(d,"Series/ErrorBar/ErrorBarSeries.js",[d["Series/BoxPlot/BoxPlotSeries.js"],d["Series/Column/ColumnSeries.js"],d["Series/ErrorBar/ErrorBarSeriesDefaults.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S,b,R){let{arearange:N}=b.seriesTypes,{addEvent:k,merge:I,extend:H}=R;class j extends h{getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||u.prototype.getColumnMetrics.call(this)}drawDataLabels(){let m=this.pointValKey;if(N)for(let r of(N.prototype.drawDataLabels.call(this),this.points))r.y=r[m]}toYData(m){return[m.low,m.high]}}return j.defaultOptions=I(h.defaultOptions,S),k(j,"afterTranslate",function(){for(let M of this.points)M.plotLow=M.plotY},{order:0}),H(j.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),b.registerSeriesType("errorbar",j),j}),ot(d,"Series/Gauge/GaugePoint.js",[d["Core/Series/SeriesRegistry.js"]],function(h){let{series:{prototype:{pointClass:u}}}=h;return class extends u{setState(S){this.state=S}}}),ot(d,"Series/Gauge/GaugeSeries.js",[d["Series/Gauge/GaugePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S,b){let{noop:R}=u,{series:N,seriesTypes:{column:k}}=S,{clamp:I,isNumber:H,extend:j,merge:M,pick:m,pInt:r,defined:y}=b;class e extends N{translate(){let n=this.yAxis,s=this.options,t=n.center;this.generatePoints(),this.points.forEach(a=>{let x=M(s.dial,a.dial),L=r(x.radius)*t[2]/200,B=r(x.baseLength)*L/100,P=r(x.rearLength)*L/100,Y=x.baseWidth,X=x.topWidth,C=s.overshoot,i=n.startAngleRad+n.translate(a.y,void 0,void 0,void 0,!0);(H(C)||s.wrap===!1)&&(C=H(C)?C/180*Math.PI:0,i=I(i,n.startAngleRad-C,n.endAngleRad+C)),i=180*i/Math.PI,a.shapeType="path";let o=x.path||[["M",-P,-Y/2],["L",B,-Y/2],["L",L,-X/2],["L",L,X/2],["L",B,Y/2],["L",-P,Y/2],["Z"]];a.shapeArgs={d:o,translateX:t[0],translateY:t[1],rotation:i},a.plotX=t[0],a.plotY=t[1],y(a.y)&&n.max-n.min&&(a.percentage=(a.y-n.min)/(n.max-n.min)*100)})}drawPoints(){let n=this,s=n.chart,t=n.yAxis.center,a=n.pivot,x=n.options,L=x.pivot,B=s.renderer;n.points.forEach(P=>{let Y=P.graphic,X=P.shapeArgs,C=X.d,i=M(x.dial,P.dial);Y?(Y.animate(X),X.d=C):P.graphic=B[P.shapeType](X).addClass("highcharts-dial").add(n.group),s.styledMode||P.graphic[Y?"animate":"attr"]({stroke:i.borderColor,"stroke-width":i.borderWidth,fill:i.backgroundColor})}),a?a.animate({translateX:t[0],translateY:t[1]}):L&&(n.pivot=B.circle(0,0,L.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(t[0],t[1]).add(n.group),s.styledMode||n.pivot.attr({fill:L.backgroundColor,stroke:L.borderColor,"stroke-width":L.borderWidth}))}animate(n){let s=this;n||s.points.forEach(t=>{let a=t.graphic;a&&(a.attr({rotation:180*s.yAxis.startAngleRad/Math.PI}),a.animate({rotation:t.shapeArgs.rotation},s.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),N.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(n,s){N.prototype.setData.call(this,n,!1),this.processData(),this.generatePoints(),m(s,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return e.defaultOptions=M(N.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),j(e.prototype,{angular:!0,directTouch:!0,drawGraph:R,drawTracker:k.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:h,trackerGroups:["group","dataLabelsGroup"]}),S.registerSeriesType("gauge",e),e}),ot(d,"Series/DragNodesComposition.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(h,u){let{composed:S}=h,{addEvent:b,pushUnique:R}=u;function N(){let k,I,H,j=this;j.container&&(k=b(j.container,"mousedown",M=>{let m=j.hoverPoint;m&&m.series&&m.series.hasDraggableNodes&&m.series.options.draggable&&(m.series.onMouseDown(m,M),I=b(j.container,"mousemove",r=>m&&m.series&&m.series.onMouseMove(m,r)),H=b(j.container.ownerDocument,"mouseup",r=>(I(),H(),m&&m.series&&m.series.onMouseUp(m,r))))})),b(j,"destroy",function(){k()})}return{compose:function(k){R(S,"DragNodes")&&b(k,"load",N)},onMouseDown:function(k,I){var j;let H=((j=this.chart.pointer)==null?void 0:j.normalize(I))||I;k.fixedPosition={chartX:H.chartX,chartY:H.chartY,plotX:k.plotX,plotY:k.plotY},k.inDragMode=!0},onMouseMove:function(k,I){var H;if(k.fixedPosition&&k.inDragMode){let j,M,m=this.chart,r=((H=m.pointer)==null?void 0:H.normalize(I))||I,y=k.fixedPosition.chartX-r.chartX,e=k.fixedPosition.chartY-r.chartY,p=m.graphLayoutsLookup;(Math.abs(y)>5||Math.abs(e)>5)&&(j=k.fixedPosition.plotX-y,M=k.fixedPosition.plotY-e,m.isInsidePlot(j,M)&&(k.plotX=j,k.plotY=M,k.hasDragged=!0,this.redrawHalo(k),p.forEach(n=>{n.restartSimulation()})))}},onMouseUp:function(k){k.fixedPosition&&(k.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),k.inDragMode=k.hasDragged=!1,this.options.fixedDraggable||delete k.fixedPosition)},redrawHalo:function(k){k&&this.halo&&this.halo.attr({d:k.haloPath(this.options.states.hover.halo.size)})}}}),ot(d,"Series/GraphLayoutComposition.js",[d["Core/Animation/AnimationUtilities.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(h,u,S){let{setAnimation:b}=h,{composed:R}=u,{addEvent:N,pushUnique:k}=S;function I(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(m=>{m.updateSimulation()}),this.redraw())}function H(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(m=>{m.updateSimulation(!1)}),this.redraw())}function j(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(m=>{m.stop()})}function M(){let m,r=!1,y=e=>{e.maxIterations--&&isFinite(e.temperature)&&!e.isStable()&&!e.enableSimulation&&(e.beforeStep&&e.beforeStep(),e.step(),m=!1,r=!0)};if(this.graphLayoutsLookup){for(b(!1,this),this.graphLayoutsLookup.forEach(e=>e.start());!m;)m=!0,this.graphLayoutsLookup.forEach(y);r&&this.series.forEach(e=>{e&&e.layout&&e.render()})}}return{compose:function(m){k(R,"GraphLayout")&&(N(m,"afterPrint",I),N(m,"beforePrint",H),N(m,"predraw",j),N(m,"render",M))},integrations:{},layouts:{}}}),ot(d,"Series/PackedBubble/PackedBubblePoint.js",[d["Core/Chart/Chart.js"],d["Core/Series/Point.js"],d["Core/Series/SeriesRegistry.js"]],function(h,u,S){let{seriesTypes:{bubble:{prototype:{pointClass:b}}}}=S;return class extends b{destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),u.prototype.destroy.apply(this,arguments)}firePointEvent(){let R=this.series.options;if(this.isParentNode&&R.parentNode){let N=R.allowPointSelect;R.allowPointSelect=R.parentNode.allowPointSelect,u.prototype.firePointEvent.apply(this,arguments),R.allowPointSelect=N}else u.prototype.firePointEvent.apply(this,arguments)}select(){let R=this.series.chart;this.isParentNode?(R.getSelectedPoints=R.getSelectedParentNodes,u.prototype.select.apply(this,arguments),R.getSelectedPoints=h.prototype.getSelectedPoints):u.prototype.select.apply(this,arguments)}}}),ot(d,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[d["Core/Utilities.js"]],function(h){let{isNumber:u}=h;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:S}=this.series.chart,{value:b}=this.point;return u(b)?S(b,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),ot(d,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(h,u,S){let b=h.getMass(),R=-S.x*u*this.diffTemperature,N=-S.y*u*this.diffTemperature;h.fromNode.fixedPosition||(h.fromNode.plotX-=R*b.fromNode/h.fromNode.degree,h.fromNode.plotY-=N*b.fromNode/h.fromNode.degree),h.toNode.fixedPosition||(h.toNode.plotX+=R*b.toNode/h.toNode.degree,h.toNode.plotY+=N*b.toNode/h.toNode.degree)},attractiveForceFunction:function(h,u){return(u-h)/h},barycenter:function(){let h=this.options.gravitationalConstant||0,u=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*h,S=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*h;this.nodes.forEach(function(b){b.fixedPosition||(b.plotX-=u/b.mass/b.degree,b.plotY-=S/b.mass/b.degree)})},getK:function(h){return Math.pow(h.box.width*h.box.height/h.nodes.length,.5)},integrate:function(h,u){let S=-h.options.friction,b=h.options.maxSpeed,R=u.prevX,N=u.prevY,k=(u.plotX+u.dispX-R)*S,I=(u.plotY+u.dispY-N)*S,H=Math.abs,j=H(k)/(k||1),M=H(I)/(I||1),m=j*Math.min(b,Math.abs(k)),r=M*Math.min(b,Math.abs(I));u.prevX=u.plotX+u.dispX,u.prevY=u.plotY+u.dispY,u.plotX+=m,u.plotY+=r,u.temperature=h.vectorLength({x:m,y:r})},repulsive:function(h,u,S){let b=u*this.diffTemperature/h.mass/h.degree;h.fixedPosition||(h.plotX+=S.x*b,h.plotY+=S.y*b)},repulsiveForceFunction:function(h,u){return(u-h)/h*(u>h?1:0)}}}),ot(d,"Series/PackedBubble/PackedBubbleIntegration.js",[d["Core/Globals.js"],d["Series/Networkgraph/VerletIntegration.js"]],function(h,u){let{noop:S}=h;return{barycenter:function(){let b,R,N=this.options.gravitationalConstant,k=this.box,I=this.nodes;for(let H of I)this.options.splitSeries&&!H.isParentNode?(b=H.series.parentNode.plotX,R=H.series.parentNode.plotY):(b=k.width/2,R=k.height/2),H.fixedPosition||(H.plotX-=(H.plotX-b)*N/(H.mass*Math.sqrt(I.length)),H.plotY-=(H.plotY-R)*N/(H.mass*Math.sqrt(I.length)))},getK:S,integrate:u.integrate,repulsive:function(b,R,N,k){let I=R*this.diffTemperature/b.mass/b.degree,H=N.x*I,j=N.y*I;b.fixedPosition||(b.plotX+=H,b.plotY+=j),k.fixedPosition||(k.plotX-=H,k.plotY-=j)},repulsiveForceFunction:function(b,R,N,k){return Math.min(b,(N.marker.radius+k.marker.radius)/2)}}}),ot(d,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(h,u,S,b){let R=h.getMass(),N=S.x/b*u,k=S.y/b*u;h.fromNode.fixedPosition||(h.fromNode.dispX-=N*R.fromNode/h.fromNode.degree,h.fromNode.dispY-=k*R.fromNode/h.fromNode.degree),h.toNode.fixedPosition||(h.toNode.dispX+=N*R.toNode/h.toNode.degree,h.toNode.dispY+=k*R.toNode/h.toNode.degree)},attractiveForceFunction:function(h,u){return h*h/u},barycenter:function(){let h=this.options.gravitationalConstant,u=this.barycenter.xFactor,S=this.barycenter.yFactor;this.nodes.forEach(function(b){if(!b.fixedPosition){let R=b.getDegree(),N=R*(1+R/2);b.dispX+=(u-b.plotX)*h*N/b.degree,b.dispY+=(S-b.plotY)*h*N/b.degree}})},getK:function(h){return Math.pow(h.box.width*h.box.height/h.nodes.length,.3)},integrate:function(h,u){u.dispX+=u.dispX*h.options.friction,u.dispY+=u.dispY*h.options.friction;let S=u.temperature=h.vectorLength({x:u.dispX,y:u.dispY});S!==0&&(u.plotX+=u.dispX/S*Math.min(Math.abs(u.dispX),h.temperature),u.plotY+=u.dispY/S*Math.min(Math.abs(u.dispY),h.temperature))},repulsive:function(h,u,S,b){h.dispX+=S.x/b*u/h.degree,h.dispY+=S.y/b*u/h.degree},repulsiveForceFunction:function(h,u){return u*u/h}}}),ot(d,"Series/Networkgraph/QuadTreeNode.js",[],function(){class h{constructor(S){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=S,this.boxSize=Math.min(S.width,S.height)}divideBox(){let S=this.box.width/2,b=this.box.height/2;this.nodes[0]=new h({left:this.box.left,top:this.box.top,width:S,height:b}),this.nodes[1]=new h({left:this.box.left+S,top:this.box.top,width:S,height:b}),this.nodes[2]=new h({left:this.box.left+S,top:this.box.top+b,width:S,height:b}),this.nodes[3]=new h({left:this.box.left,top:this.box.top+b,width:S,height:b})}getBoxPosition(S){let b=S.plotX<this.box.left+this.box.width/2,R=S.plotY<this.box.top+this.box.height/2;return b?R?0:3:R?1:2}insert(S,b){let R;this.isInternal?this.nodes[this.getBoxPosition(S)].insert(S,b-1):(this.isEmpty=!1,this.body?b?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,b-1),this.body=!0),this.nodes[this.getBoxPosition(S)].insert(S,b-1)):((R=new h({top:S.plotX||NaN,left:S.plotY||NaN,width:.1,height:.1})).body=S,R.isInternal=!1,this.nodes.push(R)):(this.isInternal=!1,this.body=S))}updateMassAndCenter(){let S=0,b=0,R=0;if(this.isInternal){for(let N of this.nodes)N.isEmpty||(S+=N.mass,b+=N.plotX*N.mass,R+=N.plotY*N.mass);b/=S,R/=S}else this.body&&(S=this.body.mass,b=this.body.plotX,R=this.body.plotY);this.mass=S,this.plotX=b,this.plotY=R}}return h}),ot(d,"Series/Networkgraph/QuadTree.js",[d["Series/Networkgraph/QuadTreeNode.js"]],function(h){return class{constructor(u,S,b,R){this.box={left:u,top:S,width:b,height:R},this.maxDepth=25,this.root=new h(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(u){u.updateMassAndCenter()})}insertNodes(u){for(let S of u)this.root.insert(S,this.maxDepth)}visitNodeRecursive(u,S,b){let R;if(u||(u=this.root),u===this.root&&S&&(R=S(u)),R!==!1){for(let N of u.nodes){if(N.isInternal){if(S&&(R=S(N)),R===!1)continue;this.visitNodeRecursive(N,S,b)}else N.body&&S&&S(N.body);b&&b(N)}u===this.root&&b&&b(u)}}}}),ot(d,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[d["Series/Networkgraph/EulerIntegration.js"],d["Core/Globals.js"],d["Series/GraphLayoutComposition.js"],d["Series/Networkgraph/QuadTree.js"],d["Core/Utilities.js"],d["Series/Networkgraph/VerletIntegration.js"]],function(h,u,S,b,R,N){let{win:k}=u,{clamp:I,defined:H,isFunction:j,fireEvent:M,pick:m}=R;class r{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(e){S.compose(e),S.integrations.euler=h,S.integrations.verlet=N,S.layouts["reingold-fruchterman"]=r}init(e){this.options=e,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=S.integrations[e.integration],this.enableSimulation=e.enableSimulation,this.attractiveForce=m(e.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=m(e.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=e.approximation}updateSimulation(e){this.enableSimulation=m(e,this.options.enableSimulation)}start(){let e=this.series,p=this.options;this.currentStep=0,this.forces=e[0]&&e[0].forces||[],this.chart=e[0]&&e[0].chart,this.initialRendering&&(this.initPositions(),e.forEach(function(n){n.finishedAnimating=!0,n.render()})),this.setK(),this.resetSimulation(p),this.enableSimulation&&this.step()}step(){let e=this.series;for(let p of(this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[p+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let p of e)p.chart&&p.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&k.cancelAnimationFrame(this.simulation),this.simulation=k.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(p=>{M(p,"afterSimulation")}))}}stop(){this.simulation&&k.cancelAnimationFrame(this.simulation)}setArea(e,p,n,s){this.box={left:e,top:p,width:n,height:s}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(e,p){for(let n of e)p.indexOf(n)===-1&&p.push(n)}removeElementFromCollection(e,p){let n=p.indexOf(e);n!==-1&&p.splice(n,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(e){this.maxIterations=m(e,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(e){this.initialRendering=e}createQuadTree(){this.quadTree=new b(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let e=this.options.initialPositions;if(j(e))for(let p of(e.call(this),this.nodes))H(p.prevX)||(p.prevX=p.plotX),H(p.prevY)||(p.prevY=p.plotY),p.dispX=0,p.dispY=0;else e==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let e,p=this.box,n=this.nodes,s=2*Math.PI/(n.length+1),t=n.filter(function(P){return P.linksTo.length===0}),a={},x=this.options.initialPositionRadius,L=P=>{for(let Y of P.linksFrom||[])a[Y.toNode.id]||(a[Y.toNode.id]=!0,B.push(Y.toNode),L(Y.toNode))},B=[];for(let P of t)B.push(P),L(P);if(B.length)for(let P of n)B.indexOf(P)===-1&&B.push(P);else B=n;for(let P=0,Y=B.length;P<Y;++P)(e=B[P]).plotX=e.prevX=m(e.plotX,p.width/2+x*Math.cos(P*s)),e.plotY=e.prevY=m(e.plotY,p.height/2+x*Math.sin(P*s)),e.dispX=0,e.dispY=0}setRandomPositions(){let e,p=this.box,n=this.nodes,s=n.length+1,t=a=>{let x=a*a/Math.PI;return x-Math.floor(x)};for(let a=0,x=n.length;a<x;++a)(e=n[a]).plotX=e.prevX=m(e.plotX,p.width*t(a)),e.plotY=e.prevY=m(e.plotY,p.height*t(s+a)),e.dispX=0,e.dispY=0}force(e,...p){this.integration[e].apply(this,p)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let e=0,p=0,n=0;for(let s of this.nodes)p+=s.plotX*s.mass,n+=s.plotY*s.mass,e+=s.mass;return this.barycenter={x:p,y:n,xFactor:p/e,yFactor:n/e},this.barycenter}barnesHutApproximation(e,p){let n,s,t=this.getDistXY(e,p),a=this.vectorLength(t);return e!==p&&a!==0&&(p.isInternal?p.boxSize/a<this.options.theta&&a!==0?(s=this.repulsiveForce(a,this.k),this.force("repulsive",e,s*p.mass,t,a),n=!1):n=!0:(s=this.repulsiveForce(a,this.k),this.force("repulsive",e,s*p.mass,t,a))),n}repulsiveForces(){if(this.approximation==="barnes-hut")for(let e of this.nodes)this.quadTree.visitNodeRecursive(null,p=>this.barnesHutApproximation(e,p));else{let e,p,n;for(let s of this.nodes)for(let t of this.nodes)s===t||s.fixedPosition||(n=this.getDistXY(s,t),(p=this.vectorLength(n))!==0&&(e=this.repulsiveForce(p,this.k),this.force("repulsive",s,e*t.mass,n,p)))}}attractiveForces(){let e,p,n;for(let s of this.links)s.fromNode&&s.toNode&&(e=this.getDistXY(s.fromNode,s.toNode),(p=this.vectorLength(e))!==0&&(n=this.attractiveForce(p,this.k),this.force("attractive",s,n,e,p)))}applyLimits(){for(let e of this.nodes){if(e.fixedPosition)return;this.integration.integrate(this,e),this.applyLimitBox(e,this.box),e.dispX=0,e.dispY=0}}applyLimitBox(e,p){let n=e.radius;e.plotX=I(e.plotX,p.left+n,p.width-n),e.plotY=I(e.plotY,p.top+n,p.height-n)}coolDown(e,p,n){return e-p*n}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let e=0;for(let p of this.nodes)e+=p.temperature;return e}vectorLength(e){return Math.sqrt(e.x*e.x+e.y*e.y)}getDistR(e,p){let n=this.getDistXY(e,p);return this.vectorLength(n)}getDistXY(e,p){let n=e.plotX-p.plotX,s=e.plotY-p.plotY;return{x:n,y:s,absX:Math.abs(n),absY:Math.abs(s)}}}return r}),ot(d,"Series/PackedBubble/PackedBubbleLayout.js",[d["Series/GraphLayoutComposition.js"],d["Series/PackedBubble/PackedBubbleIntegration.js"],d["Series/Networkgraph/ReingoldFruchtermanLayout.js"],d["Core/Utilities.js"]],function(h,u,S,b){let{addEvent:R,pick:N}=b;function k(){let j=this.series,M=[];return j.forEach(m=>{m.parentNode&&m.parentNode.selected&&M.push(m.parentNode)}),M}function I(){this.allDataPoints&&delete this.allDataPoints}class H extends S{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(M){S.compose(M),h.integrations.packedbubble=u,h.layouts.packedbubble=H;let m=M.prototype;m.getSelectedParentNodes||(R(M,"beforeRedraw",I),m.getSelectedParentNodes=k)}beforeStep(){this.options.marker&&this.series.forEach(M=>{M&&M.calculateParentRadius()})}isStable(){let M=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&M<1e-5||this.temperature<=0}setCircularPositions(){let M=this.box,m=this.nodes,r=2*Math.PI/(m.length+1),y=this.options.initialPositionRadius,e,p,n=0;for(let s of m)this.options.splitSeries&&!s.isParentNode?(e=s.series.parentNode.plotX,p=s.series.parentNode.plotY):(e=M.width/2,p=M.height/2),s.plotX=s.prevX=N(s.plotX,e+y*Math.cos(s.index||n*r)),s.plotY=s.prevY=N(s.plotY,p+y*Math.sin(s.index||n*r)),s.dispX=0,s.dispY=0,n++}repulsiveForces(){let M,m,r,y=this,e=y.options.bubblePadding;y.nodes.forEach(p=>{p.degree=p.mass,p.neighbours=0,y.nodes.forEach(n=>{M=0,p!==n&&!p.fixedPosition&&(y.options.seriesInteraction||p.series===n.series)&&(r=y.getDistXY(p,n),(m=y.vectorLength(r)-(p.marker.radius+n.marker.radius+e))<0&&(p.degree+=.01,p.neighbours++,M=y.repulsiveForce(-m/Math.sqrt(p.neighbours),y.k,p,n)),y.force("repulsive",p,M*n.mass,r,n,m))})})}applyLimitBox(M,m){let r,y;this.options.splitSeries&&!M.isParentNode&&this.options.parentNodeLimit&&(r=this.getDistXY(M,M.series.parentNode),(y=M.series.parentNodeRadius-M.marker.radius-this.vectorLength(r))<0&&y>-2*M.marker.radius&&(M.plotX-=.01*r.x,M.plotY-=.01*r.y)),super.applyLimitBox(M,m)}}return h.layouts.packedbubble=H,H}),ot(d,"Series/SimulationSeriesUtilities.js",[d["Core/Utilities.js"],d["Core/Animation/AnimationUtilities.js"]],function(h,u){let{merge:S,syncTimeout:b}=h,{animObject:R}=u;return{initDataLabels:function(){let N=this.options.dataLabels;if(!this.dataLabelsGroup){let k=this.initDataLabelsGroup();return!this.chart.styledMode&&(N!=null&&N.style)&&k.css(N.style),k.attr({opacity:0}),this.visible&&k.show(),k}return this.dataLabelsGroup.attr(S({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var k;let N=this.options.dataLabels;N!=null&&N.defer&&((k=this.options.layoutAlgorithm)!=null&&k.enableSimulation)?b(()=>{this.deferDataLabels=!1},N?R(N.animation).defer:0):this.deferDataLabels=!1}}}),ot(d,"Series/PackedBubble/PackedBubbleSeries.js",[d["Core/Color/Color.js"],d["Series/DragNodesComposition.js"],d["Series/GraphLayoutComposition.js"],d["Core/Globals.js"],d["Series/PackedBubble/PackedBubblePoint.js"],d["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],d["Series/PackedBubble/PackedBubbleLayout.js"],d["Core/Series/SeriesRegistry.js"],d["Series/SimulationSeriesUtilities.js"],d["Core/Utilities.js"]],function(h,u,S,b,R,N,k,I,H,j){let{parse:M}=h,{noop:m}=b,{series:{prototype:r},seriesTypes:{bubble:y}}=I,{initDataLabels:e,initDataLabelsDefer:p}=H,{addEvent:n,clamp:s,defined:t,extend:a,fireEvent:x,isArray:L,isNumber:B,merge:P,pick:Y}=j;class X extends y{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(i,o,f,g){y.compose(i,o,f,g),u.compose(o),k.compose(o)}accumulateAllPoints(){let i,o=this.chart,f=[];for(let g of o.series)if(g.is("packedbubble")&&g.reserveSpace()){i=g.yData||[];for(let w=0;w<i.length;w++)f.push([null,null,i[w],g.index,w,{id:w,marker:{radius:0}}])}return f}addLayout(){let i=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},o=i.type||"packedbubble",f=this.chart.options.chart,g=this.chart.graphLayoutsStorage,w=this.chart.graphLayoutsLookup,c;g||(this.chart.graphLayoutsStorage=g={},this.chart.graphLayoutsLookup=w=[]),(c=g[o])||(i.enableSimulation=t(f.forExport)?!f.forExport:i.enableSimulation,g[o]=c=new S.layouts[o],c.init(i),w.splice(c.index,0,c)),this.layout=c,this.points.forEach(T=>{T.mass=2,T.degree=1,T.collisionNmb=1}),c.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),c.addElementsToCollection([this],c.series),c.addElementsToCollection(this.points,c.nodes)}addSeriesLayout(){let i=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},o=i.type||"packedbubble",f=this.chart.graphLayoutsStorage,g=this.chart.graphLayoutsLookup,w=P(i,i.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),c=f[o+"-series"];c||(f[o+"-series"]=c=new S.layouts[o],c.init(w),g.splice(c.index,0,c)),this.parentNodeLayout=c,this.createParentNodes()}calculateParentRadius(){let i=this.seriesBox();this.parentNodeRadius=s(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,i?Math.max(Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let i=this.chart.series,o=this.options.zMin,f=this.options.zMax,g=1/0,w=-1/0;return o&&f?[o,f]:(i.forEach(c=>{c.yData.forEach(T=>{t(T)&&(T>w&&(w=T),T<g&&(g=T))})}),[o=Y(o,g),f=Y(f,w)])}checkOverlap(i,o){let f=i[0]-o[0],g=i[1]-o[1];return Math.sqrt(f*f+g*g)-Math.abs(i[2]+o[2])<-.001}createParentNodes(){let i=this.pointClass,o=this.chart,f=this.parentNodeLayout,g=this.layout.options,w,c=this.parentNode,T={radius:this.parentNodeRadius,lineColor:this.color,fillColor:M(this.color).brighten(.4).get()};g.parentNodeOptions&&(T=P(g.parentNodeOptions.marker||{},T)),this.parentNodeMass=0,this.points.forEach(Z=>{this.parentNodeMass+=Math.PI*Math.pow(Z.marker.radius,2)}),this.calculateParentRadius(),f.nodes.forEach(Z=>{Z.seriesIndex===this.index&&(w=!0)}),f.setArea(0,0,o.plotWidth,o.plotHeight),w||(c||(c=new i(this,{mass:this.parentNodeRadius/2,marker:T,dataLabels:{inside:!1},states:{normal:{marker:T},hover:{marker:T}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(c.plotX=this.parentNode.plotX,c.plotY=this.parentNode.plotY),this.parentNode=c,f.addElementsToCollection([this],f.series),f.addElementsToCollection([c],f.nodes))}deferLayout(){let i=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),i.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(i=>{i.removeElementFromCollection(this,i.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),r.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(r.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",r.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var w;if(!this.layout||!this.layout.options.splitSeries)return;let i=this.chart,o=this.layout.options.parentNodeOptions.marker,f={fill:o.fillColor||M(this.color).brighten(.4).get(),opacity:o.fillOpacity,stroke:o.lineColor||this.color,"stroke-width":Y(o.lineWidth,this.options.lineWidth)},g={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,i.seriesGroup),(w=this.group)==null||w.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&t(this.parentNode.plotX)&&t(this.parentNode.plotY)&&t(this.parentNodeRadius)&&(g=P({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},f),this.parentNode.graphic||(this.graph=this.parentNode.graphic=i.renderer.symbol(f.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(g))}drawTracker(){let i,o=this.parentNode;super.drawTracker(),o&&(i=L(o.dataLabels)?o.dataLabels:o.dataLabel?[o.dataLabel]:[],o.graphic&&(o.graphic.element.point=o),i.forEach(f=>{(f.div||f.element).point=o}))}getPointRadius(){let i,o,f,g,w=this.chart,c=w.plotWidth,T=w.plotHeight,Z=this.options,U=Z.useSimulation,tt=Math.min(c,T),J={},G=[],l=w.allDataPoints||[],A=l.length;["minSize","maxSize"].forEach(O=>{let z=parseInt(Z[O],10),_=/%$/.test(Z[O]);J[O]=_?tt*z/100:z*Math.sqrt(A)}),w.minRadius=i=J.minSize/Math.sqrt(A),w.maxRadius=o=J.maxSize/Math.sqrt(A);let V=U?this.calculateZExtremes():[i,o];l.forEach((O,z)=>{f=U?s(O[2],V[0],V[1]):O[2],(g=this.getRadius(V[0],V[1],i,o,f))===0&&(g=null),l[z][2]=g,G.push(g)}),this.radii=G}init(){return r.init.apply(this,arguments),p.call(this),this.eventsToUnbind.push(n(this,"updatedData",function(){this.chart.series.forEach(i=>{i.type===this.type&&(i.isDirty=!0)},this)})),this}onMouseUp(i){if(i.fixedPosition&&!i.removed){let o,f=this.layout,g=this.parentNodeLayout;g&&f.options.dragBetweenSeries&&g.nodes.forEach(w=>{i&&i.marker&&w!==i.series.parentNode&&(o=f.getDistXY(i,w),f.vectorLength(o)-w.marker.radius-i.marker.radius<0&&(w.series.addPoint(P(i.options,{plotX:i.plotX,plotY:i.plotY}),!1),f.removeElementFromCollection(i,f.nodes),i.remove()))}),u.onMouseUp.apply(this,arguments)}}placeBubbles(i){let o=this.checkOverlap,f=this.positionBubble,g=[],w=1,c=0,T=0,Z,U=[],tt,J=i.sort((G,l)=>l[2]-G[2]);if(J.length){if(g.push([[0,0,J[0][2],J[0][3],J[0][4]]]),J.length>1)for(g.push([[0,0-J[1][2]-J[0][2],J[1][2],J[1][3],J[1][4]]]),tt=2;tt<J.length;tt++)J[tt][2]=J[tt][2]||1,o(Z=f(g[w][c],g[w-1][T],J[tt]),g[w][0])?(g.push([]),T=0,g[w+1].push(f(g[w][c],g[w][0],J[tt])),w++,c=0):w>1&&g[w-1][T+1]&&o(Z,g[w-1][T+1])?(T++,g[w].push(f(g[w][c],g[w-1][T],J[tt])),c++):(c++,g[w].push(Z));this.chart.stages=g,this.chart.rawPositions=[].concat.apply([],g),this.resizeRadius(),U=this.chart.rawPositions}return U}pointAttribs(i,o){let f=this.options,g=i&&i.isParentNode,w=f.marker;g&&f.layoutAlgorithm&&f.layoutAlgorithm.parentNodeOptions&&(w=f.layoutAlgorithm.parentNodeOptions.marker);let c=w.fillOpacity,T=r.pointAttribs.call(this,i,o);return c!==1&&(T["fill-opacity"]=c),T}positionBubble(i,o,f){let g=Math.pow,w=(0,Math.sqrt)(g(i[0]-o[0],2)+g(i[1]-o[1],2)),c=(0,Math.acos)((g(w,2)+g(f[2]+o[2],2)-g(f[2]+i[2],2))/(2*(f[2]+o[2])*w)),T=(0,Math.asin)((0,Math.abs)(i[0]-o[0])/w),Z=(i[1]-o[1]<0?0:Math.PI)+c+T*((i[0]-o[0])*(i[1]-o[1])<0?1:-1);return[o[0]+(o[2]+f[2])*Math.sin(Z),o[1]-(o[2]+f[2])*Math.cos(Z),f[2],f[3],f[4]]}render(){let i=[];r.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach(o=>{L(o.dataLabels)&&o.dataLabels.forEach(f=>{i.push(f)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(i))}resizeRadius(){let i,o,f,g,w,c=this.chart,T=c.rawPositions,Z=Math.min,U=Math.max,tt=c.plotLeft,J=c.plotTop,G=c.plotHeight,l=c.plotWidth;for(let z of(i=f=Number.POSITIVE_INFINITY,o=g=Number.NEGATIVE_INFINITY,T))w=z[2],i=Z(i,z[0]-w),o=U(o,z[0]+w),f=Z(f,z[1]-w),g=U(g,z[1]+w);let A=[o-i,g-f],V=[(l-tt)/A[0],(G-J)/A[1]],O=Z.apply([],V);if(Math.abs(O-1)>1e-10){for(let z of T)z[2]*=O;this.placeBubbles(T)}else c.diffY=G/2+J-f-(g-f)/2,c.diffX=l/2+tt-i-(o-i)/2}seriesBox(){let i,o=this.chart,f=this.data,g=Math.max,w=Math.min,c=[o.plotLeft,o.plotLeft+o.plotWidth,o.plotTop,o.plotTop+o.plotHeight];return f.forEach(T=>{t(T.plotX)&&t(T.plotY)&&T.marker.radius&&(i=T.marker.radius,c[0]=w(c[0],T.plotX-i),c[1]=g(c[1],T.plotX+i),c[2]=w(c[2],T.plotY-i),c[3]=g(c[3],T.plotY+i))}),B(c.width/c.height)?c:null}setVisible(){let i=this;r.setVisible.apply(i,arguments),i.parentNodeLayout&&i.graph?i.visible?(i.graph.show(),i.parentNode.dataLabel&&i.parentNode.dataLabel.show()):(i.graph.hide(),i.parentNodeLayout.removeElementFromCollection(i.parentNode,i.parentNodeLayout.nodes),i.parentNode.dataLabel&&i.parentNode.dataLabel.hide()):i.layout&&(i.visible?i.layout.addElementsToCollection(i.points,i.layout.nodes):i.points.forEach(o=>{i.layout.removeElementFromCollection(o,i.layout.nodes)}))}translate(){let i,o,f,g=this.chart,w=this.data,c=this.index,T=this.options.useSimulation;for(let Z of(this.processedXData=this.xData,this.generatePoints(),t(g.allDataPoints)||(g.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),T?f=g.allDataPoints:(f=this.placeBubbles(g.allDataPoints),this.options.draggable=!1),f))Z[3]===c&&(i=w[Z[4]],o=Y(Z[2],void 0),T||(i.plotX=Z[0]-g.plotLeft+g.diffX,i.plotY=Z[1]-g.plotTop+g.diffY),B(o)&&(i.marker=a(i.marker,{radius:o,width:2*o,height:2*o}),i.radius=o));T&&this.deferLayout(),x(this,"afterTranslate")}}return X.defaultOptions=P(y.defaultOptions,N),a(X.prototype,{pointClass:R,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:e,alignDataLabel:r.alignDataLabel,indexateNodes:m,onMouseDown:u.onMouseDown,onMouseMove:u.onMouseMove,redrawHalo:u.redrawHalo,searchPoint:m}),I.registerSeriesType("packedbubble",X),X}),ot(d,"Series/Polygon/PolygonSeriesDefaults.js",[],function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}}),ot(d,"Series/Polygon/PolygonSeries.js",[d["Core/Globals.js"],d["Series/Polygon/PolygonSeriesDefaults.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(h,u,S,b){let{noop:R}=h,{area:N,line:k,scatter:I}=S.seriesTypes,{extend:H,merge:j}=b;class M extends I{getGraphPath(){let r=k.prototype.getGraphPath.call(this),y=r.length+1;for(;y--;)(y===r.length||r[y][0]==="M")&&y>0&&r.splice(y,0,["Z"]);return this.areaPath=r,r}drawGraph(){this.options.fillColor=this.color,N.prototype.drawGraph.call(this)}}return M.defaultOptions=j(I.defaultOptions,u),H(M.prototype,{type:"polygon",drawTracker:k.prototype.drawTracker,setStackedPoints:R}),S.registerSeriesType("polygon",M),M}),ot(d,"Core/Axis/RadialAxis.js",[d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(h,u,S){var b;let{defaultOptions:R}=h,{composed:N,noop:k}=u,{addEvent:I,correctFloat:H,defined:j,extend:M,fireEvent:m,isObject:r,merge:y,pick:e,pushUnique:p,relativeLength:n,wrap:s}=S;return function(t){let a={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},x={endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2},L={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};function B(){this.autoConnect=this.isCircular&&e(this.userMax,this.options.max)===void 0&&H(this.endAngleRad-this.startAngleRad)===H(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function P(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(v=>this.ticks[v]&&this.ticks[v].label).filter(v=>!!v)}}function Y(){return k}function X(v,D,E){let W=this.pane.center,q=v.value,F,K,$;return this.isCircular?(j(q)?v.point&&(v.point.shapeArgs||{}).start&&(q=this.chart.inverted?this.translate(v.point.rectPlotY,!0):v.point.x):(K=v.chartX||0,$=v.chartY||0,q=this.translate(Math.atan2($-E,K-D)-this.startAngleRad,!0)),K=(F=this.getPosition(q)).x,$=F.y):(j(q)||(K=v.chartX,$=v.chartY),j(K)&&j($)&&(E=W[1]+this.chart.plotTop,q=this.translate(Math.min(Math.sqrt(Math.pow(K-D,2)+Math.pow($-E,2)),W[2]/2)-W[3]/2,!0))),[q,K||0,$||0]}function C(v,D,E){let W=this.pane.center,q=this.chart,F=this.left||0,K=this.top||0,$,Q=e(D,W[2]/2-this.offset),it;return E===void 0&&(E=this.horiz?0:this.center&&-this.center[3]/2),E&&(Q+=E),this.isCircular||D!==void 0?((it=this.chart.renderer.symbols.arc(F+W[0],K+W[1],Q,Q,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[F+W[0]],it.yBounds=[K+W[1]-Q]):($=this.postTranslate(this.angleRad,Q),it=[["M",this.center[0]+q.plotLeft,this.center[1]+q.plotTop],["L",$.x,$.y]]),it}function i(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function o(v,D,E){let W=this.chart,q=gt=>{if(typeof gt=="string"){let bt=parseInt(gt,10);return ht.test(gt)&&(bt=bt*$/100),bt}return gt},F=this.center,K=this.startAngleRad,$=F[2]/2,Q=Math.min(this.offset,0),it=this.left||0,rt=this.top||0,ht=/%$/,at=this.isCircular,et,nt,lt,pt,mt,ct,ft=e(q(E.outerRadius),$),dt=q(E.innerRadius),ut=e(q(E.thickness),10);if(this.options.gridLineInterpolation==="polygon")ct=this.getPlotLinePath({value:v}).concat(this.getPlotLinePath({value:D,reverse:!0}));else{v=Math.max(v,this.min),D=Math.min(D,this.max);let gt=this.translate(v),bt=this.translate(D);at||(ft=gt||0,dt=bt||0),E.shape!=="circle"&&at?(et=K+(gt||0),nt=K+(bt||0)):(et=-Math.PI/2,nt=1.5*Math.PI,mt=!0),ft-=Q,ut-=Q,ct=W.renderer.symbols.arc(it+F[0],rt+F[1],ft,ft,{start:Math.min(et,nt),end:Math.max(et,nt),innerR:e(dt,ft-ut),open:mt}),at&&(lt=(nt+et)/2,pt=it+F[0]+F[2]/2*Math.cos(lt),ct.xBounds=lt>-Math.PI/2&&lt<Math.PI/2?[pt,W.plotWidth]:[0,pt],ct.yBounds=[rt+F[1]+F[2]/2*Math.sin(lt)],ct.yBounds[0]+=lt>-Math.PI&&lt<0||lt>Math.PI?-10:10)}return ct}function f(v){let D=this.pane.center,E=this.chart,W=E.inverted,q=v.reverse,F=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},K=F.innerRadius||"0%",$=F.outerRadius||"100%",Q=D[0]+E.plotLeft,it=D[1]+E.plotTop,rt=this.height,ht=v.isCrosshair,at=D[3]/2,et=v.value,nt,lt,pt,mt,ct,ft,dt,ut,gt,bt=this.getPosition(et),xt=bt.x,Pt=bt.y;if(ht&&(et=(ut=this.getCrosshairPosition(v,Q,it))[0],xt=ut[1],Pt=ut[2]),this.isCircular)lt=Math.sqrt(Math.pow(xt-Q,2)+Math.pow(Pt-it,2)),pt=typeof K=="string"?n(K,1):K/lt,mt=typeof $=="string"?n($,1):$/lt,D&&at&&(pt<(nt=at/lt)&&(pt=nt),mt<nt&&(mt=nt)),gt=[["M",Q+pt*(xt-Q),it-pt*(it-Pt)],["L",xt-(1-mt)*(xt-Q),Pt+(1-mt)*(it-Pt)]];else if((et=this.translate(et))&&(et<0||et>rt)&&(et=0),this.options.gridLineInterpolation==="circle")gt=this.getLinePath(0,et,at);else if(gt=[],E[W?"yAxis":"xAxis"].forEach(St=>{St.pane===this.pane&&(ct=St)}),ct){dt=ct.tickPositions,ct.autoConnect&&(dt=dt.concat([dt[0]])),q&&(dt=dt.slice().reverse()),et&&(et+=at);for(let St=0;St<dt.length;St++)ft=ct.getPosition(dt[St],et),gt.push(St?["L",ft.x,ft.y]:["M",ft.x,ft.y])}return gt}function g(v,D){let E=this.translate(v);return this.postTranslate(this.isCircular?E:this.angleRad,e(this.isCircular?D:E<0?0:E,this.center[2]/2)-this.offset)}function w(){let v=this.center,D=this.chart,E=this.options.title;return{x:D.plotLeft+v[0]+(E.x||0),y:D.plotTop+v[1]-{high:.5,middle:.25,low:0}[E.align]*v[2]+(E.y||0)}}function c(v){v.beforeSetTickPositions=B,v.createLabelCollector=P,v.getCrosshairPosition=X,v.getLinePath=C,v.getOffset=i,v.getPlotBandPath=o,v.getPlotLinePath=f,v.getPosition=g,v.getTitlePosition=w,v.postTranslate=A,v.setAxisSize=O,v.setAxisTranslation=z,v.setOptions=_}function T(){let v=this.chart,D=this.options,E=v.angular&&this.isXAxis,W=this.pane,q=W&&W.options;if(!E&&W&&(v.angular||v.polar)){let F=2*Math.PI,K=(e(q.startAngle,0)-90)*Math.PI/180,$=(e(q.endAngle,e(q.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(D.angle||0)*Math.PI/180,this.startAngleRad=K,this.endAngleRad=$,this.offset=D.offset||0;let Q=(K%F+F)%F,it=($%F+F)%F;Q>Math.PI&&(Q-=F),it>Math.PI&&(it-=F),this.normalizedStartAngleRad=Q,this.normalizedEndAngleRad=it}}function Z(v){this.isRadial&&(v.align=void 0,v.preventDefault())}function U(){if(this.chart&&this.chart.labelCollectors){let v=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;v>=0&&this.chart.labelCollectors.splice(v,1)}}function tt(v){let D,E=this.chart,W=E.angular,q=E.polar,F=this.isXAxis,K=this.coll,$=v.userOptions.pane||0,Q=this.pane=E.pane&&E.pane[$];if(K==="colorAxis"){this.isRadial=!1;return}W?(W&&F?(this.isHidden=!0,this.createLabelCollector=Y,this.getOffset=k,this.redraw=V,this.render=V,this.setScale=k,this.setCategories=k,this.setTitle=k):c(this),D=!F):q&&(c(this),D=this.horiz),W||q?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&E.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Q&&D&&(Q.axis=this),this.isCircular=D}function J(){this.isRadial&&this.beforeSetTickPositions()}function G(v){let D=this.label;if(!D)return;let E=this.axis,W=D.getBBox(),q=E.options.labels,F=(E.translate(this.pos)+E.startAngleRad+Math.PI/2)/Math.PI*180%360,K=Math.round(F),$=j(q.y)?0:-(.3*W.height),Q=q.y,it,rt=20,ht=q.align,at="end",et=K<0?K+360:K,nt=et,lt=0,pt=0;E.isRadial&&(it=E.getPosition(this.pos,E.center[2]/2+n(e(q.distance,-25),E.center[2]/2,-E.center[2]/2)),q.rotation==="auto"?D.attr({rotation:F}):j(Q)||(Q=E.chart.renderer.fontMetrics(D).b-W.height/2),j(ht)||(E.isCircular?(W.width>E.len*E.tickInterval/(E.max-E.min)&&(rt=0),ht=F>rt&&F<180-rt?"left":F>180+rt&&F<360-rt?"right":"center"):ht="center",D.attr({align:ht})),ht==="auto"&&E.tickPositions.length===2&&E.isCircular&&(et>90&&et<180?et=180-et:et>270&&et<=360&&(et=540-et),nt>180&&nt<=360&&(nt=360-nt),(E.pane.options.startAngle===K||E.pane.options.startAngle===K+360||E.pane.options.startAngle===K-360)&&(at="start"),ht=K>=-90&&K<=90||K>=-360&&K<=-270||K>=270&&K<=360?at==="start"?"right":"left":at==="start"?"left":"right",nt>70&&nt<110&&(ht="center"),et<15||et>=180&&et<195?lt=.3*W.height:et>=15&&et<=35?lt=at==="start"?0:.75*W.height:et>=195&&et<=215?lt=at==="start"?.75*W.height:0:et>35&&et<=90?lt=at==="start"?-(.25*W.height):W.height:et>215&&et<=270&&(lt=at==="start"?W.height:-(.25*W.height)),nt<15?pt=at==="start"?-(.15*W.height):.15*W.height:nt>165&&nt<=180&&(pt=at==="start"?.15*W.height:-(.15*W.height)),D.attr({align:ht}),D.translate(pt,lt+$)),v.pos.x=it.x+(q.x||0),v.pos.y=it.y+(Q||0))}function l(v){this.axis.getPosition&&M(v.pos,this.axis.getPosition(this.pos))}function A(v,D){let E=this.chart,W=this.center;return v=this.startAngleRad+v,{x:E.plotLeft+W[0]+Math.cos(v)*D,y:E.plotTop+W[1]+Math.sin(v)*D}}function V(){this.isDirty=!1}function O(){let v,D;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),v=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(D=this.postTranslate(this.angleRad,v[3]/2),v[0]=D.x-this.chart.plotLeft,v[1]=D.y-this.chart.plotTop),this.len=this.width=this.height=(v[2]-v[3])*e(this.sector,1)/2)}function z(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function _(v){let{coll:D}=this,{angular:E,inverted:W,polar:q}=this.chart,F={};E?this.isXAxis||(F=y(R.yAxis,x)):q&&(F=this.horiz?y(R.xAxis,a):y(D==="xAxis"?R.xAxis:R.yAxis,L)),W&&D==="yAxis"&&(F.stackLabels=r(R.yAxis,!0)?R.yAxis.stackLabels:{},F.reversedStacks=!0);let K=this.options=y(F,v);K.plotBands||(K.plotBands=[]),m(this,"afterSetOptions")}function st(v,D,E,W,q,F,K){let $,Q=this.axis;return Q.isRadial?["M",D,E,"L",($=Q.getPosition(this.pos,Q.center[2]/2+W)).x,$.y]:v.call(this,D,E,W,q,F,K)}t.compose=function(v,D){return p(N,"Axis.Radial")&&(I(v,"afterInit",T),I(v,"autoLabelAlign",Z),I(v,"destroy",U),I(v,"init",tt),I(v,"initialAxisTranslation",J),I(D,"afterGetLabelPosition",G),I(D,"afterGetPosition",l),s(D.prototype,"getMarkPath",st)),v}}(b||(b={})),b}),ot(d,"Series/PolarComposition.js",[d["Core/Animation/AnimationUtilities.js"],d["Core/Globals.js"],d["Core/Series/Series.js"],d["Extensions/Pane/Pane.js"],d["Core/Axis/RadialAxis.js"],d["Core/Utilities.js"]],function(h,u,S,b,R,N){let{animObject:k}=h,{composed:I}=u,{addEvent:H,defined:j,find:M,isNumber:m,merge:r,pick:y,pushUnique:e,relativeLength:p,splat:n,uniqueKey:s,wrap:t}=N;function a(){(this.pane||[]).forEach(G=>{G.render()})}function x(G){let l=G.args[0].xAxis,A=G.args[0].yAxis,V=G.args[0].chart;l&&A&&(A.gridLineInterpolation==="polygon"?(l.startOnTick=!0,l.endOnTick=!0):l.gridLineInterpolation==="polygon"&&V.inverted&&(A.startOnTick=!0,A.endOnTick=!0))}function L(){this.pane||(this.pane=[]),this.options.pane=n(this.options.pane),this.options.pane.forEach(G=>{new b(G,this)},this)}function B(G){let l=G.args.marker,A=this.chart.xAxis[0],V=this.chart.yAxis[0],O=this.chart.inverted,z=O?V:A,_=O?A:V;if(this.chart.polar){G.preventDefault();let st=(l.attr?l.attr("start"):l.start)-z.startAngleRad,v=l.attr?l.attr("r"):l.r,D=(l.attr?l.attr("end"):l.end)-z.startAngleRad,E=l.attr?l.attr("innerR"):l.innerR;G.result.x=st+z.pos,G.result.width=D-st,G.result.y=_.len+_.pos-v,G.result.height=v-E}}function P(G){let l=this.chart;if(l.polar&&l.hoverPane&&l.hoverPane.axis){G.preventDefault();let A=l.hoverPane.center,V=l.mouseDownX||0,O=l.mouseDownY||0,z=G.args.chartY,_=G.args.chartX,st=2*Math.PI,v=l.hoverPane.axis.startAngleRad,D=l.hoverPane.axis.endAngleRad,E=l.inverted?l.xAxis[0]:l.yAxis[0],W={},q="arc";if(W.x=A[0]+l.plotLeft,W.y=A[1]+l.plotTop,this.zoomHor){let F=v>0?D-v:Math.abs(v)+Math.abs(D),K=Math.atan2(O-l.plotTop-A[1],V-l.plotLeft-A[0])-v,$=Math.atan2(z-l.plotTop-A[1],_-l.plotLeft-A[0])-v;W.r=A[2]/2,W.innerR=A[3]/2,K<=0&&(K+=st),$<=0&&($+=st),$<K&&($=[K,K=$][0]),F<st&&v+$>D+(st-F)/2&&($=K,K=v<=0?v:0);let Q=W.start=Math.max(K+v,v),it=W.end=Math.min($+v,D);if(E.options.gridLineInterpolation==="polygon"){let rt=l.hoverPane.axis,ht=Q-rt.startAngleRad+rt.pos,at=E.getPlotLinePath({value:E.max}),et=rt.toValue(ht),nt=rt.toValue(ht+(it-Q));if(et<rt.getExtremes().min){let{min:lt,max:pt}=rt.getExtremes();et=pt-(lt-et)}if(nt<rt.getExtremes().min){let{min:lt,max:pt}=rt.getExtremes();nt=pt-(lt-nt)}nt<et&&(nt=[et,et=nt][0]),(at=i(at,et,nt,rt)).push(["L",A[0]+l.plotLeft,l.plotTop+A[1]]),W.d=at,q="path"}}if(this.zoomVert){let F=l.inverted?l.xAxis[0]:l.yAxis[0],K=Math.sqrt(Math.pow(V-l.plotLeft-A[0],2)+Math.pow(O-l.plotTop-A[1],2)),$=Math.sqrt(Math.pow(_-l.plotLeft-A[0],2)+Math.pow(z-l.plotTop-A[1],2));if($<K&&(K=[$,$=K][0]),$>A[2]/2&&($=A[2]/2),K<A[3]/2&&(K=A[3]/2),this.zoomHor||(W.start=v,W.end=D),W.r=$,W.innerR=K,F.options.gridLineInterpolation==="polygon"){let Q=F.toValue(F.len+F.pos-K),it=F.toValue(F.len+F.pos-$),rt=F.getPlotLinePath({value:it}).concat(F.getPlotLinePath({value:Q,reverse:!0}));W.d=rt,q="path"}}if(this.zoomHor&&this.zoomVert&&E.options.gridLineInterpolation==="polygon"){let F=l.hoverPane.axis,K=W.start||0,$=W.end||0,Q=K-F.startAngleRad+F.pos,it=F.toValue(Q),rt=F.toValue(Q+($-K));if(W.d instanceof Array){let ht=W.d.slice(0,W.d.length/2),at=W.d.slice(W.d.length/2,W.d.length);at=[...at].reverse();let et=l.hoverPane.axis;ht=i(ht,it,rt,et),(at=i(at,it,rt,et))&&(at[0][0]="L"),at=[...at].reverse(),W.d=ht.concat(at),q="path"}}G.attrs=W,G.shapeType=q}}function Y(){let G=this.chart;G.polar&&(this.polar=new J(this),G.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function X(){if(this.chart.polar&&this.xAxis){let{xAxis:G,yAxis:l}=this,A=this.chart;this.kdByAngle=A.tooltip&&A.tooltip.shared,this.kdByAngle||A.inverted?this.searchPoint=C:this.options.findNearestPointBy="xy";let V=this.points,O=V.length;for(;O--;)this.is("column")||this.is("columnrange")||this.polar.toXY(V[O]),A.hasParallelCoordinates||this.yAxis.reversed||(y(V[O].y,Number.MIN_VALUE)<l.min||V[O].x<G.min||V[O].x>G.max?(V[O].isNull=!0,V[O].plotY=NaN):V[O].isNull=V[O].isValid&&!V[O].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(H(this,"afterRender",function(){let z;A.polar&&this.options.clip!==!1&&(z=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:z[0],y:z[1],r:z[2]/2,innerR:z[3]/2}):this.clipCircle=function(_,st,v,D,E){let W=s(),q=_.createElement("clipPath").attr({id:W}).add(_.defs),F=E?_.arc(st,v,D,E,0,2*Math.PI).add(q):_.circle(st,v,D).add(q);return F.id=W,F.clipPath=q,F}(A.renderer,z[0],z[1],z[2]/2,z[3]/2),this.group.clip(this.clipCircle),this.setClip=u.noop)})))}}function C(G){let l=this.chart,A=this.xAxis,V=this.yAxis,O=A.pane&&A.pane.center,z=G.chartX-(O&&O[0]||0)-l.plotLeft,_=G.chartY-(O&&O[1]||0)-l.plotTop,st=l.inverted?{clientX:G.chartX-V.pos,plotY:G.chartY-A.pos}:{clientX:180+-180/Math.PI*Math.atan2(z,_)};return this.searchKDTree(st)}function i(G,l,A,V){let O=V.tickInterval,z=V.tickPositions,_=M(z,v=>v>=A),st=M([...z].reverse(),v=>v<=l);return j(_)||(_=z[z.length-1]),j(st)||(st=z[0],_+=O,G[0][0]="L",G.unshift(G[G.length-3])),(G=G.slice(z.indexOf(st),z.indexOf(_)+1))[0][0]="M",G}function o(G,l){return M(this.pane||[],A=>A.options.id===l)||G.call(this,l)}function f(G,l,A,V,O,z){let _,st,v,D=this.chart,E=y(V.inside,!!this.options.stacking);if(D.polar){if(_=l.rectPlotX/Math.PI*180,D.inverted)this.forceDL=D.isInsidePlot(l.plotX,l.plotY),E&&l.shapeArgs?(st=l.shapeArgs,O=r(O,{x:(v=this.yAxis.postTranslate(((st.start||0)+(st.end||0))/2-this.xAxis.startAngleRad,l.barX+l.pointWidth/2)).x-D.plotLeft,y:v.y-D.plotTop})):l.tooltipPos&&(O=r(O,{x:l.tooltipPos[0],y:l.tooltipPos[1]})),V.align=y(V.align,"center"),V.verticalAlign=y(V.verticalAlign,"middle");else{var W;let q,F;(W=V).align===null&&(q=_>20&&_<160?"left":_>200&&_<340?"right":"center",W.align=q),W.verticalAlign===null&&(F=_<45||_>315?"bottom":_>135&&_<225?"top":"middle",W.verticalAlign=F),V=W}S.prototype.alignDataLabel.call(this,l,A,V,O,z),this.isRadialBar&&l.shapeArgs&&l.shapeArgs.start===l.shapeArgs.end?A.hide():A.show()}else G.call(this,l,A,V,O,z)}function g(){let G=this.options,l=G.stacking,A=this.chart,V=this.xAxis,O=this.yAxis,z=O.reversed,_=O.center,st=V.startAngleRad,v=V.endAngleRad-st,D=G.threshold,E=0,W,q,F,K,$,Q=0,it=0,rt,ht,at,et,nt,lt,pt,mt;if(V.isRadial)for(F=(W=this.points).length,K=O.translate(O.min),$=O.translate(O.max),D=G.threshold||0,A.inverted&&m(D)&&j(E=O.translate(D))&&(E<0?E=0:E>v&&(E=v),this.translatedThreshold=E+st);F--;){if(lt=(q=W[F]).barX,ht=q.x,at=q.y,q.shapeType="arc",A.inverted){q.plotY=O.translate(at),l&&O.stacking?(nt=O.stacking.stacks[(at<0?"-":"")+this.stackKey],this.visible&&nt&&nt[ht]&&!q.isNull&&(et=nt[ht].points[this.getStackIndicator(void 0,ht,this.index).key],Q=O.translate(et[0]),it=O.translate(et[1]),j(Q)&&(Q=N.clamp(Q,0,v)))):(Q=E,it=q.plotY),Q>it&&(it=[Q,Q=it][0]),z?it>K?it=K:Q<$?Q=$:(Q>K||it<$)&&(Q=it=v):Q<K?Q=K:it>$?it=$:(it<K||Q>$)&&(Q=it=0),O.min>O.max&&(Q=it=z?v:0),Q+=st,it+=st,_&&(q.barX=lt+=_[3]/2),pt=Math.max(lt,0),mt=Math.max(lt+q.pointWidth,0);let ct=G.borderRadius,ft=p((typeof ct=="object"?ct.radius:ct)||0,mt-pt);q.shapeArgs={x:_[0],y:_[1],r:mt,innerR:pt,start:Q,end:it,borderRadius:ft},q.opacity=Q===it?0:void 0,q.plotY=(j(this.translatedThreshold)&&(Q<this.translatedThreshold?Q:it))-st}else Q=lt+st,q.shapeArgs=this.polar.arc(q.yBottom,q.plotY,Q,Q+q.pointWidth),q.shapeArgs.borderRadius=0;this.polar.toXY(q),A.inverted?(rt=O.postTranslate(q.rectPlotY,lt+q.pointWidth/2),q.tooltipPos=[rt.x-A.plotLeft,rt.y-A.plotTop]):q.tooltipPos=[q.plotX,q.plotY],_&&(q.ttBelow=q.plotY>_[1])}}function w(G,l){let A,V,O=this;if(this.chart.polar){l=l||this.points;for(let _=0;_<l.length;_++)if(!l[_].isNull){A=_;break}this.options.connectEnds!==!1&&A!==void 0&&(this.connectEnds=!0,l.splice(l.length,0,l[A]),V=!0),l.forEach(_=>{_.polarPlotY===void 0&&O.polar.toXY(_)})}let z=G.apply(this,[].slice.call(arguments,1));return V&&l.pop(),z}function c(G,l){let A=this.chart,V={xAxis:[],yAxis:[]};return A.polar?A.axes.forEach(O=>{if(O.coll==="colorAxis")return;let z=O.isXAxis,_=O.center,st=l.chartX-_[0]-A.plotLeft,v=l.chartY-_[1]-A.plotTop;V[z?"xAxis":"yAxis"].push({axis:O,value:O.translate(z?Math.PI-Math.atan2(st,v):Math.sqrt(Math.pow(st,2)+Math.pow(v,2)),!0)})}):V=G.call(this,l),V}function T(G,l){this.chart.polar||G.call(this,l)}function Z(G,l){let A=this,V=this.chart,O=this.group,z=this.markerGroup,_=this.xAxis&&this.xAxis.center,st=V.plotLeft,v=V.plotTop,D=this.options.animation,E,W,q,F,K,$;V.polar?A.isRadialBar?l||(A.startAngleRad=y(A.translatedThreshold,A.xAxis.startAngleRad),u.seriesTypes.pie.prototype.animate.call(A,l)):(D=k(D),A.is("column")?l||(W=_[3]/2,A.points.forEach(Q=>{q=Q.graphic,K=(F=Q.shapeArgs)&&F.r,$=F&&F.innerR,q&&F&&(q.attr({r:W,innerR:W}),q.animate({r:K,innerR:$},A.options.animation))})):l?(E={translateX:_[0]+st,translateY:_[1]+v,scaleX:.001,scaleY:.001},O.attr(E),z&&z.attr(E)):(E={translateX:st,translateY:v,scaleX:1,scaleY:1},O.animate(E,D),z&&z.animate(E,D))):G.call(this,l)}function U(G,l,A,V){let O,z;if(this.chart.polar)if(V){let _=(z=function v(D,E,W,q){let F,K,$,Q,it,rt,ht=q?1:0,at=(F=E>=0&&E<=D.length-1?E:E<0?D.length-1+E:0)-1<0?D.length-(1+ht):F-1,et=F+1>D.length-1?ht:F+1,nt=D[at],lt=D[et],pt=nt.plotX,mt=nt.plotY,ct=lt.plotX,ft=lt.plotY,dt=D[F].plotX,ut=D[F].plotY;K=(1.5*dt+pt)/2.5,$=(1.5*ut+mt)/2.5,Q=(1.5*dt+ct)/2.5,it=(1.5*ut+ft)/2.5;let gt=Math.sqrt(Math.pow(K-dt,2)+Math.pow($-ut,2)),bt=Math.sqrt(Math.pow(Q-dt,2)+Math.pow(it-ut,2)),xt=Math.atan2($-ut,K-dt);rt=Math.PI/2+(xt+Math.atan2(it-ut,Q-dt))/2,Math.abs(xt-rt)>Math.PI/2&&(rt-=Math.PI),K=dt+Math.cos(rt)*gt,$=ut+Math.sin(rt)*gt;let Pt={rightContX:Q=dt+Math.cos(Math.PI+rt)*bt,rightContY:it=ut+Math.sin(Math.PI+rt)*bt,leftContX:K,leftContY:$,plotX:dt,plotY:ut};return W&&(Pt.prevPointCont=v(D,at,!1,q)),Pt}(l,V,!0,this.connectEnds)).prevPointCont&&z.prevPointCont.rightContX,st=z.prevPointCont&&z.prevPointCont.rightContY;O=["C",m(_)?_:z.plotX,m(st)?st:z.plotY,m(z.leftContX)?z.leftContX:z.plotX,m(z.leftContY)?z.leftContY:z.plotY,z.plotX,z.plotY]}else O=["M",A.plotX,A.plotY];else O=G.call(this,l,A,V);return O}function tt(G,l,A=this.plotY){if(!this.destroyed){let{plotX:V,series:O}=this,{chart:z}=O;return z.polar&&m(V)&&m(A)?[V+(l?z.plotLeft:0),A+(l?z.plotTop:0)]:G.call(this,l,A)}}class J{static compose(l,A,V,O,z,_,st,v,D,E){if(b.compose(A,V),R.compose(l,z),e(I,"Polar")){let W=A.prototype,q=_.prototype,F=V.prototype,K=O.prototype;if(H(A,"afterDrawChartBox",a),H(A,"getAxes",L),H(A,"init",x),t(W,"get",o),t(F,"getCoordinates",c),t(F,"pinch",T),H(V,"getSelectionMarkerAttrs",P),H(V,"getSelectionBox",B),H(O,"afterInit",Y),H(O,"afterTranslate",X,{order:2}),H(O,"afterColumnTranslate",g,{order:4}),t(K,"animate",Z),t(q,"pos",tt),v){let $=v.prototype;t($,"alignDataLabel",f),t($,"animate",Z)}if(D&&t(D.prototype,"getGraphPath",w),E){let $=E.prototype;t($,"getPointSpline",U),st&&(st.prototype.getPointSpline=$.getPointSpline)}}}constructor(l){this.series=l}arc(l,A,V,O){let z=this.series,_=z.xAxis.center,st=z.yAxis.len,v=_[3]/2,D=st-A+v,E=st-y(l,st)+v;return z.yAxis.reversed&&(D<0&&(D=v),E<0&&(E=v)),{x:_[0],y:_[1],r:D,innerR:E,start:V,end:O}}toXY(l){let A=this.series,V=A.chart,O=A.xAxis,z=A.yAxis,_=l.plotX,st=V.inverted,v=l.y,D=l.plotY,E=st?_:z.len-D,W;if(st&&A&&!A.isRadialBar&&(l.plotY=D=m(v)?z.translate(v):0),l.rectPlotX=_,l.rectPlotY=D,z.center&&(E+=z.center[3]/2),m(D)){let q=st?z.postTranslate(D,E):O.postTranslate(_,E);l.plotX=l.polarPlotX=q.x-V.plotLeft,l.plotY=l.polarPlotY=q.y-V.plotTop}A.kdByAngle?((W=(_/Math.PI*180+O.pane.options.startAngle)%360)<0&&(W+=360),l.clientX=W):l.clientX=l.plotX}}return J}),ot(d,"Core/Axis/WaterfallAxis.js",[d["Core/Globals.js"],d["Core/Axis/Stacking/StackItem.js"],d["Core/Utilities.js"]],function(h,u,S){var b;let{composed:R}=h,{addEvent:N,objectEach:k,pushUnique:I}=S;return function(H){function j(){let e=this.waterfall.stacks;e&&(e.changed=!1,delete e.alreadyChanged)}function M(){let e=this.options.stackLabels;e&&e.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function m(){this.waterfall||(this.waterfall=new y(this))}function r(){let e=this.axes;for(let p of this.series)if(p.options.stacking){for(let n of e)n.isXAxis||(n.waterfall.stacks.changed=!0);break}}H.compose=function(e,p){I(R,"Axis.Waterfall")&&(N(e,"init",m),N(e,"afterBuildStacks",j),N(e,"afterRender",M),N(p,"beforeRedraw",r))};class y{constructor(p){this.axis=p,this.stacks={changed:!1}}renderStackTotals(){let p=this.axis,n=p.waterfall.stacks,s=p.stacking&&p.stacking.stackTotalGroup,t=new u(p,p.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=t,s&&k(n,a=>{k(a,(x,L)=>{t.total=x.stackTotal,t.x=+L,x.label&&(t.label=x.label),u.prototype.render.call(t,s),x.label=t.label,delete t.label})}),t.total=null}}H.Composition=y}(b||(b={})),b}),ot(d,"Series/Waterfall/WaterfallPoint.js",[d["Series/Column/ColumnSeries.js"],d["Core/Series/Point.js"],d["Core/Utilities.js"]],function(h,u,S){let{isNumber:b}=S;class R extends h.prototype.pointClass{getClassName(){let k=u.prototype.getClassName.call(this);return this.isSum?k+=" highcharts-sum":this.isIntermediateSum&&(k+=" highcharts-intermediate-sum"),k}isValid(){return b(this.y)||this.isSum||!!this.isIntermediateSum}}return R}),ot(d,"Series/Waterfall/WaterfallSeriesDefaults.js",[],function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}}),ot(d,"Series/Waterfall/WaterfallSeries.js",[d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"],d["Core/Axis/WaterfallAxis.js"],d["Series/Waterfall/WaterfallPoint.js"],d["Series/Waterfall/WaterfallSeriesDefaults.js"]],function(h,u,S,b,R){let{column:N,line:k}=h.seriesTypes,{addEvent:I,arrayMax:H,arrayMin:j,correctFloat:M,extend:m,isNumber:r,merge:y,objectEach:e,pick:p}=u;function n(t,a){return Object.hasOwnProperty.call(t,a)}class s extends N{generatePoints(){N.prototype.generatePoints.apply(this);for(let a=0,x=this.points.length;a<x;a++){let L=this.points[a],B=this.processedYData[a];r(B)&&(L.isIntermediateSum||L.isSum)&&(L.y=M(B))}}processData(a){let x,L,B,P,Y,X,C=this.options,i=this.yData,o=C.data,f=i.length,g=C.threshold||0;B=L=P=Y=0;for(let w=0;w<f;w++)X=i[w],x=o&&o[w]?o[w]:{},X==="sum"||x.isSum?i[w]=M(B):X==="intermediateSum"||x.isIntermediateSum?(i[w]=M(L),L=0):(B+=X,L+=X),P=Math.min(B,P),Y=Math.max(B,Y);super.processData.call(this,a),C.stacking||(this.dataMin=P+g,this.dataMax=Y)}toYData(a){return a.isSum?"sum":a.isIntermediateSum?"intermediateSum":a.y}updateParallelArrays(a,x){super.updateParallelArrays.call(this,a,x),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(a,x){let L=this.options.upColor;L&&!a.options.color&&r(a.y)&&(a.color=a.y>0?L:void 0);let B=N.prototype.pointAttribs.call(this,a,x);return delete B.dashstyle,B}getGraphPath(){return[["M",0,0]]}getCrispPath(){let a=this.data.filter(o=>r(o.y)),x=this.yAxis,L=a.length,B=Math.round(this.graph.strokeWidth())%2/2,P=Math.round(this.borderWidth)%2/2,Y=this.xAxis.reversed,X=this.yAxis.reversed,C=this.options.stacking,i=[];for(let o=1;o<L;o++){if(!(this.options.connectNulls||r(this.data[a[o].index-1].y)))continue;let f=a[o].box,g=a[o-1],w=g.y||0,c=a[o-1].box;if(!f||!c)continue;let T=x.waterfall.stacks[this.stackKey],Z=w>0?-c.height:0;if(T&&c&&f){let U,tt=T[o-1];if(C){let J=tt.connectorThreshold;U=Math.round(x.translate(J,!1,!0,!1,!0)+(X?Z:0))-B}else U=c.y+g.minPointLengthOffset+P-B;i.push(["M",(c.x||0)+(Y?0:c.width||0),U],["L",(f.x||0)+(Y&&f.width||0),U])}if(c&&i.length&&(!C&&w<0&&!X||w>0&&X)){let U=i[i.length-2];U&&typeof U[2]=="number"&&(U[2]+=c.height||0);let tt=i[i.length-1];tt&&typeof tt[2]=="number"&&(tt[2]+=c.height||0)}}return i}drawGraph(){k.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(a){var V;let x=this.options,L=(V=a.waterfall)==null?void 0:V.stacks,B=x.threshold||0,P=this.stackKey,Y=this.xData,X=Y.length,C=B,i=C,o,f=0,g=0,w=0,c,T,Z,U,tt,J,G,l,A=(O,z,_,st)=>{if(o){if(c)for(;_<c;_++)o.stackState[_]+=st;else o.stackState[0]=O,c=o.stackState.length;o.stackState.push(o.stackState[c-1]+z)}};if(a.stacking&&L&&this.reserveSpace()){l=L.changed,(G=L.alreadyChanged)&&0>G.indexOf(P)&&(l=!0),L[P]||(L[P]={});let O=L[P];if(O)for(let z=0;z<X;z++)(!O[J=Y[z]]||l)&&(O[J]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:l&&O[J]?O[J].label:void 0}),o=O[J],(tt=this.yData[z])>=0?o.posTotal+=tt:o.negTotal+=tt,U=x.data[z],T=o.absolutePos=o.posTotal,Z=o.absoluteNeg=o.negTotal,o.stackTotal=T+Z,c=o.stackState.length,U&&U.isIntermediateSum?(A(w,g,0,w),w=g,g=B,C^=i,i^=C,C^=i):U&&U.isSum?(A(B,f,c,0),C=B):(A(C,tt,0,f),U&&(f+=tt,g+=tt)),o.stateIndex++,o.threshold=C,C+=o.stackTotal;L.changed=!1,L.alreadyChanged||(L.alreadyChanged=[]),L.alreadyChanged.push(P)}}getExtremes(){let a,x,L,B=this.options.stacking;return B?(a=this.yAxis.waterfall.stacks,x=this.stackedYNeg=[],L=this.stackedYPos=[],B==="overlap"?e(a[this.stackKey],function(P){x.push(j(P.stackState)),L.push(H(P.stackState))}):e(a[this.stackKey],function(P){x.push(P.negTotal+P.threshold),L.push(P.posTotal+P.threshold)}),{dataMin:j(x),dataMax:H(L)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return s.defaultOptions=y(N.defaultOptions,R),s.compose=S.compose,m(s.prototype,{pointValKey:"y",showLine:!0,pointClass:b}),I(s,"afterColumnTranslate",function(){let{options:t,points:a,yAxis:x}=this,L=p(t.minPointLength,5),B=L/2,P=t.threshold||0,Y=t.stacking,X=x.waterfall.stacks[this.stackKey],C=P,i=P,o,f,g,w;for(let c=0;c<a.length;c++){let T=a[c],Z=this.processedYData[c],U=m({x:0,y:0,width:0,height:0},T.shapeArgs||{});T.box=U;let tt=[0,Z],J=T.y||0;if(Y){if(X){let l=X[c];Y==="overlap"?(f=l.stackState[l.stateIndex--],o=J>=0?f:f-J,n(l,"absolutePos")&&delete l.absolutePos,n(l,"absoluteNeg")&&delete l.absoluteNeg):(J>=0?(f=l.threshold+l.posTotal,l.posTotal-=J,o=f):(f=l.threshold+l.negTotal,l.negTotal-=J,o=f-J),!l.posTotal&&r(l.absolutePos)&&n(l,"absolutePos")&&(l.posTotal=l.absolutePos,delete l.absolutePos),!l.negTotal&&r(l.absoluteNeg)&&n(l,"absoluteNeg")&&(l.negTotal=l.absoluteNeg,delete l.absoluteNeg)),T.isSum||(l.connectorThreshold=l.threshold+l.stackTotal),x.reversed?(g=J>=0?o-J:o+J,w=o):(g=o,w=o-J),T.below=g<=P,U.y=x.translate(g,!1,!0,!1,!0),U.height=Math.abs(U.y-x.translate(w,!1,!0,!1,!0));let A=x.waterfall.dummyStackItem;A&&(A.x=c,A.label=X[c].label,A.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[c],this.stackedYPos[c],void 0,this.xAxis))}}else o=Math.max(i,i+J)+tt[0],U.y=x.translate(o,!1,!0,!1,!0),T.isSum?(U.y=x.translate(tt[1],!1,!0,!1,!0),U.height=Math.min(x.translate(tt[0],!1,!0,!1,!0),x.len)-U.y,T.below=tt[1]<=P):T.isIntermediateSum?(J>=0?(g=tt[1]+C,w=C):(g=C,w=tt[1]+C),x.reversed&&(g^=w,w^=g,g^=w),U.y=x.translate(g,!1,!0,!1,!0),U.height=Math.abs(U.y-Math.min(x.translate(w,!1,!0,!1,!0),x.len)),C+=tt[1],T.below=g<=P):(U.height=Z>0?x.translate(i,!1,!0,!1,!0)-U.y:x.translate(i,!1,!0,!1,!0)-x.translate(i-Z,!1,!0,!1,!0),i+=Z,T.below=i<P),U.height<0&&(U.y+=U.height,U.height*=-1);T.plotY=U.y=Math.round(U.y||0)-this.borderWidth%2/2,U.height=Math.max(Math.round(U.height||0),.001),T.yBottom=U.y+U.height,U.height<=L&&!T.isNull?(U.height=L,U.y-=B,T.plotY=U.y,J<0?T.minPointLengthOffset=-B:T.minPointLengthOffset=B):(T.isNull&&(U.width=0),T.minPointLengthOffset=0);let G=T.plotY+(T.negative?U.height:0);T.below&&(T.plotY+=U.height),T.tooltipPos&&(this.chart.inverted?T.tooltipPos[0]=x.len-G:T.tooltipPos[1]=G),T.isInside=this.isPointInside(T),y(!0,T.shapeArgs,U)}},{order:2}),h.registerSeriesType("waterfall",s),s}),ot(d,"masters/highcharts-more.src.js",[d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Extensions/Pane/Pane.js"],d["Series/Bubble/BubbleSeries.js"],d["Series/PackedBubble/PackedBubbleSeries.js"],d["Series/PolarComposition.js"],d["Series/Waterfall/WaterfallSeries.js"]],function(h,u,S,b,R,N,k){return b.compose(h.Axis,h.Chart,h.Legend,h.Series),R.compose(h.Axis,h.Chart,h.Legend,h.Series),S.compose(h.Chart,h.Pointer),N.compose(h.Axis,h.Chart,h.Pointer,h.Series,h.Tick,h.Point,u.seriesTypes.areasplinerange,u.seriesTypes.column,u.seriesTypes.line,u.seriesTypes.spline),k.compose(h.Axis,h.Chart),h})})})(vt);var Lt=vt.exports;const wt=kt(Lt),Nt=Ct({__proto__:null,default:wt},[Lt]);export{Nt as h};
