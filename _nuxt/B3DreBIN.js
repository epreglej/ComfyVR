import{u as p,z as m,c as u,a,A as _,B as g,s as t,q as v,v as h,x as b,b as f,o as N}from"./Cs6lFwEV.js";import{t as y,o as x,s as E,u as S,a as z,E as T}from"./BlI_CoL-.js";const w={class:"page right responsive active"},B={class:"horizontal-margin"},A=a("div",{class:"space"},null,-1),F={class:"round"},M={class:"horizontal-margin"},V=a("p",{class:"top-margin center-align"},[a("h6",{class:"center-align"},"Form")],-1),k={class:"top-margin large-margin"},q=a("label",null,"Application's name",-1),C=a("div",{class:"top-margin large-margin center-align"},[a("button",{type:"submit"},"Delete")],-1),U={__name:"delete",setup(D){const n=p(),l=y(x({applicationName:E().min(1)})),{handleSubmit:c,errors:d}=S({validationSchema:l}),{value:i}=z("applicationName"),o=c(async r=>{try{const{data:e,error:s}=await n.from("applications").delete().eq("applicationName",r.applicationName);s?console.error("Error during delete:",s):(alert("Application deleted!"),await m("/"))}catch(e){console.error("Error:",e)}});return(r,e)=>(N(),u("div",w,[a("div",B,[A,a("article",F,[a("div",M,[a("form",{class:"vertical",onSubmit:e[1]||(e[1]=_((...s)=>t(o)&&t(o)(...s),["prevent"]))},[V,a("div",k,[a("div",{class:g(["field label border round no-margin",{invalid:t(d).applicationName}])},[v(a("input",{type:"text","aria-invalid":"true","aria-describedby":"addressError","onUpdate:modelValue":e[0]||(e[0]=s=>b(i)?i.value=s:null)},null,512),[[h,t(i)]]),q,f(t(T),{class:"horizontal-margin error-text",name:"applicationName"})],2)]),C],32)])])])]))}};export{U as default};
