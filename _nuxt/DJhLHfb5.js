import{a4 as me}from"./D8xAV16h.js";function ge(te,_){for(var C=0;C<_.length;C++){const N=_[C];if(typeof N!="string"&&!Array.isArray(N)){for(const L in N)if(L!=="default"&&!(L in te)){const D=Object.getOwnPropertyDescriptor(N,L);D&&Object.defineProperty(te,L,D.get?D:{enumerable:!0,get:()=>N[L]})}}}return Object.freeze(Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}))}var pe={exports:{}};(function(te){(function(_){te.exports?(_.default=_,te.exports=_):_(typeof Highcharts<"u"?Highcharts:void 0)})(function(_){var C=_?_._modules:{};function N(L,D,I,T){L.hasOwnProperty(D)||(L[D]=T.apply(null,I),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:D,module:L[D]}})))}N(C,"Core/Axis/Color/ColorAxisComposition.js",[C["Core/Color/Color.js"],C["Core/Utilities.js"]],function(L,D){var I;let{parse:T}=L,{addEvent:S,extend:B,merge:A,pick:w,splat:z}=D;return function(k){let E;function j(){let{userOptions:o}=this;this.colorAxis=[],o.colorAxis&&(o.colorAxis=z(o.colorAxis),o.colorAxis.map(e=>new E(this,e)))}function l(o){let e=this.chart.colorAxis||[],u=t=>{let s=o.allItems.indexOf(t);s!==-1&&(this.destroyItem(o.allItems[s]),o.allItems.splice(s,1))},m=[],M,d;for(e.forEach(function(t){(M=t.options)&&M.showInLegend&&(M.dataClasses&&M.visible?m=m.concat(t.getDataClassLegendSymbols()):M.visible&&m.push(t),t.series.forEach(function(s){(!s.options.showInLegend||M.dataClasses)&&(s.options.legendType==="point"?s.points.forEach(function(c){u(c)}):u(s))}))}),d=m.length;d--;)o.allItems.unshift(m[d])}function r(o){o.visible&&o.item.legendColor&&o.item.legendItem.symbol.attr({fill:o.item.legendColor})}function f(o){var e;(e=this.chart.colorAxis)==null||e.forEach(u=>{u.update({},o.redraw)})}function P(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function v(){let o=this.axisTypes;o?o.indexOf("colorAxis")===-1&&o.push("colorAxis"):this.axisTypes=["colorAxis"]}function h(o){let e=this,u=o?"show":"hide";e.visible=e.options.visible=!!o,["graphic","dataLabel"].forEach(function(m){e[m]&&e[m][u]()}),this.series.buildKDTree()}function i(){let o=this,e=this.data.length?this.data:this.points,u=this.options.nullColor,m=this.colorAxis,M=this.colorKey;e.forEach(d=>{let t=d.getNestedProperty(M),s=d.options.color||(d.isNull||d.value===null?u:m&&t!==void 0?m.toColor(t,d):d.color||o.color);s&&d.color!==s&&(d.color=s,o.options.legendType==="point"&&d.legendItem&&d.legendItem.label&&o.chart.legend.colorizeItem(d,d.visible))})}function y(){this.elem.attr("fill",T(this.start).tweenTo(T(this.end),this.pos),void 0,!0)}function p(){this.elem.attr("stroke",T(this.start).tweenTo(T(this.end),this.pos),void 0,!0)}k.compose=function(o,e,u,m,M){let d=e.prototype,t=u.prototype,s=M.prototype;d.collectionsWithUpdate.includes("colorAxis")||(E=o,d.collectionsWithUpdate.push("colorAxis"),d.collectionsWithInit.colorAxis=[d.addColorAxis],S(e,"afterGetAxes",j),function(c){let a=c.prototype.createAxis;c.prototype.createAxis=function(n,g){if(n!=="colorAxis")return a.apply(this,arguments);let b=new E(this,A(g.axis,{index:this[n].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(x=>{x.series=[]}),this.series.forEach(x=>{x.bindAxes(),x.isDirtyData=!0}),w(g.redraw,!0)&&this.redraw(g.animation),b}}(e),t.fillSetter=y,t.strokeSetter=p,S(m,"afterGetAllItems",l),S(m,"afterColorizeItem",r),S(m,"afterUpdate",f),B(s,{optionalAxis:"colorAxis",translateColors:i}),B(s.pointClass.prototype,{setVisible:h}),S(M,"afterTranslate",P,{order:1}),S(M,"bindAxes",v))},k.pointSetVisible=h}(I||(I={})),I}),N(C,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}}),N(C,"Core/Axis/Color/ColorAxisLike.js",[C["Core/Color/Color.js"],C["Core/Utilities.js"]],function(L,D){var I,T;let{parse:S}=L,{merge:B}=D;return(T=I||(I={})).initDataClasses=function(A){let w=this.chart,z=this.legendItem=this.legendItem||{},k=this.options,E=A.dataClasses||[],j,l,r=w.options.chart.colorCount,f=0,P;this.dataClasses=l=[],z.labels=[];for(let v=0,h=E.length;v<h;++v)j=B(j=E[v]),l.push(j),(w.styledMode||!j.color)&&(k.dataClassColor==="category"?(w.styledMode||(r=(P=w.options.colors||[]).length,j.color=P[f]),j.colorIndex=f,++f===r&&(f=0)):j.color=S(k.minColor).tweenTo(S(k.maxColor),h<2?.5:v/(h-1)))},T.initStops=function(){let A=this.options,w=this.stops=A.stops||[[0,A.minColor||""],[1,A.maxColor||""]];for(let z=0,k=w.length;z<k;++z)w[z].color=S(w[z][1])},T.normalizedValue=function(A){let w=this.max||0,z=this.min||0;return this.logarithmic&&(A=this.logarithmic.log2lin(A)),1-(w-A)/(w-z||1)},T.toColor=function(A,w){let z,k,E,j,l,r,f=this.dataClasses,P=this.stops;if(f){for(r=f.length;r--;)if(k=(l=f[r]).from,E=l.to,(k===void 0||A>=k)&&(E===void 0||A<=E)){j=l.color,w&&(w.dataClass=r,w.colorIndex=l.colorIndex);break}}else{for(z=this.normalizedValue(A),r=P.length;r--&&!(z>P[r][0]););k=P[r]||P[r+1],z=1-((E=P[r+1]||k)[0]-z)/(E[0]-k[0]||1),j=k.color.tweenTo(E.color,z)}return j},I}),N(C,"Core/Axis/Color/ColorAxis.js",[C["Core/Axis/Axis.js"],C["Core/Axis/Color/ColorAxisComposition.js"],C["Core/Axis/Color/ColorAxisDefaults.js"],C["Core/Axis/Color/ColorAxisLike.js"],C["Core/Defaults.js"],C["Core/Legend/LegendSymbol.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D,I,T,S,B,A,w){let{defaultOptions:z}=S,{series:k}=A,{defined:E,extend:j,fireEvent:l,isArray:r,isNumber:f,merge:P,pick:v,relativeLength:h}=w;z.colorAxis=P(z.xAxis,I);class i extends L{static compose(p,o,e,u){D.compose(i,p,o,e,u)}constructor(p,o){super(p,o),this.coll="colorAxis",this.visible=!0,this.init(p,o)}init(p,o){let e=p.options.legend||{},u=o.layout?o.layout!=="vertical":e.layout!=="vertical";this.side=o.side||u?2:1,this.reversed=o.reversed||!u,this.opposite=!u,super.init(p,o,"colorAxis"),this.userOptions=o,r(p.userOptions.colorAxis)&&(p.userOptions.colorAxis[this.index]=o),o.dataClasses&&this.initDataClasses(o),this.initStops(),this.horiz=u,this.zoomEnabled=!1}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}setOptions(p){let o=P(z.colorAxis,p,{showEmpty:!1,title:null,visible:this.chart.options.legend.enabled&&p.visible!==!1});super.setOptions(o),this.options.crosshair=this.options.marker}setAxisSize(){var m;let p=this.chart,o=(m=this.legendItem)==null?void 0:m.symbol,{width:e,height:u}=this.getSize();o&&(this.left=+o.attr("x"),this.top=+o.attr("y"),this.width=e=+o.attr("width"),this.height=u=+o.attr("height"),this.right=p.chartWidth-this.left-e,this.bottom=p.chartHeight-this.top-u,this.pos=this.horiz?this.left:this.top),this.len=(this.horiz?e:u)||i.defaultLegendLength}getOffset(){var e;let p=(e=this.legendItem)==null?void 0:e.group,o=this.chart.axisOffset[this.side];if(p){this.axisParent=p,super.getOffset();let u=this.chart.legend;u.allItems.forEach(function(m){m instanceof i&&m.drawLegendSymbol(u,m)}),u.render(),this.chart.getMargins(!0),this.chart.series.some(m=>m.isDrilling)||(this.isDirty=!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=o}}setLegendColor(){let p=this.horiz,o=this.reversed,e=o?1:0,u=o?0:1,m=p?[e,0,u,0]:[0,u,0,e];this.legendColor={linearGradient:{x1:m[0],y1:m[1],x2:m[2],y2:m[3]},stops:this.stops}}drawLegendSymbol(p,o){let e=o.legendItem||{},u=p.padding,m=p.options,M=this.options.labels,d=v(m.itemDistance,10),t=this.horiz,{width:s,height:c}=this.getSize(),a=v(m.labelPadding,t?16:30);this.setLegendColor(),e.symbol||(e.symbol=this.chart.renderer.symbol("roundedRect").attr({r:m.symbolRadius??3,zIndex:1}).add(e.group)),e.symbol.attr({x:0,y:(p.baseline||0)-11,width:s,height:c}),e.labelWidth=s+u+(t?d:v(M.x,M.distance)+(this.maxLabelLength||0)),e.labelHeight=c+u+(t?a:0)}setState(p){this.series.forEach(function(o){o.setState(p)})}setVisible(){}getSeriesExtremes(){let p=this.series,o,e,u,m,M,d,t=p.length,s,c;for(this.dataMin=1/0,this.dataMax=-1/0;t--;){if(e=(d=p[t]).colorKey=v(d.options.colorKey,d.colorKey,d.pointValKey,d.zoneAxis,"y"),m=d.pointArrayMap,M=d[e+"Min"]&&d[e+"Max"],d[e+"Data"])o=d[e+"Data"];else if(m){if(o=[],u=m.indexOf(e),s=d.yData,u>=0&&s)for(c=0;c<s.length;c++)o.push(v(s[c][u],s[c]))}else o=d.yData;if(M)d.minColorValue=d[e+"Min"],d.maxColorValue=d[e+"Max"];else{let a=k.prototype.getExtremes.call(d,o);d.minColorValue=a.dataMin,d.maxColorValue=a.dataMax}E(d.minColorValue)&&E(d.maxColorValue)&&(this.dataMin=Math.min(this.dataMin,d.minColorValue),this.dataMax=Math.max(this.dataMax,d.maxColorValue)),M||k.prototype.applyExtremes.call(d)}}drawCrosshair(p,o){let e,u=this.legendItem||{},m=o&&o.plotX,M=o&&o.plotY,d=this.pos,t=this.len;o&&((e=this.toPixels(o.getNestedProperty(o.series.colorKey)))<d?e=d-2:e>d+t&&(e=d+t+2),o.plotX=e,o.plotY=this.len-e,super.drawCrosshair(p,o),o.plotX=m,o.plotY=M,this.cross&&!this.cross.addedToColorAxis&&u.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(u.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||typeof this.crosshair!="object"||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(p){let o=this.left,e=p.translatedValue,u=this.top;return f(e)?this.horiz?[["M",e-4,u-6],["L",e+4,u-6],["L",e,u],["Z"]]:[["M",o,e],["L",o-6,e+6],["L",o-6,e-6],["Z"]]:super.getPlotLinePath(p)}update(p,o){let e=this.chart.legend;this.series.forEach(u=>{u.isDirtyData=!0}),(p.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems(),super.update(p,o),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),e.colorizeItem(this,!0))}destroyItems(){let p=this.chart,o=this.legendItem||{};if(o.label)p.legend.destroyItem(this);else if(o.labels)for(let e of o.labels)p.legend.destroyItem(e);p.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0,this.destroyItems(),super.destroy(...[].slice.call(arguments))}remove(p){this.destroyItems(),super.remove(p)}getDataClassLegendSymbols(){let p,o=this,e=o.chart,u=o.legendItem&&o.legendItem.labels||[],m=e.options.legend,M=v(m.valueDecimals,-1),d=v(m.valueSuffix,""),t=s=>o.series.reduce((c,a)=>(c.push(...a.points.filter(n=>n.dataClass===s)),c),[]);return u.length||o.dataClasses.forEach((s,c)=>{let a=s.from,n=s.to,{numberFormatter:g}=e,b=!0;p="",a===void 0?p="< ":n===void 0&&(p="> "),a!==void 0&&(p+=g(a,M)+d),a!==void 0&&n!==void 0&&(p+=" - "),n!==void 0&&(p+=g(n,M)+d),u.push(j({chart:e,name:p,options:{},drawLegendSymbol:B.rectangle,visible:!0,isDataClass:!0,setState:x=>{for(let O of t(c))O.setState(x)},setVisible:function(){this.visible=b=o.visible=!b;let x=[];for(let O of t(c))O.setVisible(b),O.hiddenInDataClass=!b,x.indexOf(O.series)===-1&&x.push(O.series);e.legend.colorizeItem(this,b),x.forEach(O=>{l(O,"afterDataClassLegendClick")})}},s))}),u}getSize(){let{chart:p,horiz:o}=this,{legend:e,height:u,width:m}=this.options;return{width:v(E(m)?h(m,p.chartWidth):void 0,e==null?void 0:e.symbolWidth,o?i.defaultLegendLength:12),height:v(E(u)?h(u,p.chartHeight):void 0,e==null?void 0:e.symbolHeight,o?12:i.defaultLegendLength)}}}return i.defaultLegendLength=200,i.keepProps=["legendItem"],j(i.prototype,T),Array.prototype.push.apply(L.keepProps,i.keepProps),i}),N(C,"masters/modules/coloraxis.src.js",[C["Core/Globals.js"],C["Core/Axis/Color/ColorAxis.js"]],function(L,D){return L.ColorAxis=L.ColorAxis||D,L.ColorAxis.compose(L.Chart,L.Fx,L.Legend,L.Series),L}),N(C,"Maps/MapNavigationDefaults.js",[],function(){return{lang:{zoomIn:"Zoom in",zoomOut:"Zoom out"},mapNavigation:{buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}}),N(C,"Maps/MapPointer.js",[C["Core/Utilities.js"]],function(L){var D;let{defined:I,extend:T,pick:S,wrap:B}=L;return function(A){let w,z=0;function k(r){let f=this.chart;r=this.normalize(r),f.options.mapNavigation.enableDoubleClickZoomTo?f.pointer.inClass(r.target,"highcharts-tracker")&&f.hoverPoint&&f.hoverPoint.zoomTo():f.isInsidePlot(r.chartX-f.plotLeft,r.chartY-f.plotTop)&&f.mapZoom(.5,void 0,void 0,r.chartX,r.chartY)}function E(r){let f=this.chart,P=I((r=this.normalize(r)).wheelDelta)&&-r.wheelDelta/120||r.deltaY||r.detail;Math.abs(P)>=1&&(z+=Math.abs(P),w&&clearTimeout(w),w=setTimeout(()=>{z=0},50)),z<10&&f.isInsidePlot(r.chartX-f.plotLeft,r.chartY-f.plotTop)&&f.mapView&&f.mapView.zoomBy(-((f.options.mapNavigation.mouseWheelSensitivity-1)*P),void 0,[r.chartX,r.chartY],!(1>Math.abs(P))&&void 0)}function j(r,f,P){let v=this.chart;if(f=r.call(this,f,P),v&&v.mapView){let h=v.mapView.pixelsToLonLat({x:f.chartX-v.plotLeft,y:f.chartY-v.plotTop});h&&T(f,h)}return f}function l(r){let f=this.chart.options.mapNavigation;f&&S(f.enableTouchZoom,f.enabled)&&(this.chart.zooming.pinchType="xy"),r.apply(this,[].slice.call(arguments,1))}A.compose=function(r){let f=r.prototype;f.onContainerDblClick||(T(f,{onContainerDblClick:k,onContainerMouseWheel:E}),B(f,"normalize",j),B(f,"zoomOption",l))}}(D||(D={})),D}),N(C,"Maps/MapSymbols.js",[],function(){let L;function D(T,S,B,A,w){if(w){let z=(w==null?void 0:w.r)||0;w.brBoxY=S-z,w.brBoxHeight=A+z}return L.roundedRect(T,S,B,A,w)}function I(T,S,B,A,w){if(w){let z=(w==null?void 0:w.r)||0;w.brBoxHeight=A+z}return L.roundedRect(T,S,B,A,w)}return{compose:function(T){(L=T.prototype.symbols).bottombutton=D,L.topbutton=I}}}),N(C,"Maps/MapNavigation.js",[C["Core/Defaults.js"],C["Core/Globals.js"],C["Maps/MapNavigationDefaults.js"],C["Maps/MapPointer.js"],C["Maps/MapSymbols.js"],C["Core/Utilities.js"]],function(L,D,I,T,S,B){let{setOptions:A}=L,{composed:w}=D,{addEvent:z,extend:k,merge:E,objectEach:j,pick:l,pushUnique:r}=B;function f(v){v&&(v.preventDefault&&v.preventDefault(),v.stopPropagation&&v.stopPropagation(),v.cancelBubble=!0)}class P{static compose(h,i,y){T.compose(i),S.compose(y),r(w,"Map.Navigation")&&(z(h,"beforeRender",function(){this.mapNavigation=new P(this),this.mapNavigation.update()}),A(I))}constructor(h){this.chart=h,this.navButtons=[]}update(h){let i=this,y=i.chart,p=i.navButtons,o=function(m){this.handler.call(y,m),f(m)},e=y.options.mapNavigation,u;for(h&&(e=y.options.mapNavigation=E(y.options.mapNavigation,h));p.length;)p.pop().destroy();if(!y.renderer.forExport&&l(e.enableButtons,e.enabled)){i.navButtonsGroup||(i.navButtonsGroup=y.renderer.g().attr({zIndex:7}).add()),j(e.buttons,(M,d)=>{var g;M=E(e.buttonOptions,M),!y.styledMode&&M.theme&&((u=M.theme).style=E(M.theme.style,M.style));let{text:t,width:s=0,height:c=0,padding:a=0}=M,n=y.renderer.button(t!=="+"&&t!=="-"&&t||"",0,0,o,u,void 0,void 0,void 0,d==="zoomIn"?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[d]).attr({width:s,height:c,title:y.options.lang[d],padding:M.padding,zIndex:5}).add(i.navButtonsGroup);if(t==="+"||t==="-"){let b=s+1,x=[["M",a+3,a+c/2],["L",a+b-3,a+c/2]];t==="+"&&x.push(["M",a+b/2,a+3],["L",a+b/2,a+c-3]),y.renderer.path(x).addClass("highcharts-button-symbol").attr(y.styledMode?{}:{stroke:(g=M.style)==null?void 0:g.color,"stroke-width":3,"stroke-linecap":"round"}).add(n)}if(n.handler=M.onclick,z(n.element,"dblclick",f),p.push(n),k(M,{width:n.width,height:2*(n.height||0)}),y.hasLoaded)n.align(M,!1,M.alignTo);else{let b=z(y,"load",()=>{n.element&&n.align(M,!1,M.alignTo),b()})}});let m=(M,d)=>!(d.x>=M.x+M.width||d.x+d.width<=M.x||d.y>=M.y+M.height||d.y+d.height<=M.y);y.hasLoaded||z(y,"render",function(){let M=y.exportingGroup&&y.exportingGroup.getBBox();if(M){let d=i.navButtonsGroup.getBBox();if(m(M,d)){let t=-d.y-d.height+M.y-5,s=M.y+M.height-d.y+5,c=e.buttonOptions&&e.buttonOptions.verticalAlign;i.navButtonsGroup.attr({translateY:c==="bottom"?t:s})}}})}this.updateEvents(e)}updateEvents(h){let i=this.chart;l(h.enableDoubleClickZoom,h.enabled)||h.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||z(i.container,"dblclick",function(y){i.pointer.onContainerDblClick(y)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),l(h.enableMouseWheelZoom,h.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||z(i.container,"wheel",function(y){return i.pointer.inClass(y.target,"highcharts-no-mousewheel")||(i.pointer.onContainerMouseWheel(y),f(y)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())}}return P}),N(C,"Series/ColorMapComposition.js",[C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D){var I;let{column:{prototype:T}}=L.seriesTypes,{addEvent:S,defined:B}=D;return function(A){function w(z){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:z&&z.state==="hover"?1:0})}A.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return this.value!==null&&this.value!==1/0&&this.value!==-1/0&&(this.value===void 0||!isNaN(this.value))}},A.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(z){let k={};return B(z.color)&&(!z.state||z.state==="normal")&&(k[this.colorProp||"fill"]=z.color),k},pointAttribs:T.pointAttribs},A.compose=function(z){return S(z.prototype.pointClass,"afterSetState",w),z}}(I||(I={})),I}),N(C,"Core/Chart/MapChart.js",[C["Core/Chart/Chart.js"],C["Core/Defaults.js"],C["Core/Renderer/SVG/SVGRenderer.js"],C["Core/Utilities.js"]],function(L,D,I,T){var S;let{getOptions:B}=D,{isNumber:A,merge:w,pick:z}=T;class k extends L{init(j,l){let r=B().credits,f=w({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:z(r.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:z(r.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},j);super.init(f,l)}mapZoom(j,l,r,f,P){this.mapView&&(A(j)&&(j=Math.log(j)/Math.log(.5)),this.mapView.zoomBy(j,A(l)&&A(r)?this.mapView.projection.inverse([l,r]):void 0,A(f)&&A(P)?[f,P]:void 0))}update(j){var l;j.chart&&"map"in j.chart&&((l=this.mapView)==null||l.recommendMapView(this,[j.chart.map,...(this.options.series||[]).map(r=>r.mapData)],!0)),super.update.apply(this,arguments)}}return(S=k||(k={})).maps={},S.mapChart=function(E,j,l){return new S(E,j,l)},S.splitPath=function(E){let j;return j=typeof E=="string"?(E=E.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(l=>/[A-Za-z]/.test(l)?l:parseFloat(l)):E,I.prototype.pathToSegments(j)},k}),N(C,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(L){let D=-Number.MAX_VALUE,I=Number.MAX_VALUE,T=-Number.MAX_VALUE,S=Number.MAX_VALUE,B;if(L.forEach(A=>{let w=A[A.length-2],z=A[A.length-1];typeof w=="number"&&typeof z=="number"&&(I=Math.min(I,w),D=Math.max(D,w),S=Math.min(S,z),T=Math.max(T,z),B=!0)}),B)return{x1:I,y1:S,x2:D,y2:T}},pointInPolygon:function({x:L,y:D},I){let T,S,B=!1;for(T=0,S=I.length-1;T<I.length;S=T++)I[T][1]>D!=I[S][1]>D&&L<(I[S][0]-I[T][0])*(D-I[T][1])/(I[S][1]-I[T][1])+I[T][0]&&(B=!B);return B}}}),N(C,"Series/Map/MapPoint.js",[C["Series/ColorMapComposition.js"],C["Maps/MapUtilities.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D,I,T){let{boundsFromPath:S}=D,B=I.seriesTypes.scatter.prototype.pointClass,{extend:A,isNumber:w,pick:z}=T;class k extends B{static getProjectedPath(j,l){return j.projectedPath||(l&&j.geometry?(l.hasCoordinates=!0,j.projectedPath=l.path(j.geometry)):j.projectedPath=j.path),j.projectedPath||[]}applyOptions(j,l){let r=this.series,f=super.applyOptions(j,l),P=r.joinBy;if(r.mapData&&r.mapMap){let v=P[1],h=super.getNestedProperty(v),i=h!==void 0&&r.mapMap[h];i?A(f,{...i,name:f.name??i.name}):r.pointArrayMap.indexOf("value")!==-1&&(f.value=f.value||null)}return f}getProjectedBounds(j){let l=S(k.getProjectedPath(this,j)),r=this.properties,f=this.series.chart.mapView;if(l){let P=r&&r["hc-middle-lon"],v=r&&r["hc-middle-lat"];if(f&&w(P)&&w(v)){let h=j.forward([P,v]);l.midX=h[0],l.midY=h[1]}else{let h=r&&r["hc-middle-x"],i=r&&r["hc-middle-y"];l.midX=l.x1+(l.x2-l.x1)*z(this.middleX,w(h)?h:.5);let y=z(this.middleY,w(i)?i:.5);this.geometry||(y=1-y),l.midY=l.y2-(l.y2-l.y1)*y}return l}}onMouseOver(j){T.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?super.onMouseOver.call(this,j):this.series.onMouseOut()}setVisible(j){this.visible=this.options.visible=!!j,this.dataLabel&&this.dataLabel[j?"show":"hide"](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(j){let l=this.series.chart,r=l.mapView,f=this.bounds;if(r&&f){let P=w(this.insetIndex)&&r.insets[this.insetIndex];if(P){let v=P.projectedUnitsToPixels({x:f.x1,y:f.y1}),h=P.projectedUnitsToPixels({x:f.x2,y:f.y2}),i=r.pixelsToProjectedUnits({x:v.x,y:v.y}),y=r.pixelsToProjectedUnits({x:h.x,y:h.y});f={x1:i.x,y1:i.y,x2:y.x,y2:y.y}}r.fitToBounds(f,void 0,!1),this.series.isDirty=!0,l.redraw(j)}}}return A(k.prototype,{dataLabelOnNull:L.pointMembers.dataLabelOnNull,moveToTopOnHover:L.pointMembers.moveToTopOnHover,isValid:L.pointMembers.isValid}),k}),N(C,"Series/Map/MapSeriesDefaults.js",[C["Core/Utilities.js"]],function(L){let{isNumber:D}=L;return{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){let{numberFormatter:I}=this.series.chart,{value:T}=this.point;return D(T)?I(T,-1):this.point.name},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}}),N(C,"Maps/MapViewDefaults.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0,insetOptions:{borderColor:"#cccccc",borderWidth:1,padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}}),N(C,"Maps/GeoJSONComposition.js",[C["Core/Globals.js"],C["Core/Templating.js"],C["Core/Utilities.js"]],function(L,D,I){var T;let{win:S}=L,{format:B}=D,{error:A,extend:w,merge:z,wrap:k}=I;return function(E){function j(h){return this.mapView&&this.mapView.lonLatToProjectedUnits(h)}function l(h){return this.mapView&&this.mapView.projectedUnitsToLonLat(h)}function r(h,i){let y=this.options.chart.proj4||S.proj4;if(!y){A(21,!1,this);return}let{jsonmarginX:p=0,jsonmarginY:o=0,jsonres:e=1,scale:u=1,xoffset:m=0,xpan:M=0,yoffset:d=0,ypan:t=0}=i,s=y(i.crs,[h.lon,h.lat]),c=i.cosAngle||i.rotation&&Math.cos(i.rotation),a=i.sinAngle||i.rotation&&Math.sin(i.rotation),n=i.rotation?[s[0]*c+s[1]*a,-s[0]*a+s[1]*c]:s;return{x:((n[0]-m)*u+M)*e+p,y:-(((d-n[1])*u+t)*e-o)}}function f(h,i){let y=this.options.chart.proj4||S.proj4;if(!y){A(21,!1,this);return}if(h.y===null)return;let{jsonmarginX:p=0,jsonmarginY:o=0,jsonres:e=1,scale:u=1,xoffset:m=0,xpan:M=0,yoffset:d=0,ypan:t=0}=i,s={x:((h.x-p)/e-M)/u+m,y:((h.y-o)/e+t)/u+d},c=i.cosAngle||i.rotation&&Math.cos(i.rotation),a=i.sinAngle||i.rotation&&Math.sin(i.rotation),n=y(i.crs,"WGS84",i.rotation?{x:s.x*c+-(s.y*a),y:s.x*a+s.y*c}:s);return{lat:n.y,lon:n.x}}function P(h,i){i||(i=Object.keys(h.objects)[0]);let y=h.objects[i];if(y["hc-decoded-geojson"]&&y["hc-decoded-geojson"].title===h.title)return y["hc-decoded-geojson"];let p=h.arcs;if(h.transform){let M,d,t,s=h.arcs,{scale:c,translate:a}=h.transform;p=[];for(let n=0,g=s.length;n<g;++n){let b=s[n];p.push(M=[]),d=0,t=0;for(let x=0,O=b.length;x<O;++x)M.push([(d+=b[x][0])*c[0]+a[0],(t+=b[x][1])*c[1]+a[1]])}}let o=M=>typeof M[0]=="number"?M.reduce((d,t,s)=>{let c=t<0?p[~t]:p[t];return t<0?(c=c.slice(0,s===0?c.length:c.length-1)).reverse():s&&(c=c.slice(1)),d.concat(c)},[]):M.map(o),e=y.geometries,u=[];for(let M=0,d=e.length;M<d;++M)u.push({type:"Feature",properties:e[M].properties,geometry:{type:e[M].type,coordinates:e[M].coordinates||o(e[M].arcs)}});let m={type:"FeatureCollection",copyright:h.copyright,copyrightShort:h.copyrightShort,copyrightUrl:h.copyrightUrl,features:u,"hc-recommended-mapview":y["hc-recommended-mapview"],bbox:h.bbox,title:h.title};return y["hc-decoded-geojson"]=m,m}function v(h,i){i=z(!0,this.options.credits,i),this.mapCredits&&(i.href=void 0),h.call(this,i),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}E.compose=function(h){let i=h.prototype;i.transformFromLatLon||(i.fromLatLonToPoint=j,i.fromPointToLatLon=l,i.transformFromLatLon=r,i.transformToLatLon=f,k(i,"addCredits",v))},E.geojson=function(h,i="map",y){var u,m;let p=[],o=h.type==="Topology"?P(h):h,e=o.features;for(let M=0,d=e.length;M<d;++M){let t,s=e[M],c=s.geometry||{},a=c.type,n=c.coordinates,g=s.properties;if((i==="map"||i==="mapbubble")&&(a==="Polygon"||a==="MultiPolygon")?n.length&&(t={geometry:{coordinates:n,type:a}}):i==="mapline"&&(a==="LineString"||a==="MultiLineString")?n.length&&(t={geometry:{coordinates:n,type:a}}):i==="mappoint"&&a==="Point"&&n.length&&(t={geometry:{coordinates:n,type:a}}),t){let b=g&&(g.name||g.NAME),x=g&&g.lon,O=g&&g.lat;p.push(w(t,{lat:typeof O=="number"?O:void 0,lon:typeof x=="number"?x:void 0,name:typeof b=="string"?b:void 0,properties:g}))}}return y&&o.copyrightShort&&(y.chart.mapCredits=B((u=y.chart.options.credits)==null?void 0:u.mapText,{geojson:o}),y.chart.mapCreditsFull=B((m=y.chart.options.credits)==null?void 0:m.mapTextFull,{geojson:o})),p},E.topo2geo=P}(T||(T={})),T}),N(C,"Core/Geometry/PolygonClip.js",[],function(){function L(T,S,B=!0){let A=S[S.length-1],w,z,k,E=T;for(let j=0;j<S.length;j++){let l=E;w=S[j],E=[],z=B?l[l.length-1]:l[0];for(let r=0;r<l.length;r++)D(A,w,k=l[r])?(D(A,w,z)||E.push(I(A,w,z,k)),E.push(k)):D(A,w,z)&&E.push(I(A,w,z,k)),z=k;A=w}return E}function D(T,S,B){return(S[0]-T[0])*(B[1]-T[1])>(S[1]-T[1])*(B[0]-T[0])}function I(T,S,B,A){let w=[T[0]-S[0],T[1]-S[1]],z=[B[0]-A[0],B[1]-A[1]],k=T[0]*S[1]-T[1]*S[0],E=B[0]*A[1]-B[1]*A[0],j=1/(w[0]*z[1]-w[1]*z[0]),l=[(k*z[0]-E*w[0])*j,(k*z[1]-E*w[1])*j];return l.isIntersection=!0,l}return{clipLineString:function(T,S){let B=[],A=L(T,S,!1);for(let w=1;w<A.length;w++)A[w].isIntersection&&A[w-1].isIntersection&&(B.push(A.splice(0,w)),w=0),w===A.length-1&&B.push(A);return B},clipPolygon:L}}),N(C,"Maps/Projections/LambertConformalConic.js",[],function(){let L=Math.sign||(S=>S===0?0:S>0?1:-1),D=Math.PI/180,I=Math.PI/2,T=S=>Math.tan((I+S)/2);return class{constructor(S){let B=(S.parallels||[]).map(E=>E*D),A=B[0]||0,w=B[1]??A,z=Math.cos(A);typeof S.projectedBounds=="object"&&(this.projectedBounds=S.projectedBounds);let k=A===w?Math.sin(A):Math.log(z/Math.cos(w))/Math.log(T(w)/T(A));1e-10>Math.abs(k)&&(k=1e-10*(L(k)||1)),this.n=k,this.c=z*Math.pow(T(A),k)/k}forward(S){let{c:B,n:A,projectedBounds:w}=this,z=S[0]*D,k=S[1]*D;B>0?k<-I+1e-6&&(k=-I+1e-6):k>I-1e-6&&(k=I-1e-6);let E=B/Math.pow(T(k),A),j=E*Math.sin(A*z)*63.78137,l=(B-E*Math.cos(A*z))*63.78137,r=[j,l];return w&&(j<w.x1||j>w.x2||l<w.y1||l>w.y2)&&(r.outside=!0),r}inverse(S){let{c:B,n:A}=this,w=S[0]/63.78137,z=B-S[1]/63.78137,k=L(A)*Math.sqrt(w*w+z*z),E=Math.atan2(w,Math.abs(z))*L(z);return z*A<0&&(E-=Math.PI*L(w)*L(z)),[E/A/D,(2*Math.atan(Math.pow(B/k,1/A))-I)/D]}}}),N(C,"Maps/Projections/EqualEarth.js",[],function(){let L=Math.sqrt(3)/2;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(D){let I=Math.PI/180,T=Math.asin(L*Math.sin(D[1]*I)),S=T*T,B=S*S*S;return[D[0]*I*Math.cos(T)*74.03120656864502/(L*(1.340264+-.24331799999999998*S+B*(.0062510000000000005+.034164*S))),74.03120656864502*T*(1.340264+-.081106*S+B*(893e-6+.003796*S))]}inverse(D){let I=D[0]/74.03120656864502,T=D[1]/74.03120656864502,S=180/Math.PI,B=T,A,w,z,k;for(let l=0;l<12&&(w=(A=B*B)*A*A,z=B*(1.340264+-.081106*A+w*(893e-6+.003796*A))-T,B-=k=z/(1.340264+-.24331799999999998*A+w*(.0062510000000000005+.034164*A)),!(1e-9>Math.abs(k)));++l);w=(A=B*B)*A*A;let E=S*L*I*(1.340264+-.24331799999999998*A+w*(.0062510000000000005+.034164*A))/Math.cos(B),j=S*Math.asin(Math.sin(B)/L);return Math.abs(E)>180?[NaN,NaN]:[E,j]}}}),N(C,"Maps/Projections/Miller.js",[],function(){let L=Math.PI/4,D=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(I){return[I[0]*D*63.78137,79.7267125*Math.log(Math.tan(L+.4*I[1]*D))]}inverse(I){return[I[0]/63.78137/D,2.5*(Math.atan(Math.exp(I[1]/63.78137*.8))-L)/D]}}}),N(C,"Maps/Projections/Orthographic.js",[],function(){let L=Math.PI/180;return class{constructor(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(D){let I=D[0],T=D[1]*L,S=[Math.cos(T)*Math.sin(I*L)*63.78460826781007,63.78460826781007*Math.sin(T)];return(I<-90||I>90)&&(S.outside=!0),S}inverse(D){let I=D[0]/63.78460826781007,T=D[1]/63.78460826781007,S=Math.sqrt(I*I+T*T),B=Math.asin(S),A=Math.sin(B);return[Math.atan2(I*A,S*Math.cos(B))/L,Math.asin(S&&T*A/S)/L]}}}),N(C,"Maps/Projections/WebMercator.js",[],function(){let L=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}forward(D){let I=Math.sin(D[1]*L),T=[63.78137*D[0]*L,63.78137*Math.log((1+I)/(1-I))/2];return Math.abs(D[1])>this.maxLatitude&&(T.outside=!0),T}inverse(D){return[D[0]/(63.78137*L),(2*Math.atan(Math.exp(D[1]/63.78137))-Math.PI/2)/L]}}}),N(C,"Maps/Projections/ProjectionRegistry.js",[C["Maps/Projections/LambertConformalConic.js"],C["Maps/Projections/EqualEarth.js"],C["Maps/Projections/Miller.js"],C["Maps/Projections/Orthographic.js"],C["Maps/Projections/WebMercator.js"]],function(L,D,I,T,S){return{EqualEarth:D,LambertConformalConic:L,Miller:I,Orthographic:T,WebMercator:S}}),N(C,"Maps/Projection.js",[C["Core/Geometry/PolygonClip.js"],C["Maps/Projections/ProjectionRegistry.js"],C["Core/Utilities.js"]],function(L,D,I){let{clipLineString:T,clipPolygon:S}=L,{clamp:B,erase:A}=I,w=2*Math.PI/360;function z(E){return E<-180&&(E+=360),E>180&&(E-=360),E}class k{static add(j,l){k.registry[j]=l}static greatCircle(j,l,r){let{atan2:f,cos:P,sin:v,sqrt:h}=Math,i=j[1]*w,y=j[0]*w,p=l[1]*w,o=l[0]*w,e=p-i,u=o-y,m=v(e/2)*v(e/2)+P(i)*P(p)*v(u/2)*v(u/2),M=2*f(h(m),h(1-m)),d=Math.round(6371e3*M/5e5),t=[];if(r&&t.push(j),d>1){let s=1/d;for(let c=s;c<.999;c+=s){let a=v((1-c)*M)/v(M),n=v(c*M)/v(M),g=a*P(i)*P(y)+n*P(p)*P(o),b=a*P(i)*v(y)+n*P(p)*v(o),x=f(a*v(i)+n*v(p),h(g*g+b*b)),O=f(b,g);t.push([O/w,x/w])}}return r&&t.push(l),t}static insertGreatCircles(j){let l=j.length-1;for(;l--;)if(Math.max(Math.abs(j[l][0]-j[l+1][0]),Math.abs(j[l][1]-j[l+1][1]))>10){let r=k.greatCircle(j[l],j[l+1]);r.length&&j.splice(l+1,0,...r)}}static toString(j){let{name:l,rotation:r}=j||{};return[l,r&&r.join(",")].join(";")}constructor(j={}){this.hasCoordinates=!1,this.hasGeoProjection=!1,this.maxLatitude=90,this.options=j;let{name:l,projectedBounds:r,rotation:f}=j;this.rotator=f?this.getRotator(f):void 0;let P=l?k.registry[l]:void 0;P&&(this.def=new P(j));let{def:v,rotator:h}=this;v&&(this.maxLatitude=v.maxLatitude||90,this.hasGeoProjection=!0),h&&v?(this.forward=i=>v.forward(h.forward(i)),this.inverse=i=>h.inverse(v.inverse(i))):v?(this.forward=i=>v.forward(i),this.inverse=i=>v.inverse(i)):h&&(this.forward=h.forward,this.inverse=h.inverse),this.bounds=r==="world"?v&&v.bounds:r}lineIntersectsBounds(j){let{x1:l,x2:r,y1:f,y2:P}=this.bounds||{},v=(y,p,o)=>{let[e,u]=y,m=p?0:1;if(typeof o=="number"&&e[p]>=o!=u[p]>=o){let M=(o-e[p])/(u[p]-e[p]),d=e[m]+M*(u[m]-e[m]);return p?[d,o]:[o,d]}},h,i=j[0];return((h=v(j,0,l))||(h=v(j,0,r)))&&(i=h,j[1]=h),((h=v(j,1,f))||(h=v(j,1,P)))&&(i=h),i}getRotator(j){let l=j[0]*w,r=(j[1]||0)*w,f=(j[2]||0)*w,P=Math.cos(r),v=Math.sin(r),h=Math.cos(f),i=Math.sin(f);if(l!==0||r!==0||f!==0)return{forward:y=>{let p=y[0]*w+l,o=y[1]*w,e=Math.cos(o),u=Math.cos(p)*e,m=Math.sin(p)*e,M=Math.sin(o),d=M*P+u*v;return[Math.atan2(m*h-d*i,u*P-M*v)/w,Math.asin(d*h+m*i)/w]},inverse:y=>{let p=y[0]*w,o=y[1]*w,e=Math.cos(o),u=Math.cos(p)*e,m=Math.sin(p)*e,M=Math.sin(o),d=M*h-m*i;return[(Math.atan2(m*h+M*i,u*P+d*v)-l)/w,Math.asin(d*P-u*v)/w]}}}forward(j){return j}inverse(j){return j}cutOnAntimeridian(j,l){let r,f=[],P=[j];for(let v=0,h=j.length;v<h;++v){let i=j[v],y=j[v-1];if(!v){if(!l)continue;y=j[j.length-1]}let p=y[0],o=i[0];if((p<-90||p>90)&&(o<-90||o>90)&&p>0!=o>0){let e=B((180-(p+360)%360)/((o+360)%360-(p+360)%360),0,1),u=y[1]+e*(i[1]-y[1]);f.push({i:v,lat:u,direction:p<0?1:-1,previousLonLat:y,lonLat:i})}}if(f.length)if(l){f.length%2==1&&(r=f.slice().sort((h,i)=>Math.abs(i.lat)-Math.abs(h.lat))[0],A(f,r));let v=f.length-2;for(;v>=0;){let h=f[v].i,i=z(180+1e-6*f[v].direction),y=z(180-1e-6*f[v].direction),p=j.splice(h,f[v+1].i-h,...k.greatCircle([i,f[v].lat],[i,f[v+1].lat],!0));p.push(...k.greatCircle([y,f[v+1].lat],[y,f[v].lat],!0)),P.push(p),v-=2}if(r)for(let h=0;h<P.length;h++){let{direction:i,lat:y}=r,p=P[h],o=p.indexOf(r.lonLat);if(o>-1){let e=(y<0?-1:1)*this.maxLatitude,u=z(180+1e-6*i),m=z(180-1e-6*i),M=k.greatCircle([u,y],[u,e],!0);for(let d=u+120*i;d>-180&&d<180;d+=120*i)M.push([d,e]);M.push(...k.greatCircle([m,e],[m,r.lat],!0)),p.splice(o,0,...M);break}}}else{let v=f.length;for(;v--;){let h=f[v].i,i=j.splice(h,j.length,[z(180+1e-6*f[v].direction),f[v].lat]);i.unshift([z(180-1e-6*f[v].direction),f[v].lat]),P.push(i)}}return P}path(j){let l,{bounds:r,def:f,rotator:P}=this,v=[],h=j.type==="Polygon"||j.type==="MultiPolygon",i=this.hasGeoProjection,y=!f||f.antimeridianCutting!==!1,p=y?P:void 0,o=y&&f||this;r&&(l=[[r.x1,r.y1],[r.x2,r.y1],[r.x2,r.y2],[r.x1,r.y2]]);let e=u=>{let m=u.map(d=>{if(y){p&&(d=p.forward(d));let t=d[0];1e-6>Math.abs(t-180)&&(t=t<180?179.999999:180.000001),d=[t,d[1]]}return d}),M=[m];i&&(k.insertGreatCircles(m),y&&(M=this.cutOnAntimeridian(m,h))),M.forEach(d=>{let t,s;if(d.length<2)return;let c=!1,a=!1,n=O=>{c?v.push(["L",O[0],O[1]]):(v.push(["M",O[0],O[1]]),c=!0)},g=!1,b=!1,x=d.map(O=>{let V=o.forward(O);return V.outside?g=!0:b=!0,V[1]===1/0?V[1]=1e10:V[1]===-1/0&&(V[1]=-1e10),V});if(y){if(h&&x.push(x[0]),g){if(!b)return;if(l){if(h)x=S(x,l);else if(r){T(x,l).forEach(O=>{c=!1,O.forEach(n)});return}}}x.forEach(n)}else for(let O=0;O<x.length;O++){let V=d[O],U=x[O];U.outside?a=!0:(h&&!t&&(t=V,d.push(V),x.push(U)),a&&s&&(h&&i?k.greatCircle(s,V).forEach(X=>n(o.forward(X))):c=!1),n(U),s=V,a=!1)}})};return j.type==="LineString"?e(j.coordinates):j.type==="MultiLineString"?j.coordinates.forEach(u=>e(u)):j.type==="Polygon"?(j.coordinates.forEach(u=>e(u)),v.length&&v.push(["Z"])):j.type==="MultiPolygon"&&(j.coordinates.forEach(u=>{u.forEach(m=>e(m))}),v.length&&v.push(["Z"])),v}}return k.registry=D,k}),N(C,"Maps/MapView.js",[C["Core/Globals.js"],C["Maps/MapViewDefaults.js"],C["Maps/GeoJSONComposition.js"],C["Maps/MapUtilities.js"],C["Maps/Projection.js"],C["Core/Utilities.js"]],function(L,D,I,T,S,B){let{composed:A}=L,{topo2geo:w}=I,{boundsFromPath:z,pointInPolygon:k}=T,{addEvent:E,clamp:j,fireEvent:l,isArray:r,isNumber:f,isObject:P,isString:v,merge:h,pick:i,pushUnique:y,relativeLength:p}=B,o={};function e(d,t){let{width:s,height:c}=t;return Math.log(400.979322/Math.max((d.x2-d.x1)/(s/256),(d.y2-d.y1)/(c/256)))/Math.log(2)}function u(d){var t,s;d.seriesOptions.mapData&&((s=this.mapView)==null||s.recommendMapView(this,[this.options.chart.map,d.seriesOptions.mapData],(t=this.options.drilldown)==null?void 0:t.mapZooming))}class m{static compose(t){y(A,"MapView")&&(o=t.maps,E(t,"afterInit",function(){this.mapView=new m(this,this.options.mapView)},{order:0}),E(t,"addSeriesAsDrilldown",u),E(t,"afterDrillUp",u))}static compositeBounds(t){if(t.length)return t.slice(1).reduce((s,c)=>(s.x1=Math.min(s.x1,c.x1),s.y1=Math.min(s.y1,c.y1),s.x2=Math.max(s.x2,c.x2),s.y2=Math.max(s.y2,c.y2),s),h(t[0]))}static mergeInsets(t,s){let c=n=>{let g={};return n.forEach((b,x)=>{g[b&&b.id||`i${x}`]=b}),g},a=h(c(t),c(s));return Object.keys(a).map(n=>a[n])}constructor(t,s){var g;this.allowTransformAnimation=!0,this.eventsToUnbind=[],this.insets=[],this.padding=[0,0,0,0],this.recommendedMapView={},this instanceof M||this.recommendMapView(t,[t.options.chart.map,...(t.options.series||[]).map(b=>b.mapData)]),this.userOptions=s||{};let c=h(D,this.recommendedMapView,s),a=(g=this.recommendedMapView)==null?void 0:g.insets,n=s&&s.insets;a&&n&&(c.insets=m.mergeInsets(a,n)),this.chart=t,this.center=c.center,this.options=c,this.projection=new S(c.projection),this.playingField=t.plotBox,this.zoom=c.zoom||0,this.minZoom=c.minZoom,this.createInsets(),this.eventsToUnbind.push(E(t,"afterSetChartSize",()=>{this.playingField=this.getField(),(this.minZoom===void 0||this.minZoom===this.zoom)&&(this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&f(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&h(!0,this.center,this.userOptions.center))})),this.setUpEvents()}createInsets(){let t=this.options,s=t.insets;s&&s.forEach(c=>{let a=new M(this,h(t.insetOptions,c));this.insets.push(a)})}fitToBounds(t,s,c=!0,a){let n=t||this.getProjectedBounds();if(n){let g=i(s,t?0:this.options.padding),b=this.getField(!1),x=r(g)?g:[g,g,g,g];this.padding=[p(x[0],b.height),p(x[1],b.width),p(x[2],b.height),p(x[3],b.width)],this.playingField=this.getField();let O=e(n,this.playingField);t||(this.minZoom=O);let V=this.projection.inverse([(n.x2+n.x1)/2,(n.y2+n.y1)/2]);this.setView(V,O,c,a)}}getField(t=!0){let s=t?this.padding:[0,0,0,0];return{x:s[3],y:s[0],width:this.chart.plotWidth-s[1]-s[3],height:this.chart.plotHeight-s[0]-s[2]}}getGeoMap(t){if(v(t))return o[t]&&o[t].type==="Topology"?w(o[t]):o[t];if(P(t,!0)){if(t.type==="FeatureCollection")return t;if(t.type==="Topology")return w(t)}}getMapBBox(){let t=this.getProjectedBounds(),s=this.getScale();if(t){let c=this.padding,a=this.projectedUnitsToPixels({x:t.x1,y:t.y2});return{width:(t.x2-t.x1)*s+c[1]+c[3],height:(t.y2-t.y1)*s+c[0]+c[2],x:a.x-c[3],y:a.y-c[0]}}}getProjectedBounds(){let t=this.projection,s=this.chart.series.reduce((a,n)=>{let g=n.getProjectedBounds&&n.getProjectedBounds();return g&&n.options.affectsMapView!==!1&&a.push(g),a},[]),c=this.options.fitToGeometry;if(c){if(!this.fitToGeometryCache)if(c.type==="MultiPoint"){let a=c.coordinates.map(b=>t.forward(b)),n=a.map(b=>b[0]),g=a.map(b=>b[1]);this.fitToGeometryCache={x1:Math.min.apply(0,n),x2:Math.max.apply(0,n),y1:Math.min.apply(0,g),y2:Math.max.apply(0,g)}}else this.fitToGeometryCache=z(t.path(c));return this.fitToGeometryCache}return this.projection.bounds||m.compositeBounds(s)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){let{x:t,y:s,width:c,height:a}=this.playingField,n=this.projection.forward(this.center),g=this.projection.hasCoordinates?-1:1,b=this.getScale(),x=b*g,O=t+c/2-n[0]*b,V=s+a/2-n[1]*x;return{scaleX:b,scaleY:x,translateX:O,translateY:V}}lonLatToPixels(t){let s=this.lonLatToProjectedUnits(t);if(s)return this.projectedUnitsToPixels(s)}lonLatToProjectedUnits(t){let s=this.chart,c=s.mapTransforms;if(c){for(let n in c)if(Object.hasOwnProperty.call(c,n)&&c[n].hitZone){let g=s.transformFromLatLon(t,c[n]);if(g&&k(g,c[n].hitZone.coordinates[0]))return g}return s.transformFromLatLon(t,c.default)}for(let n of this.insets)if(n.options.geoBounds&&k({x:t.lon,y:t.lat},n.options.geoBounds.coordinates[0])){let g=n.projection.forward([t.lon,t.lat]),b=n.projectedUnitsToPixels({x:g[0],y:g[1]});return this.pixelsToProjectedUnits(b)}let a=this.projection.forward([t.lon,t.lat]);if(!a.outside)return{x:a[0],y:a[1]}}projectedUnitsToLonLat(t){let s=this.chart,c=s.mapTransforms;if(c){for(let g in c)if(Object.hasOwnProperty.call(c,g)&&c[g].hitZone&&k(t,c[g].hitZone.coordinates[0]))return s.transformToLatLon(t,c[g]);return s.transformToLatLon(t,c.default)}let a=this.projectedUnitsToPixels(t);for(let g of this.insets)if(g.hitZone&&k(a,g.hitZone.coordinates[0])){let b=g.pixelsToProjectedUnits(a),x=g.projection.inverse([b.x,b.y]);return{lon:x[0],lat:x[1]}}let n=this.projection.inverse([t.x,t.y]);return{lon:n[0],lat:n[1]}}recommendMapView(t,s,c=!1){var b;this.recommendedMapView={};let a=s.map(x=>this.getGeoMap(x)),n=[];a.forEach(x=>{if(x&&(Object.keys(this.recommendedMapView).length||(this.recommendedMapView=x["hc-recommended-mapview"]||{}),x.bbox)){let[O,V,U,X]=x.bbox;n.push({x1:O,y1:V,x2:U,y2:X})}});let g=n.length&&m.compositeBounds(n);l(this,"onRecommendMapView",{geoBounds:g,chart:t},function(){if(g&&this.recommendedMapView){if(!this.recommendedMapView.projection){let{x1:x,y1:O,x2:V,y2:U}=g;this.recommendedMapView.projection=V-x>180&&U-O>90?{name:"EqualEarth",parallels:[0,0],rotation:[0]}:{name:"LambertConformalConic",parallels:[O,U],rotation:[-(x+V)/2]}}this.recommendedMapView.insets||(this.recommendedMapView.insets=void 0)}}),this.geoMap=a[0],c&&t.hasRendered&&!((b=t.userOptions.mapView)!=null&&b.projection)&&this.recommendedMapView&&this.update(this.recommendedMapView)}redraw(t){this.chart.series.forEach(s=>{s.useMapGeometry&&(s.isDirty=!0)}),this.chart.redraw(t)}setView(t,s,c=!0,a){t&&(this.center=t),typeof s=="number"&&(typeof this.minZoom=="number"&&(s=Math.max(s,this.minZoom)),typeof this.options.maxZoom=="number"&&(s=Math.min(s,this.options.maxZoom)),f(s)&&(this.zoom=s));let n=this.getProjectedBounds();if(n){let g=this.projection.forward(this.center),{x:b,y:x,width:O,height:V}=this.playingField,U=this.getScale(),X=this.projectedUnitsToPixels({x:n.x1,y:n.y1}),H=this.projectedUnitsToPixels({x:n.x2,y:n.y2}),F=[(n.x1+n.x2)/2,(n.y1+n.y2)/2];if(!this.chart.series.some(R=>R.isDrilling)){let R=X.x,Z=H.y,q=H.x,W=X.y;q-R<O?g[0]=F[0]:R<b&&q<b+O?g[0]+=Math.max(R-b,q-O-b)/U:q>b+O&&R>b&&(g[0]+=Math.min(q-O-b,R-b)/U),W-Z<V?g[1]=F[1]:Z<x&&W<x+V?g[1]-=Math.max(Z-x,W-V-x)/U:W>x+V&&Z>x&&(g[1]-=Math.min(W-V-x,Z-x)/U),this.center=this.projection.inverse(g)}this.insets.forEach(R=>{R.options.field&&(R.hitZone=R.getHitZone(),R.playingField=R.getField())}),this.render()}l(this,"afterSetView"),c&&this.redraw(a)}projectedUnitsToPixels(t){let s=this.getScale(),c=this.projection.forward(this.center),a=this.playingField,n=a.x+a.width/2,g=a.y+a.height/2;return{x:n-s*(c[0]-t.x),y:g+s*(c[1]-t.y)}}pixelsToLonLat(t){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(t))}pixelsToProjectedUnits(t){let{x:s,y:c}=t,a=this.getScale(),n=this.projection.forward(this.center),g=this.playingField,b=g.x+g.width/2,x=g.y+g.height/2;return{x:n[0]+(s-b)/a,y:n[1]-(c-x)/a}}setUpEvents(){let t,s,c,{chart:a}=this,n=g=>{let{lastTouches:b,pinchDown:x}=a.pointer,O=this.projection,V=g.touches,{mouseDownX:U,mouseDownY:X}=a,H=0;if((x==null?void 0:x.length)===1?(U=x[0].chartX,X=x[0].chartY):(x==null?void 0:x.length)===2&&(U=(x[0].chartX+x[1].chartX)/2,X=(x[0].chartY+x[1].chartY)/2),(V==null?void 0:V.length)===2&&b&&(H=Math.log(Math.sqrt(Math.pow(b[0].chartX-b[1].chartX,2)+Math.pow(b[0].chartY-b[1].chartY,2))/Math.sqrt(Math.pow(V[0].chartX-V[1].chartX,2)+Math.pow(V[0].chartY-V[1].chartY,2)))/Math.log(.5)),f(U)&&f(X)){let F=`${U},${X}`,{chartX:R,chartY:Z}=g.originalEvent;(V==null?void 0:V.length)===2&&(R=(V[0].chartX+V[1].chartX)/2,Z=(V[0].chartY+V[1].chartY)/2),F!==s&&(s=F,t=this.projection.forward(this.center),c=(this.projection.options.rotation||[0,0]).slice());let q=O.def&&O.def.bounds,W=q&&e(q,this.playingField)||-1/0;if(O.options.name==="Orthographic"&&2>((V==null?void 0:V.length)||0)&&(this.minZoom||1/0)<1.3*W){let G=440/(this.getScale()*Math.min(a.plotWidth,a.plotHeight));if(c){let Y=(U-R)*G-c[0],K=j(-c[1]-(X-Z)*G,-80,80),$=this.zoom;this.update({projection:{rotation:[-Y,-K]}},!1),this.fitToBounds(void 0,void 0,!1),this.zoom=$,a.redraw(!1)}}else if(f(R)&&f(Z)){let G=this.getScale(),Y=this.projection.hasCoordinates?1:-1,K=this.projection.inverse([t[0]+(U-R)/G,t[1]-(X-Z)/G*Y]);isNaN(K[0]+K[1])||this.zoomBy(H,K,void 0,!1)}g.preventDefault()}};E(a,"pan",n),E(a,"touchpan",n),E(a,"selection",g=>{if(g.resetSelection)this.zoomBy();else{let b=g.x-a.plotLeft,x=g.y-a.plotTop,{y:O,x:V}=this.pixelsToProjectedUnits({x:b,y:x}),{y:U,x:X}=this.pixelsToProjectedUnits({x:b+g.width,y:x+g.height});this.fitToBounds({x1:V,y1:O,x2:X,y2:U},void 0,!0,!g.originalEvent.touches&&void 0),/^touch/.test(g.originalEvent.type)||a.showResetZoom(),g.preventDefault()}})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(t,s=!0,c){let a=t.projection,n=a&&S.toString(a)!==S.toString(this.options.projection),g=!1;h(!0,this.userOptions,t),h(!0,this.options,t),"insets"in t&&(this.insets.forEach(b=>b.destroy()),this.insets.length=0,g=!0),(n||"fitToGeometry"in t)&&delete this.fitToGeometryCache,(n||g)&&(this.chart.series.forEach(b=>{let x=b.transformGroups;if(b.clearBounds&&b.clearBounds(),b.isDirty=!0,b.isDirtyData=!0,g&&x)for(;x.length>1;){let O=x.pop();O&&O.destroy()}}),n&&(this.projection=new S(this.options.projection)),g&&this.createInsets(),!t.center&&Object.hasOwnProperty.call(t,"zoom")&&!f(t.zoom)&&this.fitToBounds(void 0,void 0,!1)),t.center||f(t.zoom)?this.setView(this.options.center,t.zoom,!1):"fitToGeometry"in t&&this.fitToBounds(void 0,void 0,!1),s&&this.chart.redraw(c)}zoomBy(t,s,c,a){let n=this.chart,g=this.projection.forward(this.center);if(typeof t=="number"){let b,x,O,V=this.zoom+t;if(c){let[U,X]=c,H=this.getScale(),F=U-n.plotLeft-n.plotWidth/2,R=X-n.plotTop-n.plotHeight/2;x=g[0]+F/H,O=g[1]+R/H}if(typeof x=="number"&&typeof O=="number"){let U=1-Math.pow(2,this.zoom)/Math.pow(2,V),X=g[0]-x,H=g[1]-O;g[0]-=X*U,g[1]+=H*U,b=this.projection.inverse(g)}this.setView(s||b,V,void 0,a)}else this.fitToBounds(void 0,void 0,void 0,a)}}class M extends m{constructor(t,s){if(super(t.chart,s),this.id=s.id,this.mapView=t,this.options=h({center:[0,0]},t.options.insetOptions,s),this.allBounds=[],this.options.geoBounds){let c=t.projection.path(this.options.geoBounds);this.geoBoundsProjectedBox=z(c),this.geoBoundsProjectedPolygon=c.map(a=>[a[1]||0,a[2]||0])}}getField(t=!0){let s=this.hitZone;if(s){let c=t?this.padding:[0,0,0,0],a=s.coordinates[0],n=a.map(U=>U[0]),g=a.map(U=>U[1]),b=Math.min.apply(0,n)+c[3],x=Math.max.apply(0,n)-c[1],O=Math.min.apply(0,g)+c[0],V=Math.max.apply(0,g)-c[2];if(f(b)&&f(O))return{x:b,y:O,width:x-b,height:V-O}}return super.getField.call(this,t)}getHitZone(){let{chart:t,mapView:s,options:c}=this,{coordinates:a}=c.field||{};if(a){let n=a[0];if(c.units==="percent"){let g=c.relativeTo==="mapBoundingBox"&&s.getMapBBox()||h(t.plotBox,{x:0,y:0});n=n.map(b=>[p(`${b[0]}%`,g.width,g.x),p(`${b[1]}%`,g.height,g.y)])}return{type:"Polygon",coordinates:[n]}}}getProjectedBounds(){return m.compositeBounds(this.allBounds)}isInside(t){let{geoBoundsProjectedBox:s,geoBoundsProjectedPolygon:c}=this;return!!(s&&t.x>=s.x1&&t.x<=s.x2&&t.y>=s.y1&&t.y<=s.y2&&c&&k(t,c))}render(){let{chart:t,mapView:s,options:c}=this,a=c.borderPath||c.field;if(a&&s.group){let n=!0;this.border||(this.border=t.renderer.path().addClass("highcharts-mapview-inset-border").add(s.group),n=!1),t.styledMode||this.border.attr({stroke:c.borderColor,"stroke-width":c.borderWidth});let g=Math.round(this.border.strokeWidth())%2/2,b=c.relativeTo==="mapBoundingBox"&&s.getMapBBox()||s.playingField,x=(a.coordinates||[]).reduce((O,V)=>V.reduce((U,X,H)=>{let[F,R]=X;return c.units==="percent"&&(F=t.plotLeft+p(`${F}%`,b.width,b.x),R=t.plotTop+p(`${R}%`,b.height,b.y)),F=Math.floor(F)+g,R=Math.floor(R)+g,U.push(H===0?["M",F,R]:["L",F,R]),U},O),[]);this.border[n?"animate":"attr"]({d:x})}}destroy(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(t=>t())}setUpEvents(){}}return m}),N(C,"Series/Map/MapSeries.js",[C["Core/Animation/AnimationUtilities.js"],C["Series/ColorMapComposition.js"],C["Series/CenteredUtilities.js"],C["Core/Globals.js"],C["Core/Chart/MapChart.js"],C["Series/Map/MapPoint.js"],C["Series/Map/MapSeriesDefaults.js"],C["Maps/MapView.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D,I,T,S,B,A,w,z,k){let{animObject:E,stop:j}=L,{noop:l}=T,{splitPath:r}=S,{column:f,scatter:P}=z.seriesTypes,{extend:v,find:h,fireEvent:i,getNestedProperty:y,isArray:p,defined:o,isNumber:e,isObject:u,merge:m,objectEach:M,pick:d,splat:t}=k;class s extends P{constructor(){super(...arguments),this.processedData=[]}animate(a){let{chart:n,group:g}=this,b=E(this.options.animation);a?g.attr({translateX:n.plotLeft+n.plotWidth/2,translateY:n.plotTop+n.plotHeight/2,scaleX:.001,scaleY:.001}):g.animate({translateX:n.plotLeft,translateY:n.plotTop,scaleX:1,scaleY:1},b)}clearBounds(){this.points.forEach(a=>{delete a.bounds,delete a.insetIndex,delete a.projectedPath}),delete this.bounds}doFullTranslate(){return!!(this.isDirtyData||this.chart.isResizing||!this.hasRendered)}drawMapDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){let a=this,{chart:n,group:g,transformGroups:b=[]}=this,{mapView:x,renderer:O}=n;if(x){this.transformGroups=b,b[0]||(b[0]=O.g().add(g));for(let V=0,U=x.insets.length;V<U;++V)b[V+1]||b.push(O.g().add(g));this.doFullTranslate()&&(this.points.forEach(V=>{let{graphic:U}=V;V.group=b[typeof V.insetIndex=="number"?V.insetIndex+1:0],U&&U.parentGroup!==V.group&&U.add(V.group)}),f.prototype.drawPoints.apply(this),this.points.forEach(V=>{let U=V.graphic;if(U){let X=U.animate,H="";V.name&&(H+="highcharts-name-"+V.name.replace(/ /g,"-").toLowerCase()),V.properties&&V.properties["hc-key"]&&(H+=" highcharts-key-"+V.properties["hc-key"].toString().toLowerCase()),H&&U.addClass(H),n.styledMode&&U.css(this.pointAttribs(V,V.selected&&"select"||void 0)),U.attr({visibility:!V.visible&&(V.visible||V.isNull)?"hidden":"inherit"}),U.animate=function(F,R,Z){let q=e(F["stroke-width"])&&!e(U["stroke-width"]),W=e(U["stroke-width"])&&!e(F["stroke-width"]);if(q||W){let G=d(a.getStrokeWidth(a.options),1)/(n.mapView&&n.mapView.getScale()||1);q&&(U["stroke-width"]=G),W&&(F["stroke-width"]=G)}return X.call(U,F,R,W?function(){U.element.removeAttribute("stroke-width"),delete U["stroke-width"],Z&&Z.apply(this,arguments)}:Z)}}})),b.forEach((V,U)=>{let X=(U===0?x:x.insets[U-1]).getSVGTransform(),H=d(this.getStrokeWidth(this.options),1),F=X.scaleX,R=X.scaleY>0?1:-1,Z=q=>{(a.points||[]).forEach(W=>{let G,Y=W.graphic;Y&&Y["stroke-width"]&&(G=this.getStrokeWidth(W.options))&&Y.attr({"stroke-width":G/q})})};if(O.globalAnimation&&n.hasRendered&&x.allowTransformAnimation){let q=Number(V.attr("translateX")),W=Number(V.attr("translateY")),G=Number(V.attr("scaleX")),Y=(J,se)=>{let ie=G+(F-G)*se.pos;V.attr({translateX:q+(X.translateX-q)*se.pos,translateY:W+(X.translateY-W)*se.pos,scaleX:ie,scaleY:ie*R,"stroke-width":H/ie}),Z(ie)},K=m(E(O.globalAnimation)),$=K.step;K.step=function(){$&&$.apply(this,arguments),Y.apply(this,arguments)},V.attr({animator:0}).animate({animator:1},K,(function(){typeof O.globalAnimation!="boolean"&&O.globalAnimation.complete&&O.globalAnimation.complete({applyDrilldown:!0}),i(this,"mapZoomComplete")}).bind(this))}else j(V),V.attr(m(X,{"stroke-width":H/F})),Z(F)}),this.isDrilling||this.drawMapDataLabels()}}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){let{insets:a,projection:n}=this.chart.mapView,g=[];(this.points||[]).forEach(b=>{if(b.path||b.geometry){if(typeof b.path=="string"?b.path=r(b.path):p(b.path)&&b.path[0]==="M"&&(b.path=this.chart.renderer.pathToSegments(b.path)),!b.bounds){let x=b.getProjectedBounds(n);if(x){b.labelrank=d(b.labelrank,(x.x2-x.x1)*(x.y2-x.y1));let{midX:O,midY:V}=x;if(a&&e(O)&&e(V)){let U=h(a,X=>X.isInside({x:O,y:V}));U&&(delete b.projectedPath,(x=b.getProjectedBounds(U.projection))&&U.allBounds.push(x),b.insetIndex=a.indexOf(U))}b.bounds=x}}b.bounds&&b.insetIndex===void 0&&g.push(b.bounds)}}),this.bounds=w.compositeBounds(g)}return this.bounds}getStrokeWidth(a){let n=this.pointAttrToOptions;return a[n&&n["stroke-width"]||"borderWidth"]}hasData(){return!!this.processedXData.length}pointAttribs(a,n){let{mapView:g,styledMode:b}=a.series.chart,x=b?this.colorAttribs(a):f.prototype.pointAttribs.call(this,a,n),O=this.getStrokeWidth(a.options);if(n){let U=m(this.options.states&&this.options.states[n],a.options.states&&a.options.states[n]||{}),X=this.getStrokeWidth(U);o(X)&&(O=X),x.stroke=U.borderColor??a.color}O&&g&&(O/=g.getScale());let V=this.getStrokeWidth(this.options);return x.dashstyle&&g&&e(V)&&(O=V/g.getScale()),a.visible||(x.fill=this.options.nullColor),o(O)?x["stroke-width"]=O:delete x["stroke-width"],x["stroke-linecap"]=x["stroke-linejoin"]=this.options.linecap,x}updateData(){return!this.processedData&&super.updateData.apply(this,arguments)}setData(a,n=!0,g,b){delete this.bounds,super.setData(a,!1,void 0,b),this.processData(),this.generatePoints(),n&&this.chart.redraw(g)}processData(){let a,n,g,b=this.options,x=b.data,O=this.chart,V=O.options.chart,U=this.joinBy,X=b.keys||this.pointArrayMap,H=[],F={},R=this.chart.mapView,Z=R&&(u(b.mapData,!0)?R.getGeoMap(b.mapData):R.geoMap),q=O.mapTransforms=V.mapTransforms||Z&&Z["hc-transform"]||O.mapTransforms;q&&M(q,G=>{G.rotation&&(G.cosAngle=Math.cos(G.rotation),G.sinAngle=Math.sin(G.rotation))}),p(b.mapData)?g=b.mapData:Z&&Z.type==="FeatureCollection"&&(this.mapTitle=Z.title,g=T.geojson(Z,this.type,this)),this.processedData=[];let W=this.processedData;if(x){let G;for(let Y=0,K=x.length;Y<K;++Y){if(e(G=x[Y]))W[Y]={value:G};else if(p(G)){let $=0;W[Y]={},!b.keys&&G.length>X.length&&typeof G[0]=="string"&&(W[Y]["hc-key"]=G[0],++$);for(let J=0;J<X.length;++J,++$)X[J]&&G[$]!==void 0&&(X[J].indexOf(".")>0?B.prototype.setNestedProperty(W[Y],G[$],X[J]):W[Y][X[J]]=G[$])}else W[Y]=x[Y];U&&U[0]==="_i"&&(W[Y]._i=Y)}}if(g){this.mapData=g,this.mapMap={};for(let G=0;G<g.length;G++)n=(a=g[G]).properties,a._i=G,U[0]&&n&&n[U[0]]&&(a[U[0]]=n[U[0]]),F[a[U[0]]]=a;if(this.mapMap=F,U[1]){let G=U[1];W.forEach(Y=>{let K=y(G,Y);F[K]&&H.push(F[K])})}if(b.allAreas){if(U[1]){let Y=U[1];W.forEach(K=>{H.push(y(Y,K))})}let G="|"+H.map(function(Y){return Y&&Y[U[0]]}).join("|")+"|";g.forEach(Y=>{U[0]&&G.indexOf("|"+Y[U[0]]+"|")!==-1||W.push(m(Y,{value:null}))})}}this.processedXData=Array(W.length)}setOptions(a){let n=super.setOptions(a),g=n.joinBy;return n.joinBy===null&&(g="_i"),(g=this.joinBy=t(g))[1]||(g[1]=g[0]),n}translate(){let a=this.doFullTranslate(),n=this.chart.mapView,g=n&&n.projection;if(this.chart.hasRendered&&(this.isDirtyData||!this.hasRendered)&&(this.processData(),this.generatePoints(),delete this.bounds,!n||n.userOptions.center||e(n.userOptions.zoom)||n.zoom!==n.minZoom?this.getProjectedBounds():n.fitToBounds(void 0,void 0,!1)),n){let b=n.getSVGTransform();this.points.forEach(x=>{let O=e(x.insetIndex)&&n.insets[x.insetIndex].getSVGTransform()||b;O&&x.bounds&&e(x.bounds.midX)&&e(x.bounds.midY)&&(x.plotX=x.bounds.midX*O.scaleX+O.translateX,x.plotY=x.bounds.midY*O.scaleY+O.translateY),a&&(x.shapeType="path",x.shapeArgs={d:B.getProjectedPath(x,g)}),x.hiddenInDataClass||(x.projectedPath&&!x.projectedPath.length?x.setVisible(!1):x.visible||x.setVisible(!0))})}i(this,"afterTranslate")}update(a){var n;a.mapData&&((n=this.chart.mapView)==null||n.recommendMapView(this.chart,[this.chart.options.chart.map,...(this.chart.options.series||[]).map((g,b)=>b===this._i?a.mapData:g.mapData)],!0)),super.update.apply(this,arguments)}}return s.defaultOptions=m(P.defaultOptions,A),v(s.prototype,{type:"map",axisTypes:D.seriesMembers.axisTypes,colorAttribs:D.seriesMembers.colorAttribs,colorKey:D.seriesMembers.colorKey,directTouch:!0,drawDataLabels:l,drawGraph:l,forceDL:!0,getCenter:I.getCenter,getExtremesFromAll:!0,getSymbol:l,isCartesian:!1,parallelArrays:D.seriesMembers.parallelArrays,pointArrayMap:D.seriesMembers.pointArrayMap,pointClass:B,preserveAspectRatio:!0,searchPoint:l,trackerGroups:D.seriesMembers.trackerGroups,useMapGeometry:!0}),D.compose(s),z.registerSeriesType("map",s),s}),N(C,"Series/MapLine/MapLineSeriesDefaults.js",[],function(){return{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}}),N(C,"Series/MapLine/MapLineSeries.js",[C["Series/MapLine/MapLineSeriesDefaults.js"],C["Series/Map/MapSeries.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D,I,T){let{extend:S,merge:B}=T;class A extends D{pointAttribs(z,k){let E=super.pointAttribs(z,k);return E.fill=this.options.fillColor,E}}return A.defaultOptions=B(D.defaultOptions,L),S(A.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),I.registerSeriesType("mapline",A),A}),N(C,"Series/MapPoint/MapPointPoint.js",[C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D){let{scatter:I}=L.seriesTypes,{isNumber:T}=D;class S extends I.prototype.pointClass{isValid(){return!!(this.options.geometry||T(this.x)&&T(this.y)||T(this.options.lon)&&T(this.options.lat))}}return S}),N(C,"Series/MapPoint/MapPointSeriesDefaults.js",[],function(){return{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}}),N(C,"Series/MapPoint/MapPointSeries.js",[C["Core/Globals.js"],C["Series/MapPoint/MapPointPoint.js"],C["Series/MapPoint/MapPointSeriesDefaults.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Renderer/SVG/SVGRenderer.js"],C["Core/Utilities.js"]],function(L,D,I,T,S,B){let{noop:A}=L,{map:w,scatter:z}=T.seriesTypes,{extend:k,fireEvent:E,isNumber:j,merge:l}=B;class r extends z{constructor(){super(...arguments),this.clearBounds=w.prototype.clearBounds}drawDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(P){let v=this.chart.mapView;if(v){let{geometry:h,lon:i,lat:y}=P,p=h&&h.type==="Point"&&h.coordinates;if(j(i)&&j(y)&&(p=[i,y]),p)return v.lonLatToProjectedUnits({lon:p[0],lat:p[1]})}}translate(){let P=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),P){let v=P.getSVGTransform(),{hasCoordinates:h}=P.projection;this.points.forEach(i=>{let y,{x:p,y:o}=i,e=j(i.insetIndex)&&P.insets[i.insetIndex].getSVGTransform()||v,u=this.projectPoint(i.options)||i.properties&&this.projectPoint(i.properties);if(u?(p=u.x,o=u.y):i.bounds&&(p=i.bounds.midX,o=i.bounds.midY,e&&j(p)&&j(o)&&(i.plotX=p*e.scaleX+e.translateX,i.plotY=o*e.scaleY+e.translateY,y=!0)),j(p)&&j(o)){if(!y){let m=P.projectedUnitsToPixels({x:p,y:o});i.plotX=m.x,i.plotY=h?m.y:this.chart.plotHeight-m.y}}else i.y=i.plotX=i.plotY=void 0;i.isInside=this.isPointInside(i),i.zone=this.zones.length?i.getZone():void 0})}E(this,"afterTranslate")}}return r.defaultOptions=l(z.defaultOptions,I),S.prototype.symbols.mapmarker=(f,P,v,h,i)=>{let y,p,o=i&&i.context==="legend";o?(y=f+v/2,p=P+h):i&&typeof i.anchorX=="number"&&typeof i.anchorY=="number"?(y=i.anchorX,p=i.anchorY):(y=f+v/2,p=P+h/2,P-=h);let e=o?h/3:h/2;return[["M",y,p],["C",y,p,y-e,P+1.5*e,y-e,P+e],["A",e,e,1,1,1,y+e,P+e],["C",y+e,P+1.5*e,y,p,y,p],["Z"]]},k(r.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:D,searchPoint:A,useMapGeometry:!0}),T.registerSeriesType("mappoint",r),r}),N(C,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),N(C,"Series/Bubble/BubbleLegendItem.js",[C["Core/Color/Color.js"],C["Core/Templating.js"],C["Core/Globals.js"],C["Core/Utilities.js"]],function(L,D,I,T){let{parse:S}=L,{noop:B}=I,{arrayMax:A,arrayMin:w,isNumber:z,merge:k,pick:E,stableSort:j}=T;return class{constructor(l,r){this.setState=B,this.init(l,r)}init(l,r){this.options=l,this.visible=!0,this.chart=r.chart,this.legend=r}addToLegend(l){l.splice(this.options.legendIndex,0,this)}drawLegendSymbol(l){let r,f=E(l.options.itemDistance,20),P=this.legendItem||{},v=this.options,h=v.ranges,i=v.connectorDistance;if(!h||!h.length||!z(h[0].value)){l.options.bubbleLegend.autoRanges=!0;return}j(h,function(e,u){return u.value-e.value}),this.ranges=h,this.setOptions(),this.render();let y=this.getMaxLabelSize(),p=this.ranges[0].radius,o=2*p;r=(r=i-p+y.width)>0?r:0,this.maxLabel=y,this.movementX=v.labels.align==="left"?r:0,P.labelWidth=o+r+f,P.labelHeight=o+y.height/2}setOptions(){let l=this.ranges,r=this.options,f=this.chart.series[r.seriesIndex],P=this.legend.baseline,v={zIndex:r.zIndex,"stroke-width":r.borderWidth},h={zIndex:r.zIndex,"stroke-width":r.connectorWidth},i={align:this.legend.options.rtl||r.labels.align==="left"?"right":"left",zIndex:r.zIndex},y=f.options.marker.fillOpacity,p=this.chart.styledMode;l.forEach(function(o,e){p||(v.stroke=E(o.borderColor,r.borderColor,f.color),v.fill=E(o.color,r.color,y!==1?S(f.color).setOpacity(y).get("rgba"):f.color),h.stroke=E(o.connectorColor,r.connectorColor,f.color)),l[e].radius=this.getRangeRadius(o.value),l[e]=k(l[e],{center:l[0].radius-l[e].radius+P}),p||k(!0,l[e],{bubbleAttribs:k(v),connectorAttribs:k(h),labelAttribs:i})},this)}getRangeRadius(l){let r=this.options,f=this.options.seriesIndex,P=this.chart.series[f],v=r.ranges[0].value,h=r.ranges[r.ranges.length-1].value,i=r.minSize,y=r.maxSize;return P.getRadius.call(this,h,v,i,y,l)}render(){let l=this.legendItem||{},r=this.chart.renderer,f=this.options.zThreshold;for(let P of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),l.symbol=r.g("bubble-legend"),l.label=r.g("bubble-legend-item").css(this.legend.itemStyle||{}),l.symbol.translateX=0,l.symbol.translateY=0,l.symbol.add(l.label),l.label.add(l.group),this.ranges))P.value>=f&&this.renderRange(P);this.hideOverlappingLabels()}renderRange(l){let r=this.ranges[0],f=this.legend,P=this.options,v=P.labels,h=this.chart,i=h.series[P.seriesIndex],y=h.renderer,p=this.symbols,o=p.labels,e=l.center,u=Math.abs(l.radius),m=P.connectorDistance||0,M=v.align,d=f.options.rtl,t=P.borderWidth,s=P.connectorWidth,c=r.radius||0,a=e-u-t/2+s/2,n=(a%1?1:.5)-(s%2?0:.5),g=y.styledMode,b=d||M==="left"?-m:m;M==="center"&&(b=0,P.connectorDistance=0,l.labelAttribs.align="center"),p.bubbleItems.push(y.circle(c,e+n,u).attr(g?{}:l.bubbleAttribs).addClass((g?"highcharts-color-"+i.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(P.className||"")).add(this.legendItem.symbol)),p.connectors.push(y.path(y.crispLine([["M",c,a],["L",c+b,a]],P.connectorWidth)).attr(g?{}:l.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(P.connectorClassName||"")).add(this.legendItem.symbol));let x=y.text(this.formatLabel(l)).attr(g?{}:l.labelAttribs).css(g?{}:v.style).addClass("highcharts-bubble-legend-labels "+(P.labels.className||"")).add(this.legendItem.symbol),O={x:c+b+P.labels.x,y:a+P.labels.y+.4*x.getBBox().height};x.attr(O),o.push(x),x.placed=!0,x.alignAttr=O}getMaxLabelSize(){let l,r;return this.symbols.labels.forEach(function(f){r=f.getBBox(!0),l=l?r.width>l.width?r:l:r}),l||{}}formatLabel(l){let r=this.options,f=r.labels.formatter,P=r.labels.format,{numberFormatter:v}=this.chart;return P?D.format(P,l):f?f.call(l):v(l.value,1)}hideOverlappingLabels(){let l=this.chart,r=this.options.labels.allowOverlap,f=this.symbols;!r&&f&&(l.hideOverlappingLabels(f.labels),f.labels.forEach(function(P,v){P.newOpacity?P.newOpacity!==P.oldOpacity&&f.connectors[v].show():f.connectors[v].hide()}))}getRanges(){let l=this.legend.bubbleLegend,r=l.chart.series,f=l.options.ranges,P,v,h=Number.MAX_VALUE,i=-Number.MAX_VALUE;return r.forEach(function(y){y.isBubble&&!y.ignoreSeries&&(v=y.zData.filter(z)).length&&(h=E(y.options.zMin,Math.min(h,Math.max(w(v),y.options.displayNegative===!1?y.options.zThreshold:-Number.MAX_VALUE))),i=E(y.options.zMax,Math.max(i,A(v))))}),P=h===i?[{value:i}]:[{value:h},{value:(h+i)/2},{value:i,autoRanges:!0}],f.length&&f[0].radius&&P.reverse(),P.forEach(function(y,p){f&&f[p]&&(P[p]=k(f[p],y))}),P}predictBubbleSizes(){let l=this.chart,r=l.legend.options,f=r.floating,P=r.layout==="horizontal",v=P?l.legend.lastLineHeight:0,h=l.plotSizeX,i=l.plotSizeY,y=l.series[this.options.seriesIndex],p=y.getPxExtremes(),o=Math.ceil(p.minPxSize),e=Math.ceil(p.maxPxSize),u,m=y.options.maxSize;return f||!/%$/.test(m)?u=e:(u=(Math.min(i,h)+v)*(m=parseFloat(m))/100/(m/100+1),(P&&i-u>=h||!P&&h-u>=i)&&(u=e)),[o,Math.ceil(u)]}updateRanges(l,r){let f=this.legend.options.bubbleLegend;f.minSize=l,f.maxSize=r,f.ranges=this.getRanges()}correctSizes(){let l=this.legend,r=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(r.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,r.maxPxSize),l.render())}}}),N(C,"Series/Bubble/BubbleLegendComposition.js",[C["Series/Bubble/BubbleLegendDefaults.js"],C["Series/Bubble/BubbleLegendItem.js"],C["Core/Defaults.js"],C["Core/Globals.js"],C["Core/Utilities.js"]],function(L,D,I,T,S){let{setOptions:B}=I,{composed:A}=T,{addEvent:w,objectEach:z,pushUnique:k,wrap:E}=S;function j(h,i,y){let p,o,e,u=this.legend,m=l(this)>=0;u&&u.options.enabled&&u.bubbleLegend&&u.options.bubbleLegend.autoRanges&&m?(p=u.bubbleLegend.options,o=u.bubbleLegend.predictBubbleSizes(),u.bubbleLegend.updateRanges(o[0],o[1]),p.placed||(u.group.placed=!1,u.allItems.forEach(M=>{(e=M.legendItem||{}).group&&(e.group.translateY=void 0)})),u.render(),p.placed||(this.getMargins(),this.axes.forEach(function(M){M.visible&&M.render(),p.placed||(M.setScale(),M.updateNames(),z(M.ticks,function(d){d.isNew=!0,d.isNewLabel=!0}))}),this.getMargins()),p.placed=!0,h.call(this,i,y),u.bubbleLegend.correctSizes(),v(u,r(u))):(h.call(this,i,y),u&&u.options.enabled&&u.bubbleLegend&&(u.render(),v(u,r(u))))}function l(h){let i=h.series,y=0;for(;y<i.length;){if(i[y]&&i[y].isBubble&&i[y].visible&&i[y].zData.length)return y;y++}return-1}function r(h){let i=h.allItems,y=[],p=i.length,o,e,u,m=0,M=0;for(m=0;m<p;m++)if(e=i[m].legendItem||{},u=(i[m+1]||{}).legendItem||{},e.labelHeight&&(i[m].itemHeight=e.labelHeight),i[m]===i[p-1]||e.y!==u.y){for(y.push({height:0}),o=y[y.length-1];M<=m;M++)i[M].itemHeight>o.height&&(o.height=i[M].itemHeight);o.step=m}return y}function f(h){let i=this.bubbleLegend,y=this.options,p=y.bubbleLegend,o=l(this.chart);i&&i.ranges&&i.ranges.length&&(p.ranges.length&&(p.autoRanges=!!p.ranges[0].autoRanges),this.destroyItem(i)),o>=0&&y.enabled&&p.enabled&&(p.seriesIndex=o,this.bubbleLegend=new D(p,this),this.bubbleLegend.addToLegend(h.allItems))}function P(h){let i;if(h.defaultPrevented)return!1;let y=this.chart,p=this.visible,o=this.chart.legend;o&&o.bubbleLegend&&(this.visible=!p,this.ignoreSeries=p,i=l(y)>=0,o.bubbleLegend.visible!==i&&(o.update({bubbleLegend:{enabled:i}}),o.bubbleLegend.visible=i),this.visible=p)}function v(h,i){let y=h.allItems,p=h.options.rtl,o,e,u,m,M=0;y.forEach((d,t)=>{(m=d.legendItem||{}).group&&(o=m.group.translateX||0,e=m.y||0,((u=d.movementX)||p&&d.ranges)&&(u=p?o-d.options.maxSize/2:o+u,m.group.attr({translateX:u})),t>i[M].step&&M++,m.group.attr({translateY:Math.round(e+i[M].height/2)}),m.y=e+i[M].height/2)})}return{compose:function(h,i,y){k(A,"Series.BubbleLegend")&&(B({legend:{bubbleLegend:L}}),E(h.prototype,"drawChartBox",j),w(i,"afterGetAllItems",f),w(y,"legendItemClick",P))}}}),N(C,"Series/Bubble/BubblePoint.js",[C["Core/Series/Point.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D,I){let{seriesTypes:{scatter:{prototype:{pointClass:T}}}}=D,{extend:S}=I;class B extends T{haloPath(w){return L.prototype.haloPath.call(this,w===0?0:(this.marker&&this.marker.radius||0)+w)}}return S(B.prototype,{ttBelow:!1}),B}),N(C,"Series/Bubble/BubbleSeries.js",[C["Series/Bubble/BubbleLegendComposition.js"],C["Series/Bubble/BubblePoint.js"],C["Core/Color/Color.js"],C["Core/Globals.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D,I,T,S,B){let{parse:A}=I,{composed:w,noop:z}=T,{series:k,seriesTypes:{column:{prototype:E},scatter:j}}=S,{addEvent:l,arrayMax:r,arrayMin:f,clamp:P,extend:v,isNumber:h,merge:i,pick:y,pushUnique:p}=B;function o(){let u=this.len,{coll:m,isXAxis:M,min:d}=this,t=M?"xData":"yData",s=(this.max||0)-(d||0),c=0,a=u,n=u/s,g;(m==="xAxis"||m==="yAxis")&&(this.series.forEach(b=>{if(b.bubblePadding&&b.reserveSpace()){this.allowZoomOutside=!0,g=!0;let x=b[t];if(M&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii)),s>0){let O=x.length;for(;O--;)if(h(x[O])&&this.dataMin<=x[O]&&x[O]<=this.max){let V=b.radii&&b.radii[O]||0;c=Math.min((x[O]-d)*n-V,c),a=Math.max((x[O]-d)*n+V,a)}}}}),g&&s>0&&!this.logarithmic&&(a-=u,n*=(u+Math.max(0,c)-Math.min(a,u))/u,[["min","userMin",c],["max","userMax",a]].forEach(b=>{y(this.options[b[0]],this[b[1]])===void 0&&(this[b[0]]+=b[2]/n)})))}class e extends j{static compose(m,M,d,t){L.compose(M,d,t),p(w,"Series.Bubble")&&l(m,"foundExtremes",o)}animate(m){!m&&this.points.length<this.options.animationLimit&&this.points.forEach(function(M){let{graphic:d}=M;d&&d.width&&(this.hasRendered||d.attr({x:M.plotX,y:M.plotY,width:1,height:1}),d.animate(this.markerAttribs(M),this.options.animation))},this)}getRadii(){let m=this.zData,M=this.yData,d=[],t,s,c,a=this.chart.bubbleZExtremes,{minPxSize:n,maxPxSize:g}=this.getPxExtremes();if(!a){let b,x=Number.MAX_VALUE,O=-Number.MAX_VALUE;this.chart.series.forEach(V=>{if(V.bubblePadding&&V.reserveSpace()){let U=(V.onPoint||V).getZExtremes();U&&(x=Math.min(y(x,U.zMin),U.zMin),O=Math.max(y(O,U.zMax),U.zMax),b=!0)}}),b?(a={zMin:x,zMax:O},this.chart.bubbleZExtremes=a):a={zMin:0,zMax:0}}for(s=0,t=m.length;s<t;s++)c=m[s],d.push(this.getRadius(a.zMin,a.zMax,n,g,c,M&&M[s]));this.radii=d}getRadius(m,M,d,t,s,c){let a=this.options,n=a.sizeBy!=="width",g=a.zThreshold,b=M-m,x=.5;if(c===null||s===null)return null;if(h(s)){if(a.sizeByAbsoluteValue&&(s=Math.abs(s-g),M=b=Math.max(M-g,Math.abs(m-g)),m=0),s<m)return d/2-1;b>0&&(x=(s-m)/b)}return n&&x>=0&&(x=Math.sqrt(x)),Math.ceil(d+x*(t-d))/2}hasData(){return!!this.processedXData.length}pointAttribs(m,M){let d=this.options.marker.fillOpacity,t=k.prototype.pointAttribs.call(this,m,M);return d!==1&&(t.fill=A(t.fill).setOpacity(d).get("rgba")),t}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:m,options:M,radii:d}=this,{minPxSize:t}=this.getPxExtremes(),s=m.length;for(;s--;){let c=m[s],a=d?d[s]:0;this.zoneAxis==="z"&&(c.negative=(c.z||0)<(M.zThreshold||0)),h(a)&&a>=t/2?(c.marker=v(c.marker,{radius:a,width:2*a,height:2*a}),c.dlBox={x:c.plotX-a,y:c.plotY-a,width:2*a,height:2*a}):(c.shapeArgs=c.plotY=c.dlBox=void 0,c.isInside=!1)}}getPxExtremes(){let m=Math.min(this.chart.plotWidth,this.chart.plotHeight),M=s=>{let c;return typeof s=="string"&&(c=/%$/.test(s),s=parseInt(s,10)),c?m*s/100:s},d=M(y(this.options.minSize,8)),t=Math.max(M(y(this.options.maxSize,"20%")),d);return{minPxSize:d,maxPxSize:t}}getZExtremes(){let m=this.options,M=(this.zData||[]).filter(h);if(M.length){let d=y(m.zMin,P(f(M),m.displayNegative===!1?m.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),t=y(m.zMax,r(M));if(h(d)&&h(t))return{zMin:d,zMax:t}}}}return e.defaultOptions=i(j.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:u}=this.series.chart,{z:m}=this.point;return h(m)?u(m,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),v(e.prototype,{alignDataLabel:E.alignDataLabel,applyZones:z,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:D,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),l(e,"updatedData",u=>{delete u.target.chart.bubbleZExtremes}),l(e,"remove",u=>{delete u.target.chart.bubbleZExtremes}),S.registerSeriesType("bubble",e),e}),N(C,"Series/MapBubble/MapBubblePoint.js",[C["Series/Bubble/BubblePoint.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D,I){let{seriesTypes:{map:{prototype:{pointClass:{prototype:T}}}}}=D,{extend:S}=I;class B extends L{isValid(){return typeof this.z=="number"}}return S(B.prototype,{applyOptions:T.applyOptions,getProjectedBounds:T.getProjectedBounds}),B}),N(C,"Series/MapBubble/MapBubbleSeries.js",[C["Series/Bubble/BubbleSeries.js"],C["Series/MapBubble/MapBubblePoint.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D,I,T){let{seriesTypes:{map:{prototype:S},mappoint:{prototype:B}}}=I,{extend:A,merge:w}=T;class z extends L{constructor(){super(...arguments),this.clearBounds=S.clearBounds}searchPoint(E,j){return this.searchKDTree({plotX:E.chartX-this.chart.plotLeft,plotY:E.chartY-this.chart.plotTop},j,E)}translate(){B.translate.call(this),this.getRadii(),this.translateBubble()}updateParallelArrays(E,j,l){super.updateParallelArrays.call(this,E,j,l);let r=this.processedXData,f=this.xData;r&&f&&(r.length=f.length)}}return z.defaultOptions=w(L.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),A(z.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:S.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:D,processData:S.processData,projectPoint:B.projectPoint,kdAxisArray:["plotX","plotY"],setData:S.setData,setOptions:S.setOptions,updateData:S.updateData,useMapGeometry:!0,xyFromShape:!0}),I.registerSeriesType("mapbubble",z),z}),N(C,"Series/Heatmap/HeatmapPoint.js",[C["Core/Series/SeriesRegistry.js"],C["Core/Utilities.js"]],function(L,D){let{scatter:{prototype:{pointClass:I}}}=L.seriesTypes,{clamp:T,defined:S,extend:B,pick:A}=D;class w extends I{applyOptions(k,E){return(this.isNull||this.value===null)&&delete this.color,super.applyOptions(k,E),this.formatPrefix=this.isNull||this.value===null?"null":"point",this}getCellAttributes(){let k=this.series,E=k.options,j=(E.colsize||1)/2,l=(E.rowsize||1)/2,r=k.xAxis,f=k.yAxis,P=this.options.marker||k.options.marker,v=k.pointPlacementToXValue(),h=A(this.pointPadding,E.pointPadding,0),i={x1:T(Math.round(r.len-r.translate(this.x-j,!1,!0,!1,!0,-v)),-r.len,2*r.len),x2:T(Math.round(r.len-r.translate(this.x+j,!1,!0,!1,!0,-v)),-r.len,2*r.len),y1:T(Math.round(f.translate(this.y-l,!1,!0,!1,!0)),-f.len,2*f.len),y2:T(Math.round(f.translate(this.y+l,!1,!0,!1,!0)),-f.len,2*f.len)};for(let y of[["width","x"],["height","y"]]){let p=y[0],o=y[1],e=o+"1",u=o+"2",m=Math.abs(i[e]-i[u]),M=P&&P.lineWidth||0,d=Math.abs(i[e]+i[u])/2,t=P&&P[p];if(S(t)&&t<m){let s=t/2+M/2;i[e]=d-s,i[u]=d+s}h&&((o==="x"&&r.reversed||o==="y"&&!f.reversed)&&(e=u,u=o+"1"),i[e]+=h,i[u]-=h)}return i}haloPath(k){if(!k)return[];let{x:E=0,y:j=0,width:l=0,height:r=0}=this.shapeArgs||{};return[["M",E-k,j-k],["L",E-k,j+r+k],["L",E+l+k,j+r+k],["L",E+l+k,j-k],["Z"]]}isValid(){return this.value!==1/0&&this.value!==-1/0}}return B(w.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),w}),N(C,"Series/Heatmap/HeatmapSeriesDefaults.js",[C["Core/Utilities.js"]],function(L){let{isNumber:D}=L;return{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){let{numberFormatter:I}=this.series.chart,{value:T}=this.point;return D(T)?I(T,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}}),N(C,"Series/InterpolationUtilities.js",[C["Core/Globals.js"],C["Core/Utilities.js"]],function(L,D){let{doc:I}=L,{defined:T,pick:S}=D;return{colorFromPoint:function(B,A){let w=A.series.colorAxis;if(w){let z=w.toColor(B||0,A).split(")")[0].split("(")[1].split(",").map(k=>S(parseFloat(k),parseInt(k,10)));return z[3]=255*S(z[3],1),T(B)&&A.visible||(z[3]=0),z}return[0,0,0,0]},getContext:function(B){let{canvas:A,context:w}=B;return A&&w?(w.clearRect(0,0,A.width,A.height),w):(B.canvas=I.createElement("canvas"),B.context=B.canvas.getContext("2d",{willReadFrequently:!0})||void 0,B.context)}}}),N(C,"Series/Heatmap/HeatmapSeries.js",[C["Core/Color/Color.js"],C["Series/ColorMapComposition.js"],C["Series/Heatmap/HeatmapPoint.js"],C["Series/Heatmap/HeatmapSeriesDefaults.js"],C["Core/Series/SeriesRegistry.js"],C["Core/Renderer/SVG/SVGRenderer.js"],C["Core/Utilities.js"],C["Series/InterpolationUtilities.js"]],function(L,D,I,T,S,B,A,w){let{series:z,seriesTypes:{column:k,scatter:E}}=S,{prototype:{symbols:j}}=B,{addEvent:l,extend:r,fireEvent:f,isNumber:P,merge:v,pick:h}=A,{colorFromPoint:i,getContext:y}=w;class p extends E{constructor(){super(...arguments),this.valueMax=NaN,this.valueMin=NaN,this.isDirtyCanvas=!0}drawPoints(){let e=this,u=e.options,m=u.interpolation,M=u.marker||{};if(m){let{image:d,chart:t,xAxis:s,yAxis:c}=e,{reversed:a=!1,len:n}=s,{reversed:g=!1,len:b}=c,x={width:n,height:b};if(!d||e.isDirtyData||e.isDirtyCanvas){let O=y(e),{canvas:V,options:{colsize:U=1,rowsize:X=1},points:H,points:{length:F}}=e,R=t.colorAxis&&t.colorAxis[0];if(V&&O&&R){let{min:Z,max:q}=s.getExtremes(),{min:W,max:G}=c.getExtremes(),Y=q-Z,K=G-W,$=Math.round(Y/U/8*8),J=Math.round(K/X/8*8),[se,ie]=[[$,$/Y,a,"ceil"],[J,J/K,!g,"floor"]].map(([ee,Q,ne,oe])=>ne?le=>Math[oe](ee-Q*le):le=>Math[oe](Q*le)),re=V.width=$+1,ae=re*(V.height=J+1),ce=(F-1)/ae,he=new Uint8ClampedArray(4*ae),ue=(ee,Q)=>4*Math.ceil(re*ie(Q-W)+se(ee-Z));e.buildKDTree();for(let ee=0;ee<ae;ee++){let Q=H[Math.ceil(ce*ee)],{x:ne,y:oe}=Q;he.set(i(Q.value,Q),ue(ne,oe))}O.putImageData(new ImageData(he,re),0,0),d?d.attr({...x,href:V.toDataURL("image/png",1)}):(e.directTouch=!1,e.image=t.renderer.image(V.toDataURL("image/png",1)).attr(x).add(e.group))}e.isDirtyCanvas=!1}else(d.width!==n||d.height!==b)&&d.attr(x)}else(M.enabled||e._hasPointMarkers)&&(z.prototype.drawPoints.call(e),e.points.forEach(d=>{d.graphic&&(d.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(d)),d.value===null&&d.graphic.addClass("highcharts-null-point"))}))}getExtremes(){let{dataMin:e,dataMax:u}=z.prototype.getExtremes.call(this,this.valueData);return P(e)&&(this.valueMin=e),P(u)&&(this.valueMax=u),z.prototype.getExtremes.call(this)}getValidPoints(e,u){return z.prototype.getValidPoints.call(this,e,u,!0)}hasData(){return!!this.processedXData.length}init(){super.init.apply(this,arguments);let e=this.options;e.pointRange=h(e.pointRange,e.colsize||1),this.yAxis.axisPointRange=e.rowsize||1,j.ellipse=j.circle,e.marker&&P(e.borderRadius)&&(e.marker.r=e.borderRadius)}markerAttribs(e,u){let m=e.shapeArgs||{};if(e.hasImage)return{x:e.plotX,y:e.plotY};if(u&&u!=="normal"){let M=e.options.marker||{},d=this.options.marker||{},t=d.states&&d.states[u]||{},s=M.states&&M.states[u]||{},c=(s.width||t.width||m.width||0)+(s.widthPlus||t.widthPlus||0),a=(s.height||t.height||m.height||0)+(s.heightPlus||t.heightPlus||0);return{x:(m.x||0)+((m.width||0)-c)/2,y:(m.y||0)+((m.height||0)-a)/2,width:c,height:a}}return m}pointAttribs(e,u){let m=z.prototype.pointAttribs.call(this,e,u),M=this.options||{},d=this.chart.options.plotOptions||{},t=d.series||{},s=d.heatmap||{},c=e&&e.options.borderColor||M.borderColor||s.borderColor||t.borderColor,a=e&&e.options.borderWidth||M.borderWidth||s.borderWidth||t.borderWidth||m["stroke-width"];if(m.stroke=e&&e.marker&&e.marker.lineColor||M.marker&&M.marker.lineColor||c||this.color,m["stroke-width"]=a,u&&u!=="normal"){let n=v(M.states&&M.states[u],M.marker&&M.marker.states&&M.marker.states[u],e&&e.options.states&&e.options.states[u]||{});m.fill=n.color||L.parse(m.fill).brighten(n.brightness||0).get(),m.stroke=n.lineColor||m.stroke}return m}translate(){let{borderRadius:e,marker:u}=this.options,m=u&&u.symbol||"rect",M=j[m]?m:"rect",d=["circle","square"].indexOf(M)!==-1;for(let t of(this.generatePoints(),this.points)){let s=t.getCellAttributes(),c=Math.min(s.x1,s.x2),a=Math.min(s.y1,s.y2),n=Math.max(Math.abs(s.x2-s.x1),0),g=Math.max(Math.abs(s.y2-s.y1),0);if(t.hasImage=(t.marker&&t.marker.symbol||m||"").indexOf("url")===0,d){let b=Math.abs(n-g);c=Math.min(s.x1,s.x2)+(n<g?0:b/2),a=Math.min(s.y1,s.y2)+(n<g?b/2:0),n=g=Math.min(n,g)}t.hasImage&&(t.marker={width:n,height:g}),t.plotX=t.clientX=(s.x1+s.x2)/2,t.plotY=(s.y1+s.y2)/2,t.shapeType="path",t.shapeArgs=v(!0,{x:c,y:a,width:n,height:g},{d:j[M](c,a,n,g,{r:P(e)?e:0})})}f(this,"afterTranslate")}}return p.defaultOptions=v(E.defaultOptions,T),l(p,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0,this.drawPoints()}),r(p.prototype,{axisTypes:D.seriesMembers.axisTypes,colorKey:D.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:D.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:I,specialGroup:"group",trackerGroups:D.seriesMembers.trackerGroups,alignDataLabel:k.prototype.alignDataLabel,colorAttribs:D.seriesMembers.colorAttribs,getSymbol:z.prototype.getSymbol}),D.compose(p),S.registerSeriesType("heatmap",p),p}),N(C,"masters/modules/map.src.js",[C["Core/Globals.js"],C["Maps/MapNavigation.js"],C["Series/ColorMapComposition.js"],C["Series/MapBubble/MapBubbleSeries.js"],C["Maps/GeoJSONComposition.js"],C["Core/Chart/MapChart.js"],C["Maps/MapView.js"],C["Maps/Projection.js"]],function(L,D,I,T,S,B,A,w){return L.ColorMapComposition=I,L.MapChart=L.MapChart||B,L.MapNavigation=L.MapNavigation||D,L.MapView=L.MapView||A,L.Projection=L.Projection||w,L.mapChart=L.Map=L.MapChart.mapChart,L.maps=L.MapChart.maps,L.geojson=S.geojson,L.topo2geo=S.topo2geo,S.compose(L.Chart),T.compose(L.Axis,L.Chart,L.Legend,L.Series),D.compose(B,L.Pointer,L.SVGRenderer),A.compose(B),L})})})(pe);var de=pe.exports;const fe=me(de),ye=ge({__proto__:null,default:fe},[de]);export{ye as m};
